[{"title":"Typora+Github+PicGoæ­å»ºä¸ªäººå…è´¹å›¾åºŠ","path":"/2025/06/09/2025/06/Typora-Github-PicGo/","content":"ä¸€ã€é…ç½®GitHub1ã€æ–°å»ºå…¬å¼€ä»“åº“1.1ã€New repository 1.2ã€å®šä¹‰ä»“åº“åç§°ï¼Œè®¾ç½®å…¬å¼€å±æ€§ 2ã€åˆ›å»ºç§äººä»¤ç‰Œï¼ˆtokenï¼‰2.1ã€ä¸ªäººå¤´åƒ â€“ Settings 2.2ã€å·¦ä¾§åˆ—åº•éƒ¨ç‚¹å‡» Developer settings 2.3ã€é€‰æ‹© Generate new token (classic) ä¾æ­¤ç‚¹å‡» Personal access tokens â€“ Tokens(classic) â€“ Generate new token â€“ Generate new token(classic) 2.4ã€å¯†ç éªŒè¯ 2.5ã€åˆ›å»ºä»¤ç‰Œ Noteï¼šæ ‡è®°ä½œç”¨ï¼Œä»»æ„å†™ Token è¿‡æœŸæ—¶é—´ï¼šä¸ºäº†å®‰å…¨æ€§ï¼Œä¸å»ºè®®é€‰æ‹©æ°¸ä¹… è®¿é—®æƒé™ï¼šé€‰æ‹©repoï¼Œå¯¹ç§æœ‰åº“äº«æœ‰å®Œå…¨æ§åˆ¶ 2.6ã€è®°äº‹æœ¬è®°ä¸‹token äºŒã€é…ç½®PicGo1ã€PicGoä¸‹è½½åœ°å€MolunerfinnPicGo ä¾æ®è‡ªèº«çš„æ“ä½œç³»ç»Ÿä¸‹è½½å®‰è£…è½¯ä»¶åŒ… 2ã€å›¾åºŠè®¾ç½® å›¾åºŠè®¾ç½® â€“ GitHub 3ã€å…·ä½“å›¾åºŠå‚æ•°é…ç½® 3.1ã€å›¾åºŠé…ç½®åå½“å‰å›¾åºŠçš„åç§°ï¼Œè‡ªå®šä¹‰ 3.2ã€è®¾å®šä»“åº“å æ ¼å¼ï¼šç”¨æˆ·åä»“åº“å å¯ä»¥é€šè¿‡GitHubä¸Šåˆ›å»ºä»“åº“é¡µçš„åŸŸåå¿«é€Ÿå¾—åˆ° bash # ä¾‹å¦‚æˆ‘è¿™è¾¹çš„ä»“åº“åå°±æ˜¯misakivv/Cloud-Image-Hosting 3.3ã€è®¾å®šåˆ†æ”¯å é»˜è®¤æƒ…å†µä¸‹å‡ä¸º main åˆ†æ”¯ 3.4ã€è®¾å®šTokenä¸Šé¢ ä¸€ã€2.6ã€ä¿å­˜çš„Token 3.5ã€è®¾å®šå­˜å‚¨è·¯å¾„å­˜æ”¾è‡³ Github æŒ‡å®šä»“åº“çš„å“ªä¸ªæ–‡ä»¶å¤¹ä¸‹ å¦‚æœç›´æ¥æ”¾åˆ°ä»“åº“çš„æ ¹ç›®å½•ä¸‹å°±ä¸éœ€è¦å¡«å†™è¿™ä¸€æ  å¦‚æœéœ€è¦æ”¾åˆ°æŸä¸ªç›®å½•ä¸‹ï¼Œæ ¼å¼ï¼š å½“å¡«å†™çš„ç›®å½•ä¸å­˜åœ¨æ—¶ï¼ŒGithubä¼šè‡ªåŠ¨åˆ›å»ºå¯¹åº”ç›®å½• 3.6ã€è®¾å®šè‡ªå®šä¹‰åŸŸå è¿™é‡Œä½¿ç”¨å…è´¹çš„CDNï¼šjsDelivr å®˜ç½‘é“¾æ¥ï¼šjsDelivr - A free, fast, and reliable CDN for JS and open source bash # https://cdn.jsdelivr.net/gh/ï¼šå›ºå®šçš„å‰ç¼€ï¼Œç›¸å½“äºæ›¿æ¢æ‰äº†Githubåœ°å€ä¸­çš„https://github.com/# userï¼šGithubä¸Šçš„ç”¨æˆ·å# repoï¼šä»“åº“å# @versionï¼šç‰ˆæœ¬å·ï¼ˆè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¸ç®¡ï¼‰# fileï¼šæ–‡ä»¶åï¼ˆè¿™é‡Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦åŠ ä¸Šï¼Œå› ä¸ºä¸Šä¼ å®Œå›¾ç‰‡åï¼Œå®ƒä¼šè‡ªåŠ¨å°†ä¸Šä¼ çš„å›¾ç‰‡çš„åå­—ä½œä¸ºå­˜å‚¨çš„æ–‡ä»¶åï¼‰# ä¾‹å¦‚æˆ‘è¿™é‡Œçš„å¡«å†™https://cdn.jsdelivr.net/gh/misakivv/Cloud-Image-Hosting è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœéœ€è¦æŒ‡å®šä¸Šä¼ åˆ°å“ªä¸ªåˆ†æ”¯ï¼Œæ­¤æ—¶éœ€è¦åœ¨è‡ªå®šä¹‰åŸŸååé¢ä½¿ç”¨@ + åˆ†æ”¯åï¼Œå¦‚æœæ˜¯ä»“åº“é»˜è®¤çš„åˆ†æ”¯ï¼Œå¯ä»¥çœç•¥æŒ‡å®šåˆ†æ”¯è¿™ä¸€æ­¥ã€‚ egï¼šæˆ‘éœ€è¦ä¸Šä¼ åˆ° k8s åˆ†æ”¯ä¸Šï¼Œæ­¤æ—¶è‡ªå®šä¹‰åŸŸåå°±å˜æˆäº†ï¼šhttps://cdn.jsdelivr.net/gh/misakivv/Cloud-Image-Hosting@k8s ä¸‰ã€æµ‹è¯•ä¸Šè¿°é…ç½®å®Œæˆåå³å¯ä¸Šä¼ æœ¬åœ°å›¾ç‰‡ç”Ÿæˆå¯¹åº”äº‘ç«¯å¹³å°é“¾æ¥ä½¿ç”¨ 1ã€æœ¬åœ°ä¸Šä¼ å›¾ç‰‡ ä¸Šä¼ åŒº â€“ é€‰æ‹©GitHubå›¾åºŠ â€“ ç‚¹å‡»ä¸Šä¼  2ã€ç›¸å†ŒæŸ¥çœ‹ 3ã€æ—¶é—´æˆ³é‡å‘½å æ·»åŠ æ—¶é—´æˆ³å‘½åé€‰é¡¹å¯ä»¥é¿å…ä¸Šä¼ ç›¸åŒå›¾ç‰‡è¢«è¦†ç›–çš„æƒ…å†µ å››ã€Typoraæ’å…¥å›¾ç‰‡å®ç°è‡ªåŠ¨ä¸Šä¼ è‡³PicGoï¼ˆå¯é€‰ï¼‰ éœ€è¦å°†PicGoå›¾åºŠçš„é“¾æ¥æ ¼å¼æ¢æˆMarkdonwæ ¼å¼æ‰èƒ½å®ç°åŠŸèƒ½ 1ã€æ‰“å¼€ Typora åå¥½è®¾ç½® ctrl + , å¿«æ·é”® 2ã€æ’å…¥å›¾ç‰‡é€‰é¡¹é€‰æ‹©ä¸Šä¼ å›¾ç‰‡ 3ã€ä¸Šä¼ æœåŠ¡è®¾å®š ä¸Šä¼ æœåŠ¡é€‰æ‹© PicGoï¼ˆappï¼‰ PicGo è·¯å¾„ä¸ºå®‰è£… PicGo ç›®å½•","tags":["ä¸»é¢˜è£…ä¿®"],"categories":["è£…ä¿®æ—¥è®°"]},{"title":"Hello World","path":"/2025/06/09/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post$ hexo new My New Post More info: Writing Run server$ hexo server More info: Server Generate static files$ hexo generate More info: Generating Deploy to remote sites$ hexo deploy More info: Deployment","tags":["æ ‡ç­¾äº‘"],"categories":["æµ‹è¯•"]},{"title":"Hexo-Stellarä¸»é¢˜è£…ä¿®æ—¥è®°(ä¸€)","path":"/2025/06/09/2025/06/theme-design1/","content":"å‰è¨€è®°å½•ä¸€ä¸‹è‡ªå·±ä»é»˜è®¤ä¸»é¢˜æ ·å¼åˆ°ç°åœ¨æœ¬ç½‘ç«™çš„æ ·å­ä¸­é—´éƒ½ä¿®æ”¹äº†å“ªäº›åœ°æ–¹ï¼Œä¹Ÿä½œä¸ºå®Œå–„åšå®¢æœŸé—´çš„å¤‡ä»½ã€‚ åšå®¢å¼•ç”¨èµ„æºæœ¬åœ°èµ„æºæ–‡ä»¶å¤¹å°†å¤´åƒã€å›¾æ ‡ã€cssã€jsç­‰æ–‡ä»¶æ”¾åœ¨sourceä¸‹ é™æ€èµ„æºæœ¬åœ°åŒ–æœ‰ä¸¤æ¬¡å‘ç°é€šè¿‡jsdelivrå¼•å…¥çš„é™æ€èµ„æºä¼šå¤±æ•ˆï¼Œä¸ºäº†ç½‘ç«™çš„ç¨³å®šæ€§ï¼Œå†³å®šå°†æ‰€æœ‰é€šè¿‡jsdelivrå¼•å…¥çš„é™æ€èµ„æºä¿å­˜åˆ°æœ¬åœ°ï¼Œé˜²æ­¢å¤±æ•ˆåç½‘ç«™æ— æ³•è®¿é—®ã€‚ å¼•ç”¨è½éœå­¤é¹œå­—ä½“tale/_config.ymlinject: head: - link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css media=print onload=this.media=all #å­—ä½“Copytale/_config.stellar.ymlstyle: font-family: body: LXGW WenKai Screen, sans-serifCopy å¼•ç”¨é¸¿è’™å­—ä½“tale/_config.ymlinject: head: - link rel=preconnect href=https://s1.hdslb.com/ / - link rel=stylesheet href=//s1.hdslb.com/bfs/static/jinkela/long/font/regular.css media=all onload=this.media=all / #é¸¿è’™æ­£å¸¸å­—ä½“ - link rel=stylesheet href=//s1.hdslb.com/bfs/static/jinkela/long/font/medium.css media=all onload=this.media=all / #é¸¿è’™åŠ ç²—å­—ä½“Copytale/_config.stellar.ymlstyle: font-family: body: HarmonyOS_Regular # é¸¿è’™æ­£å¸¸å­—ä½“ #body: HarmonyOS_Regular # é¸¿è’™åŠ ç²—å­—ä½“Copy åšå®¢åŸºæœ¬é…ç½®åŸºæœ¬ä¿¡æ¯tale/_config.yml# Sitetitle: SFZhang #ç½‘ç«™åç§°avatar: /customize/images/sfzhang.jpg #åšå®¢å¤´åƒfavicon: /customize/images/sfzhang.jpg #ç½‘ç«™å›¾æ ‡subtitle: SFZhangs blog | blog.sfzhang.cn #é¼ æ ‡ç§»å…¥ç¿»è½¬æ•ˆæœdescription: ä¸€ä¸ªç§¯æç”Ÿæ´»çš„äººkeywords:author: SFZhang #åšå®¢ä½œè€…language: zh-CN #åšå®¢è¯­è¨€ï¼šenã€zh-CNtimezone: Copy æ˜¾ç¤ºå¯¼èˆªtale/_config.stellar.ymlsidebar: menu: post: [btn.blog](/) wiki: [btn.wiki](/) friends: [å‹é“¾](/) about: [å…³äº](/)Copy å›¾ç‰‡æ”¾å¤§ï¼ˆfancyboxï¼‰å…¶ä¸­selectorè®¾ç½®ä¸ºéœ€è¦æ”¾å¤§å›¾ç‰‡çš„HTMLé€‰æ‹©å™¨ï¼š tale/_config.ymltag_plugins: # % image % image: fancybox: true # true, false parse_markdown: true # æŠŠ markdown æ ¼å¼çš„å›¾ç‰‡è§£ææˆå›¾ç‰‡æ ‡ç­¾######## JS Plugins ########plugins: # https://fancyapps.com/docs/ui/fancybox/ # available for % image xxx % fancybox: enable: true #js: /customize/js/fancybox.umd.js css: /customize/css/fancybox.css js: https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js #css: https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css # å¯ä»¥å¤„ç†è¯„è®ºåŒºçš„å›¾ç‰‡ï¼ˆä¸æ”¯æŒ iframe ç±»è¯„è®ºç³»ç»Ÿï¼‰ä¾‹å¦‚ï¼š # ä½¿ç”¨twikooè¯„è®ºå¯ä»¥å†™: .tk-content img:not([class*=emo]) # ä½¿ç”¨walineè¯„è®ºå¯ä»¥å†™: #waline_container .vcontent img selector: .swiper-slide img, .md-text.content pimg, .md-text.content li img , .wl-content img, .image-bg img # å¤šä¸ªé€‰æ‹©å™¨ç”¨è‹±æ–‡é€—å·éš”å¼€ #selector: .swiper-slide img # å¤šä¸ªé€‰æ‹©å™¨ç”¨è‹±æ–‡é€—å·éš”å¼€Copy ä¾§è¾¹æ ä¾§è¾¹æ åº•éƒ¨æŒ‰é’®tale/_config.stellar.ymlfooter: social: QQ: icon: img src=/customize/svg/contact.svg/ url: https://wpa.qq.com/msgrd?v=3uin=1119716380site=qqmenu=yesjumpflag=1 github: icon: img src=/customize/svg/github.svg/ url: https://github.com/z23654262 #iconfont: # icon: img src=/customize/svg/iconfont.svg/ # url: https://www.iconfont.cn/ unsplash: icon: img src=/customize/svg/unsplash.svg/ url: https://unsplash.com/@z23654262 train: icon: img src=/customize/svg/train.svg/ url: https://unsplash.com/@z23654262 Moon: icon: img id=ThemeM src=/customize/svg/moon.svg/ url: javaScript:void(æ°¸å¤œ); Sun: icon: img id=ThemeL src=/customize/svg/sun.svg/ url: javaScript:void(æ°¸æ˜¼); #AI: # icon: img id=ThemeAI src=/customize/svg/auto.svg/ # url: javaScript:void(è·Ÿéšç³»ç»Ÿ);Copy å°ç»„ä»¶tale/source/_data/widget,ymlwelcome: layout: markdown title: æ¬¢è¿æ¥åˆ°SFZhangçš„çŸ¥è¯†åº“ content: | ä¸ä»¥ç‰©å–œï¼Œä¸ä»¥å·±æ‚² script src=https://v1.hitokoto.cn/?c=iencode=jsselect=%23hitokoto defer=/script pä¸€è¯—ï¼šspan id=hitokoto/span/pyiyan: layout: markdown title: ä¸€è¯— content: | script src=https://v1.hitokoto.cn/?c=iencode=jsselect=%23hitokoto defer=/script pspan id=hitokoto/span/ptimeline: layout: timeline title: ç”Ÿæ´»ç¢ç‰‡ api: https://api.github.com/repos/z23654262/blog-life/issues?per_page=10 # è‹¥ä½ æƒ³é™åˆ¶æ•°é‡ï¼Œåœ¨apié“¾æ¥åé¢åŠ ä¸Š?per_page=1æŒ‡é™åˆ¶ä¸º1æ¡ user: # æ˜¯å¦è¿‡æ»¤åªæ˜¾ç¤ºæŸä¸ªäººå‘å¸ƒçš„å†…å®¹ï¼Œå¦‚æœè¦ç­›é€‰å¤šäººï¼Œç”¨è‹±æ–‡é€—å·éš”å¼€ hide: # title,footer # éšè—æ ‡é¢˜æˆ–åº•éƒ¨ # æ­¤åŠŸèƒ½éœ€è¦ Stellar v1.13.0ghuser: layout: ghuser username: z23654262 # your github login username avatar: true # show avatar or not menu: true # show menu or not#æœç´¢search_blog: layout: search filter: /blog/ # or /posts/ ... placeholder: æ–‡ç« æœç´¢search_all_docs: layout: search filter: /wiki/ placeholder: æ–‡æ¡£ç³»ç»Ÿæœç´¢search_docs: layout: search filter: auto placeholder: æ–‡æ¡£å†…æœç´¢Copy ç”Ÿæ´»ç¢ç‰‡æ·»åŠ é¡µé¢æ·»åŠ é¦–é¡µæŒ‰é’®tale/_config.stellar.ymlpost-index: # è¿‘æœŸå‘å¸ƒ åˆ†ç±» æ ‡ç­¾ å½’æ¡£ and ... ç”Ÿæ´»ç¢ç‰‡: /lifeCopy å¯¼èˆªé«˜äº®é—®é¢˜tale/node_modules/hexo-theme-stellar/layout/_partial/main/navbar/list_post.ejsif (full_url_for(page.path) == full_url_for(obj[key]))Copy ä¿®æ”¹ä¸º tale/node_modules/hexo-theme-stellar/layout/_partial/main/navbar/list_post.ejsif (full_url_for(page.path) == full_url_for(obj[key]) + /index.html)Copy æ–°å»ºgithubä»“åº“å¹¶æ·»åŠ ä¸€æ¡issue ç¼–è¾‘ç”Ÿæ´»ç¢ç‰‡é¡µé¢tale/source/life/index.md---title: menu_id: post #ä¾§è¾¹æ é¦–é¡µé«˜äº®breadcrumb: false # éšè—é¢åŒ…å±‘å¯¼èˆªpost_list: true # æ˜¾ç¤ºé¦–é¡µå¯¼èˆªdate: 2023-10-10 10:34:34---% note color:orange åˆ†äº«è‡ªå·±çš„ç”Ÿæ´»ç¢ç‰‡ï¼ %% timeline api:https://api.github.com/repos/z23654262/blog-life/issues?direction=ascper_page=30 %% endtimeline %Copy é¢„è§ˆç”Ÿæ´»ç¢ç‰‡é¡µé¢ æ·»åŠ è¯„è®ºç³»ç»Ÿgiscusæ–°å¢githubä»“åº“æ–°å¢blog-commentsä»“åº“å¹¶å¼€å¯DiscussionsåŠŸèƒ½å¹¶å‹¾é€‰blog-commentsSettingsFeaturesDiscussionså³å¯ã€‚ ä¿®æ”¹é…ç½®tale/_config.stellar.ymlcomments: service: giscus # giscus # https://giscus.app/zh-CN giscus: data-repo: xxx/xxx # [åœ¨æ­¤è¾“å…¥ä»“åº“] data-repo-id: # [åœ¨æ­¤è¾“å…¥ä»“åº“ ID] data-category: # [åœ¨æ­¤è¾“å…¥åˆ†ç±»å] data-category-id: data-mapping: pathname data-strict: 0 data-reactions-enabled: 1 data-emit-metadata: 0 data-input-position: top # top, bottom data-theme: preferred_color_scheme data-lang: zh-CN data-loading: lazy crossorigin: anonymousCopy æµ‹è¯•giscusè¯„è®ºç³»ç»Ÿåšå®¢å†…è¯„è®ºï¼š githubä»“åº“ä¸­Discussionsï¼š æ·»åŠ walineè¯„è®ºç³»ç»Ÿwalineå®˜æ–¹æ•™ç¨‹ walineç¨‹åºæ‰˜ç®¡äºvercelï¼Œæ•°æ®å­˜å‚¨ä½¿ç”¨learncloudå›½é™…ç‰ˆï¼ŒåŸŸåä½¿ç”¨waline.sfzhang.topäºŒçº§åŸŸå learncloudå›½é™…ç‰ˆè®¾ç½® ç™»å½• æˆ– æ³¨å†Œ LeanCloud å›½é™…ç‰ˆ å¹¶è¿›å…¥ æ§åˆ¶å° ç‚¹å‡»å·¦ä¸Šè§’åˆ›å»ºåº”ç”¨å¹¶èµ·ä¸€ä¸ªä½ å–œæ¬¢çš„åå­— (è¯·é€‰æ‹©å…è´¹çš„å¼€å‘ç‰ˆ) è¿›å…¥åº”ç”¨ï¼Œé€‰æ‹©å·¦ä¸‹è§’çš„ è®¾ç½® åº”ç”¨ Keyã€‚ä½ å¯ä»¥çœ‹åˆ°ä½ çš„ APP ID,APP Key å’Œ Master Keyã€‚è¯·è®°å½•å®ƒä»¬ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚ vercelè®¾ç½® ç‚¹å‡»Vercelï¼Œè·³è½¬è‡³ Vercel è¿›è¡Œ Server ç«¯éƒ¨ç½²ã€‚ï¼ˆå¦‚æœç™»å½•æ— æ³•è®¿é—®githubï¼Œåˆ™ä½¿ç”¨é‚®ç®±ç™»å½•ï¼‰ è·³è½¬åä¼šè‡ªåŠ¨æœºé‡walineä»“åº“è¿›è¡Œåˆå§‹åŒ–ï¼Œåªéœ€è¦å¡«å†™Vercelä»“åº“åç§°å³å¯ã€‚ ç‚¹å‡»é¡¶éƒ¨çš„ Settings - Environment Variables è¿›å…¥ç¯å¢ƒå˜é‡é…ç½®é¡µï¼Œå¹¶é…ç½®ä¸‰ä¸ªç¯å¢ƒå˜é‡ LEAN_ID, LEAN_KEY å’Œ LEAN_MASTER_KEY ã€‚å®ƒä»¬çš„å€¼åˆ†åˆ«å¯¹åº”ä¸Šä¸€æ­¥åœ¨ LeanCloud ä¸­è·å¾—çš„ APP ID, APP KEY, Master Keyã€‚ ç¯å¢ƒå˜é‡é…ç½®å®Œæˆä¹‹åç‚¹å‡»é¡¶éƒ¨çš„ Deployments ç‚¹å‡»é¡¶éƒ¨æœ€æ–°çš„ä¸€æ¬¡éƒ¨ç½²å³ä¾§çš„ Redeploy æŒ‰é’®è¿›è¡Œé‡æ–°éƒ¨ç½²ã€‚è¯¥æ­¥éª¤æ˜¯ä¸ºäº†è®©åˆšæ‰è®¾ç½®çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚ æ­¤æ—¶ä¼šè·³è½¬åˆ° Overview ç•Œé¢å¼€å§‹éƒ¨ç½²ï¼Œç­‰å¾…ç‰‡åˆ»å STATUS ä¼šå˜æˆ Readyã€‚æ­¤æ—¶è¯·ç‚¹å‡» Visit ï¼Œå³å¯è·³è½¬åˆ°éƒ¨ç½²å¥½çš„ç½‘ç«™åœ°å€ï¼Œæ­¤åœ°å€å³ä¸ºä½ çš„æœåŠ¡ç«¯åœ°å€ã€‚ Vercelç»‘å®šåŸŸå ç‚¹å‡»é¡¶éƒ¨çš„ Settings - Domains è¿›å…¥åŸŸåé…ç½®é¡µï¼Œå¹¶è¾“å…¥éœ€è¦ç»‘å®šçš„åŸŸå åœ¨é˜¿é‡Œäº‘å¤„é…ç½®åŸŸåè§£æ åšå®¢é…ç½®æ–‡ä»¶tale/_config.staller.yml######## Comments ########comments: service: waline # beaudar, utterances, giscus, twikoo, waline, artalk # Waline # https://waline.js.org/ waline: js: https://unpkg.com/@waline/client@2.14.1/dist/waline.js css: https://unpkg.com/@waline/client@2.14.1/dist/waline.css # Waline server address url, you should set this to your own link serverURL: https://domain # If false, comment count will only be displayed in post page, not in home page commentCount: true # Pageviews count, Note: You should not enable both `waline.pageview` and `leancloud_visitors`. pageview: false # Custom emoji # emoji: # - https://unpkg.com/@waline/emojis@1.1.0/weibo # - https://unpkg.com/@waline/emojis@1.1.0/alus # - https://unpkg.com/@waline/emojis@1.1.0/bilibili # - https://unpkg.com/@waline/emojis@1.1.0/qq # - https://unpkg.com/@waline/emojis@1.1.0/tieba # - https://unpkg.com/@waline/emojis@1.1.0/tw-emoji # - https://unpkg.com/@waline/emojis@1.1.0/bmoji # è®¾ç½®è‡ªå·±çš„å›¾åºŠæœåŠ¡ï¼Œæ›¿æ¢é»˜è®¤çš„ Base 64 ç¼–ç åµŒå…¥ï¼ˆæœ‰ä½“ç§¯å¤§å°é™åˆ¶ï¼‰ï¼Œåœ¨è¯„è®ºä¸­ä¸Šä¼ å›¾ç‰‡æ›´åŠ æ–¹ä¾¿ # imageUploader: # é€‚é…äº†å…°ç©ºå›¾åºŠV1ã€V2ç‰ˆæœ¬ # ä»¥å…°ç©ºå›¾åºŠV1ä¸ºä¾‹ï¼Œä¸‹åˆ—å¡«å†™å†…å®¹ä¸ºï¼š # fileName: file # tokenName: Authorization # api: https://xxxxxx/api/v1/upload # token: Bearer xxxxxxxxxxxxxx # resp: data.links.url # ä»¥å…°ç©ºå›¾åºŠV2ä¸ºä¾‹ï¼Œä¸‹åˆ—å¡«å†™å†…å®¹ä¸ºï¼š # fileName: image # tokenName: token # api: https://xxxxxx/api/upload # token: xxxxxxxxxxxxxx # resp: data.url # fileName: # æ ¹æ®ç‰ˆæœ¬äºŒé€‰ä¸€ # tokenName: # æ ¹æ®ç‰ˆæœ¬äºŒé€‰ä¸€ # api: # å›¾åºŠ api åœ°å€ # token: # å›¾åºŠéªŒè¯ # resp: # å›¾ç‰‡åœ°å€è¿”å›å€¼çš„å­—æ®µ","tags":["ä¸»é¢˜è£…ä¿®"],"categories":["è£…ä¿®æ—¥è®°"]},{"title":"Hexo-Stellarä¸»é¢˜è£…ä¿®æ—¥è®°(äºŒ)","path":"/2025/06/09/2025/06/theme-design2/","content":"ç»™è¶…é•¿ä»£ç å—å¢åŠ æ»šåŠ¨æ¡#é¦–å…ˆåˆ¤æ–­ä»£ç å—æ˜¯å¦è¿‡é•¿ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è®¾ç½®æœ€å¤§é«˜åº¦å¹¶å¼€å¯æ»šåŠ¨ã€‚ æ–°å»º source/js/adjust-codeblock-height.jsï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š adjust-code-block-height.js document.addEventListener(DOMContentLoaded, function() // é€‰æ‹©æ‰€æœ‰çš„.md-textå…ƒç´  var codeBlocks = document.querySelectorAll(.md-text); // éå†æ¯ä¸ª.md-textå…ƒç´  codeBlocks.forEach(function(block) // æ£€æŸ¥æ˜¯å¦åŒ…å«.highlightç±»çš„å­å…ƒç´ ï¼Œä¸”çˆ¶å…ƒç´ é«˜åº¦è¶…è¿‡500px var highlightBlocks = block.querySelectorAll(.highlight); highlightBlocks.forEach(function(highlightBlock) if (highlightBlock.clientHeight 800) highlightBlock.style.maxHeight = 300px; highlightBlock.style.overflow = auto; ); ); ); ä»¥ä¸Šä»£ç ä»£è¡¨å¦‚æœä»£ç æ¡†é«˜åº¦è¶…è¿‡ 800pxï¼Œåˆ™å¼€å¯æŠ˜å ï¼ŒæŠ˜å æ¡†æœ€å¤§é«˜åº¦ä¸º 300pxã€‚å…¶ä¸­ï¼Œå¯è‡ªè¡Œè®¾ç½®åˆ¤æ–­é˜ˆå€¼ if (highlightBlock.clientHeight 800) ä»¥åŠæŠ˜å åæœ€å¤§é«˜åº¦ highlightBlock.style.maxHeight = 300px;ã€‚ é›ªèŠ±ç‰¹æ•ˆ#ä»£ç æ¥è‡ªè¿™é‡Œã€‚æˆ‘ç¨å¾®åšäº†ä¸€ç‚¹ä¿®æ”¹ï¼Œåšæˆäº†ä¸€ä¸ªæŒ‰é’®å¼•å…¥åˆ°ä¸»é¢˜ä¸­å¹¶ç”¨ localStorage è®°å½•ä¸‹é›ªçŠ¶æ€ï¼Œå¾ˆç®€å•çš„ä»£ç å®Œç¾çš„è§£å†³äº†æˆ‘çš„å¼ºè¿«ç—‡ï½ åšå®¢å·²è¿è¡Œxå¤©xå°æ—¶xåˆ†é’Ÿ#åœ¨ç½‘ç«™é¡µè„šéƒ¨åˆ†æ·»åŠ ä¸€ä¸ªâ€œåšå®¢å·²è¿è¡Œ x å¤© x å°æ—¶ x åˆ†é’Ÿâ€å­—æ ·ï¼Œæ˜¾ç¤ºæ•ˆæœï¼š ![å‹‰å¼ºè¿è¡Œxå¤©xå°æ—¶xåˆ†é’Ÿxç§’](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-16 at 21.51.07@2x-1749438579838-1030.webp)å‹‰å¼ºè¿è¡Œxå¤©xå°æ—¶xåˆ†é’Ÿxç§’ ä»£ç æŠ„è‡ªè¿™é‡Œï¼Œæˆ‘ä¸ºäº†è°ƒæ•´æ ·å¼åŠ äº†ä¸€è¡Œä»£ç  ã€‚åœ¨ _config.stellar.yml é‡Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå…¶ä¸­ span class=runtime ä¸­çš„ç±»å runtime å¯è‡ªè¡Œè®¾ç½®ã€‚ footer: ... content: | # æ”¯æŒ Markdown æ ¼å¼ span id=runtime_span/span script type=text/javascript function show_runtime() window.setTimeout(show_runtime(), 1000); X = new Date(2024/01/01 17:00:00); // ç½‘ç«™å¼€å§‹è¿è¡Œçš„æ—¥æœŸå’Œæ—¶é—´ Y = new Date(); // å½“å‰æ—¥æœŸå’Œæ—¶é—´ T = (Y.getTime() - X.getTime()); // ç½‘ç«™è¿è¡Œçš„æ€»æ¯«ç§’æ•° M = 24 * 60 * 60 * 1000; // ä¸€å¤©çš„æ¯«ç§’æ•° a = T / M; // æ€»å¤©æ•° A = Math.floor(a); // æ€»å¤©æ•°çš„æ•´æ•°éƒ¨åˆ† b = (a - A) * 24; // æ€»å°æ—¶æ•° B = Math.floor(b); // æ€»å°æ—¶æ•°çš„æ•´æ•°éƒ¨åˆ† c = (b - B) * 60; // æ€»åˆ†é’Ÿæ•° C = Math.floor((b - B) * 60); // æ€»åˆ†é’Ÿæ•°çš„æ•´æ•°éƒ¨åˆ† D = Math.floor((c - C) * 60); // æ€»ç§’æ•° runtime_span.innerHTML = â±ï¸å‹‰å¼ºè¿è¡Œ span class=runtime + A + å¤© + B + å°æ—¶ + C + åˆ† + D + ç§’/span; show_runtime(); /script å†åœ¨è‡ªå®šä¹‰çš„ css æ–‡ä»¶é‡Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå…¶ä¸­ color å¯è®¾ç½®ä¸ºä¸»é¢˜è‰² var(--theme-link) æˆ–è‡ªè¡Œè®¾ç½®ï¼š .runtime font-weight: bold; color: #7F84A7; é¡µè„šå¢åŠ çŒ«çŒ«å›¾ç‰‡#æ˜¾ç¤ºæ•ˆæœï¼š ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 19.09.44@2x-1749438579838-1034.webp) é¦–å…ˆï¼Œå¦‚æœæ˜¯ä½¿ç”¨æœ¬åœ°å›¾ç‰‡ï¼Œå°†å›¾ç‰‡ä¸Šä¼ åˆ°ä¸»é¢˜çš„èµ„æºæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ source/asset/posts/keyboard.png ç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶çš„ _config.stellar.yml ä¸­æ·»åŠ ï¼š footer: ... content: | # æ”¯æŒ Markdown æ ¼å¼ img src=/ä½ çš„/å›¾ç‰‡/è·¯å¾„.png alt=æè¿°æ–‡å­— style=float: right; width: 60px; margin-left: 20px; å…¶ä¸­ float: right é™å®šå›¾ç‰‡å³å¯¹é½ï¼Œwidth:60px é™åˆ¶å›¾ç‰‡å¤§å°ï¼Œå¯è‡ªè¡Œè°ƒæ•´ã€‚ å¤–éƒ¨é“¾æ¥åé¢æ˜¾ç¤ºå›¾æ ‡#æ˜¾ç¤ºæ•ˆæœï¼š ![å¤–éƒ¨é“¾æ¥å›¾æ ‡](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-16 at 22.09.38@2x-1749438579838-1038.webp)å¤–éƒ¨é“¾æ¥å›¾æ ‡ æ–¹æ³•ä¸€ï¼š WARNING è€æ–¹æ³•ä¾èµ– cheerio æ¨¡å—ï¼Œå¯è¡Œï¼Œä½†ä¼¼ä¹ä¼šå¸¦æ¥ä¸€äº›ç½‘ç«™åŠ è½½è¿‡æ…¢çš„é—®é¢˜ï¼Œæˆ‘ç°åœ¨å·²ç»å¼€å¿ƒåœ°è½¬ç”¨æ–°æ–¹æ³•äº†ï¼ŒæŠŠè€æ–¹æ³•æ‘†åœ¨è¿™é‡Œå…¨å½“ï¼ˆæ°´ï¼‰è®°ï¼ˆå­—ï¼‰å½•ï¼ˆæ•°ï¼‰ã€‚ æ–°å»º themes/stellar/scripts/filters/link-icon.js æ–‡ä»¶ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼š //ä½¿ç”¨ cheerio æ¨¡å—åœ¨æ–‡ç« ä¸­çš„å¤–éƒ¨é“¾æ¥åæ·»åŠ ä¸€ä¸ªå°å›¾æ ‡ï¼šnpm i cheerio --savehexo.extend.filter.register(after_render:html, function(html, data) const cheerio = require(cheerio); const $ = cheerio.load(html, decodeEntities: false); // åªé€‰æ‹©article class=md-text contentå…ƒç´ å†…çš„aæ ‡ç­¾ $(article.md-text.content a, footer.page-footer.footnote a).each(function() const link = $(this); const href = link.attr(href); //æ’é™¤ä¸€äº›ç‰¹æ®Šçš„é“¾æ¥ if (!link.parents(div.tag-plugin.users-wrap).length !link.parents(div.tag-plugin.sites-wrap).length !link.parent(div.tag-plugin.ghcard).length !link.parents(div.tag-plugin.link.dis-select).length !link.parents(div.tag-plugin.colorful.note).length !link.parents(div.social-wrap.dis-select).length) // ç¡®ä¿é“¾æ¥çš„ href å±æ€§å­˜åœ¨ï¼Œå¹¶æ£€æŸ¥å…¶æ˜¯å¦ä»¥ http æˆ– / å¼€å¤´ if (href (href.startsWith(http) || href.startsWith(/))) link.html(link.html() + ` span style=white-space: nowrap;svg width=.7em height=.7em viewBox=0 0 21 21 xmlns=http://www.w3.org/2000/svgpath d=m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z fill=currentColor /path d=M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z fill=currentColor/svg/span`); //link.attr(target, _blank); // å¯é€‰ï¼šç¡®ä¿é“¾æ¥åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ ); return $.html(); ); æ–¹æ³•äºŒï¼š TIP ç”¨è€æ–¹æ³•é…ç½®å®Œæˆ‘æ€»è§‰å¾—ä½¿ç”¨ Cheerio æ¨¡å—åä¼šå¯¼è‡´ç½‘ç«™åŠ è½½è¿‡æ…¢ï¼Œå°±åˆä¼˜åŒ–äº†ä¸€ä¸‹ã€‚è¯¢é—® ChatGPT å¾—çŸ¥å¯ä»¥è€ƒè™‘ä¸ä½¿ç”¨ Node.js çš„æœåŠ¡å™¨ç«¯å¤„ç†ï¼Œè€Œæ˜¯ä½¿ç”¨çº¯å‰ç«¯çš„æ–¹æ³•æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œé€šè¿‡åœ¨å®¢æˆ·ç«¯ JavaScript ä¸­æ·»åŠ ä»£ç æ¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯åœ¨ Hexo çš„åç«¯æ¸²æŸ“è¿‡ç¨‹ä¸­å¤„ç†ã€‚ï¼ˆå¥½äº†ï¼Œå¯ä»¥å¸è½½ cheerio äº†ï¼‰ ä¸‹é¢çš„è¿™æ®µä»£ç å¯ä»¥åœ¨é¡µé¢åŠ è½½å®Œæˆåè¿è¡Œï¼Œå®ƒä¼šæŸ¥æ‰¾æŒ‡å®šå…ƒç´ ä¸­çš„é“¾æ¥ï¼Œå¹¶åœ¨è¿™äº›é“¾æ¥åæ·»åŠ ä¸€ä¸ªå›¾æ ‡ã€‚è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯ï¼Œå®ƒä¸éœ€è¦æœåŠ¡ç«¯çš„å¤„ç†ï¼Œæ‰€æœ‰æ“ä½œéƒ½åœ¨ç”¨æˆ·çš„æµè§ˆå™¨å†…å®Œæˆï¼Œå¯ä»¥å‡å°‘æœåŠ¡å™¨è´Ÿæ‹…ï¼Œå¹¶ä¸”é¿å…å¯èƒ½å› æœåŠ¡å™¨ç«¯æ¸²æŸ“å¼•èµ·çš„åŠ è½½é—®é¢˜ã€‚æ­¤å¤–ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæä¾›äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå› ä¸ºå®ƒä¸ä¼šå»¶è¿Ÿé¡µé¢å†…å®¹çš„æ˜¾ç¤ºã€‚ æ–°å»ºsource/js/link-icon.js æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š document.addEventListener(DOMContentLoaded, function () console.log(Document is ready.); const links = document.querySelectorAll(article.md-text.content a, footer.page-footer.footnote a); console.log(Links found:, links.length); links.forEach(function(link) console.log(Processing link:, link.href); const parentClasses = [tag-plugin.users-wrap, tag-plugin.sites-wrap, tag-plugin.ghcard, tag-plugin.link.dis-select, tag-plugin.colorful.note, social-wrap.dis-select]; let skip = false; parentClasses.forEach(pc = if (link.closest(`div.$pc`)) skip = true; console.log(Skipping link due to parent class:, pc); ); if (!skip) const href = link.getAttribute(href); console.log(Link href:, href); if (href (href.startsWith(http) || href.startsWith(/))) link.innerHTML += ` span style=white-space: nowrap;svg width=.7em height=.7em viewBox=0 0 21 21 xmlns=http://www.w3.org/2000/svgpath d=m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z fill=currentColor /path d=M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z fill=currentColor/svg/span`; console.log(Icon added to link:, link.innerHTML); );); è¿™é‡Œåšäº†ä¸¤ä¸ªç­›é€‰ï¼š const parentClasses = [tag-plugin.users-wrap, tag-plugin.sites-wrap, tag-plugin.ghcard, tag-plugin.link.dis-select, tag-plugin.colorful.note, social-wrap.dis-select]; æ˜¯è¢«æ’é™¤çš„ç±»ï¼Œå¯è‡ªè¡Œå¢å‡ï¼› if (href (href.startsWith(http) || href.startsWith(/))) åˆ¤æ–­é“¾æ¥æ˜¯å¦ä»¥ http æˆ– / å¼€å¤´ï¼Œå¦‚æœä¸æƒ³ç»™ç«™å†…é“¾æ¥æ·»åŠ å›¾æ ‡çš„è¯å¯ä»¥æŠŠåé¢çš„ç­›é€‰æ¡ä»¶å»æ‰ã€‚ ç„¶ååœ¨ä¸»é¢˜æ–‡ä»¶ _config.stellar.yml ä¸­å¼•å…¥ï¼š inject: head: ... - script src=/js/link-icon.js/script # é“¾æ¥å›¾æ ‡ å¢åŠ å‚ä¸è®¨è®ºæŒ‰é’®#ä»£ç æŠ„è‡ªæ˜Ÿæ—¥è¯­ï¼Œæœ€æ–°ä¸»é¢˜å·²è‡ªå¸¦æ­¤åŠŸèƒ½ã€‚ é€‚é… Obsidian Callouts æ ‡æ³¨å—è¯­æ³•#æ˜¾ç¤ºæ•ˆæœï¼š ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-16 at 22.23.51@2x-1749438579838-1036.webp) æš—é»‘æ¨¡å¼ä¸‹çš„æ˜¾ç¤ºæ•ˆæœï¼š ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-16 at 22.24.19@2x-1749438579839-1040.webp) å‚è€ƒäº† Hexo åšå®¢é€‚é… Obsidian æ–°è¯­æ³•ï¼ŒåŸºç¡€çš„è®¾ç½®è¯·å‚è€ƒæ­¤é“¾æ¥ã€‚æˆ‘æš‚æ—¶ç”¨ä¸ä¸Šå…¶ä»–åŠŸèƒ½ï¼Œå°±æŠŠ callout çš„æ ·å¼æ¬æ¥å¹¶åšäº†ä¸€äº›ä¿®æ”¹ã€‚æˆ‘ä¸ªäººè¿˜æŒºå–œæ¬¢è¿™ä¸ª callout æ ·å¼ï¼Œæ¯” quote è¦å¥½çœ‹è€Œä¸”æ·»åŠ ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä¸»è¦æ˜¯å¯ä»¥å’Œ Obsidian æ‰“é€šï¼Œå˜¿å˜¿ã€‚ æ ·å¼ä¿®æ”¹#åŸç‰ˆçš„ callouts æ ‡æ³¨å—æ ·å¼é—´è·å¤ªå¤§ï¼Œæˆ‘åœ¨æ­¤åŸºç¡€ä¸Šæ”¹äº† callout_blocks_common.cssï¼ˆä¸æ˜¯å¾ˆæ‡‚ï¼Œå†™å¾—å¾ˆçƒ‚â€¦â€¦ä½†æ˜¯èƒ½ç”¨ï¼‰ï¼š :root--callout-note:68,138,255;--callout-abstract:0,176,255;--callout-info:0,184,212;--callout-tip:0,191,165;--callout-success:8,185,78;--callout-question:224,172,0;--callout-warning:255,145,0;--callout-failure:255,82,82;--callout-danger:255,23,68;--callout-bug:245,0,87;--callout-example:124,77,255;--callout-quote:158,158,158;--callout-radius:6px;--callout-border-opacity:0.5;--callout-title-bg-opacity:0.08.callout-fold:beforealign-self:center;content:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox=0 0 24 24 fill=none stroke=gray stroke-width=2 stroke-linecap=round stroke-linejoin=round class=chevron-downpath d=m6 9 6 6 6-6//svg).callout-folddisplay:flex;transform:rotate(-90deg);transition:.5s cubic-bezier(.075,.82,.165,1).custom-callout[open]summary.callout-foldtransform:rotate(0deg).custom-calloutsummaryborder-top-left-radius:var(--callout-radius);border-top-right-radius:var(--callout-radius);cursor:pointer;margin:0;padding:0.5rem 1rem.custom-calloutsummary::markercontent:.custom-calloutsummary:beforemargin-right:.5rem.custom-calloutsummary::-webkit-details-markerdisplay:none.callout-title--fsp: calc(17px - 1px);font-size: var(--fsp);display:flex;justify-content:space-between;font-weight:bold;.custom-callout.callout-bodybackground:transparent!important;border-left:none;margin:0!important;padding:.3rem 1rem;position:relative.custom-callout.callout-bodyp--fsp: calc(17px - 1px);font-size: var(--fsp);margin:8px 0.custom-callout.callout-bodypremargin:1.25rem -1rem.custom-callout.callout-bodypre:first-childmargin-top:-.75rem.custom-callout.callout-bodypre:last-childmargin-bottom:-.75rem.custom-callout.note,.custom-callout.seealsoborder-color:rgba(var(--callout-note),var(--callout-border-opacity)).custom-callout.notesummary,.custom-callout.seealsosummary background-color:rgba(var(--callout-note),var(--callout-title-bg-opacity)); color:rgba(var(var(--callout-note))).custom-callout.abstract,.custom-callout.summary,.custom-callout.tldrborder-color:rgba(var(--callout-abstract),var(--callout-border-opacity)).custom-callout.abstractsummary,.custom-callout.summarysummary,.custom-callout.tldrsummary background-color:rgba(var(--callout-abstract),var(--callout-title-bg-opacity)); color:rgba(var(--callout-abstract)).custom-callout.info,.custom-callout.todoborder-color:rgba(var(--callout-info),var(--callout-border-opacity)).custom-callout.infosummary,.custom-callout.todosummary background-color:rgba(var(--callout-info),var(--callout-title-bg-opacity)); color:rgba(var(--callout-info)).custom-callout.hint,.custom-callout.important,.custom-callout.tipborder-color:rgba(var(--callout-tip),var(--callout-border-opacity)).custom-callout.hintsummary,.custom-callout.importantsummary,.custom-callout.tipsummary background-color:rgba(var(--callout-tip),var(--callout-title-bg-opacity)); color:rgba(var(--callout-tip)).custom-callout.check,.custom-callout.done,.custom-callout.successborder-color:rgba(var(--callout-success),var(--callout-border-opacity)).custom-callout.checksummary,.custom-callout.donesummary,.custom-callout.successsummary background-color:rgba(var(--callout-success),var(--callout-title-bg-opacity)); color:rgba(var(--callout-success)).custom-callout.faq,.custom-callout.help,.custom-callout.questionborder-color:rgba(var(--callout-question),var(--callout-border-opacity)).custom-callout.faqsummary,.custom-callout.helpsummary,.custom-callout.questionsummary background-color:rgba(var(--callout-question),var(--callout-title-bg-opacity)); color:rgba(var(--callout-question)).custom-callout.attention,.custom-callout.caution,.custom-callout.warningborder-color:rgba(var(--callout-warning),var(--callout-border-opacity)).custom-callout.attentionsummary,.custom-callout.cautionsummary,.custom-callout.warningsummary background-color:rgba(var(--callout-warning),var(--callout-title-bg-opacity)); color:rgba(var(--callout-warning)).custom-callout.fail,.custom-callout.failure,.custom-callout.missingborder-color:rgba(var(--callout-failure),var(--callout-border-opacity)).custom-callout.failsummary,.custom-callout.failuresummary,.custom-callout.missingsummary background-color:rgba(var(--callout-failure),var(--callout-title-bg-opacity)); color:rgba(var(--callout-failure)).custom-callout.danger,.custom-callout.errorborder-color:rgba(var(--callout-danger),var(--callout-border-opacity)).custom-callout.dangersummary,.custom-callout.errorsummary background-color:rgba(var(--callout-danger),var(--callout-title-bg-opacity)); color:rgba(var(--callout-danger)).custom-callout.bugborder-color:rgba(var(--callout-bug),var(--callout-border-opacity)).custom-callout.bugsummary background-color:rgba(var(--callout-bug),var(--callout-title-bg-opacity)); color:rgba(var(--callout-bug)).custom-callout.exampleborder-color:rgba(var(--callout-example),var(--callout-border-opacity)).custom-callout.examplesummary background-color:rgba(var(--callout-example),var(--callout-title-bg-opacity)); color:rgba(var(--callout-example)).custom-callout.cite,.custom-callout.quoteborder-color:rgba(var(--callout-quote),var(--callout-border-opacity)).custom-callout.citesummary,.custom-callout.quotesummary background-color:rgba(var(--callout-quote),var(--callout-title-bg-opacity)); color:rgba(var(--callout-quote)).callout-title.callout-icon+div-webkit-box-flex:1;-ms-flex:1 1 0%;-webkit-flex:1 1 0%;flex:1 1 0%;margin-left:.25rem.callout-iconalign-items:center;color:#000;display:flex.callout-icon:beforeheight:20px;width:20px.custom-callout.attention.callout-title.callout-icon:before,.custom-callout.caution.callout-title.callout-icon:before,.custom-callout.warning.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%23FF9100 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-alert-trianglepath d=m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3ZM12 9v4M12 17h.01//svg).custom-callout.note.callout-title.callout-icon:before,.custom-callout.seealso.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%23448AFF stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-pencilpath d=m18 2 4 4M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z//svg).custom-callout.abstract.callout-title.callout-icon:before,.custom-callout.summary.callout-title.callout-icon:before,.custom-callout.tldr.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%2300B0FF stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-clipboard-listrect x=8 y=2 width=8 height=4 rx=1 ry=1/path d=M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2M12 11h4M12 16h4M8 11h.01M8 16h.01//svg).custom-callout.info.callout-title.callout-icon:before,.custom-callout.todo.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%2300B8D4 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-check-circle-2path d=M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z/path d=m9 12 2 2 4-4//svg).custom-callout.hint.callout-title.callout-icon:before,.custom-callout.important.callout-title.callout-icon:before,.custom-callout.tip.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%2300BFA5 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-flamepath d=M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z//svg).custom-callout.check.callout-title.callout-icon:before,.custom-callout.done.callout-title.callout-icon:before,.custom-callout.success.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%2300C853 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-checkpath d=M20 6 9 17l-5-5//svg).custom-callout.faq.callout-title.callout-icon:before,.custom-callout.help.callout-title.callout-icon:before,.custom-callout.question.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%23E0AC00 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-help-circlecircle cx=12 cy=12 r=10/path d=M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3M12 17h.01//svg).custom-callout.fail.callout-title.callout-icon:before,.custom-callout.failure.callout-title.callout-icon:before,.custom-callout.missing.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%23FF5252 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-xpath d=M18 6 6 18M6 6l12 12//svg).custom-callout.danger.callout-title.callout-icon:before,.custom-callout.error.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%23FF1744 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-zappath d=M13 2 3 14h9l-1 8 10-12h-9l1-8z//svg).custom-callout.bug.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%23F50057 stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-bugrect x=8 y=6 width=8 height=14 rx=4/path d=m19 7-3 2M5 7l3 2M19 19l-3-2M5 19l3-2M20 13h-4M4 13h4M10 4l1 2M14 4l-1 2//svg).custom-callout.example.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%237C4DFF stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-listpath d=M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01//svg).custom-callout.cite.callout-title.callout-icon:before,.custom-callout.quote.callout-title.callout-icon:beforecontent:url(data:image/svg+xml;charset=utf-8,svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox=0 0 24 24 fill=none stroke=%239E9E9E stroke-width=2 stroke-linecap=round stroke-linejoin=round class=svg-icon lucide-quotepath d=M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1zM15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z//svg).custom-callout.note .callout-body /* ç§»é™¤äº† background:transparent!important; æ”¹ä¸ºæ ¹æ®ç±»å‹å˜åŒ–çš„èƒŒæ™¯è‰² */ background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); /* æ ¹æ®ä¸åŒçš„ç±»å‹è®¾ç½®èƒŒæ™¯è‰²å’Œæ–‡å­—/å›¾æ ‡é¢œè‰² */.custom-callout.note, .custom-callout.note summary background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); .custom-callout.abstract .callout-body background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); .custom-callout.abstract, .custom-callout.abstract summary background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); .custom-callout.info .callout-body background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); .custom-callout.info, .custom-callout.info summary background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); .custom-callout.tip .callout-body background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); .custom-callout.tip, .custom-callout.tip summary background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); .custom-callout.success .callout-body background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); .custom-callout.success, .custom-callout.success summary background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); .custom-callout.question .callout-body background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); .custom-callout.question, .custom-callout.question summary background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); .custom-callout.warning .callout-body background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); .custom-callout.warning, .custom-callout.warning summary background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); .custom-callout.failure .callout-body background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); .custom-callout.failure, .custom-callout.failure summary background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); .custom-callout.danger .callout-body background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); .custom-callout.danger, .custom-callout.danger summary background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); .custom-callout.bug .callout-body background-color: rgba(var(--callout-bug), var(--callout-title-bg-opacity)); .custom-callout.bug, .custom-callout.bug summary background-color: rgba(var(--callout-bug), var(--callout-title-bg-opacity)); .custom-callout.example .callout-body background-color: rgba(var(--callout-example), var(--callout-title-bg-opacity)); .custom-callout.example, .custom-callout.example summary background-color: rgba(var(--callout-example), var(--callout-title-bg-opacity)); .custom-callout.quote .callout-body background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); .custom-callout.quote, .custom-callout.quote summary background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); .custom-callout.cite .callout-body background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); .custom-callout.cite, .custom-callout.cite summary background-color: rgba(var(--callout-quote), var(--callout-title-bg-opacity)); .custom-callout.todo .callout-body background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); .custom-callout.todo, .custom-callout.todo summary background-color: rgba(var(--callout-info), var(--callout-title-bg-opacity)); .custom-callout.seealso .callout-body background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); .custom-callout.seealso, .custom-callout.seealso summary background-color: rgba(var(--callout-note), var(--callout-title-bg-opacity)); .custom-callout.hint .callout-body background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); .custom-callout.hint, .custom-callout.hint summary background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); .custom-callout.important .callout-body background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); .custom-callout.important, .custom-callout.important summary background-color: rgba(var(--callout-tip), var(--callout-title-bg-opacity)); .custom-callout.attention .callout-body background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); .custom-callout.attention, .custom-callout.attention summary background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); .custom-callout.caution .callout-body background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); .custom-callout.caution, .custom-callout.caution summary background-color: rgba(var(--callout-warning), var(--callout-title-bg-opacity)); .custom-callout.done .callout-body background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); .custom-callout.done, .custom-callout.done summary background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); .custom-callout.check .callout-body background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); .custom-callout.check, .custom-callout.check summary background-color: rgba(var(--callout-success), var(--callout-title-bg-opacity)); .custom-callout.faq .callout-body background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); .custom-callout.faq, .custom-callout.faq summary background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); .custom-callout.help .callout-body background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); .custom-callout.help, .custom-callout.help summary background-color: rgba(var(--callout-question), var(--callout-title-bg-opacity)); .custom-callout.fail .callout-body background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); .custom-callout.fail, .custom-callout.fail summary background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); .custom-callout.missing .callout-body background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); .custom-callout.missing, .custom-callout.missing summary background-color: rgba(var(--callout-failure), var(--callout-title-bg-opacity)); .custom-callout.error .callout-body background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); .custom-callout.error, .custom-callout.error summary background-color: rgba(var(--callout-danger), var(--callout-title-bg-opacity)); .custom-callout.tldr .callout-body background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); .custom-callout.tldr, .custom-callout.tldr summary background-color: rgba(var(--callout-abstract), var(--callout-title-bg-opacity)); é›†æˆ Telegram Channel è¯´è¯´#æ˜¾ç¤ºæ•ˆæœï¼š ç¯‡å¹…é™åˆ¶ï¼Œåªå±•ç¤º2æ¡ï¼Œè¯·è€å¿ƒç­‰å¾…åŠ è½½ã€‚ï¼ˆå¯èƒ½è¦æŒ‚ä»£ç†ï¼‰ ä»£ç æŠ„è‡ªæŠŠTg Channelæ¥å…¥åˆ°Stellaræ—¶é—´çº¿ã€‚å› ä¸ºæˆ‘æ‡’å¾—åšæ ‡ç­¾ç­›é€‰æ‰€ä»¥ç›´æ¥æŠŠè¿™ä¸ªå»æ‰å•¦ï¼Œåœ¨æ­¤è¿˜è¦æ„Ÿè°¢ä½¬çš„è€å¿ƒè§£ç­” GitHub Action è‡ªåŠ¨éƒ¨ç½²å¹¶ä¿®å¤æ›´æ–°æ—¶é—´#åœ¨è‡ªåŠ¨éƒ¨ç½²è¿™é‡Œé‡åˆ°äº†å‡ ä¸ªå‘ï¼Œæ€»ç»“ä¸‹æ¥å¤§æ¦‚æœ‰ä¸‹ï¼š ç½‘ä¸Šæµè¡Œçš„å¾ˆå¤š yml workflow æ–‡ä»¶éƒ½æœ‰äº›è¿‡æ—¶ å…¬é’¥ç§é’¥å•¥çš„ä¸å¤ªæ‡‚ï¼Œé…ç½®äº†åŠå¤© å› ä¸ºæˆ‘çš„åšå®¢æœ‰æ•°å­¦å…¬å¼æ˜¾ç¤ºï¼Œæ‰€ä»¥è¦åœ¨ workflow é‡ŒåŠ å…¥å®‰è£… pandoc çš„éƒ¨åˆ†ï¼Œæ‰èƒ½å¤ŸæˆåŠŸè¿è¡Œ è‡ªåŠ¨éƒ¨ç½²åç½‘ç«™çš„æ–‡ç« æ›´æ–°æ—¶é—´å…¨éƒ¨å˜æˆ push æ—¶é—´ï¼Œä½†åœ¨æœ¬åœ°æ˜¯æ­£å¸¸çš„ã€‚ä¸€ç•ªæœç´¢åæ‰¾åˆ°äº†è§£å†³æ–¹æ³•ï¼Œåœ¨ yml æ–‡ä»¶é‡ŒåŠ å…¥äº†ä»¥ä¸‹ä»£ç ï¼Œåˆ†åˆ«ä¿®å¤ postsã€wikiã€notes çš„æ›´æ–°æ—¶é—´ï¼š - name: Restore file modification time ğŸ•’ run: find source/_posts -name *.md | while read file; do touch -d $(git log -1 --format=@%ct $file) $file; done - name: Restore file modification time of wikiğŸ•’ run: find source/wiki -name *.md | while read file; do touch -d $(git log -1 --format=@%ct $file) $file; done - name: Restore file modification time of notesğŸ•’ run: find source/notes -name *.md | while read file; do touch -d $(git log -1 --format=@%ct $file) $file; done æœ€åé™„ä¸Šå®Œæ•´ä»£ç ï¼Œæ‹¿å»ç”¨çš„è¯è¦è‡ªå·±é…ç½®ä¸€ä¸‹ GitHub éƒ¨åˆ†çš„è®¾ç½®ï¼š name: auto deployon: workflow_dispatch: push:jobs: build: runs-on: ubuntu-latest # è¿è¡Œç¯å¢ƒä¸ºæœ€æ–°ç‰ˆ Ubuntu name: auto deploy steps: # 1. è·å–æºç  - name: Checkout uses: actions/checkout@v4 # ä½¿ç”¨ actions/checkout@v3 with: # æ¡ä»¶ submodules: true # Checkout private submodules(themes or something else). å½“æœ‰å­æ¨¡å—æ—¶åˆ‡æ¢åˆ†æ”¯ï¼Ÿ fetch-depth: 0 - name: Restore file modification time ğŸ•’ run: find source/_posts -name *.md | while read file; do touch -d $(git log -1 --format=@%ct $file) $file; done - name: Restore file modification time of wikiğŸ•’ run: find source/wiki -name *.md | while read file; do touch -d $(git log -1 --format=@%ct $file) $file; done - name: Restore file modification time of notesğŸ•’ run: find source/notes -name *.md | while read file; do touch -d $(git log -1 --format=@%ct $file) $file; done # 2. é…ç½®ç¯å¢ƒ - name: Setup Node.js 18.19.x uses: actions/setup-node@master with: node-version: 18.19.x - name: Install pandoc run: | cd /tmp wget -c https://github.com/jgm/pandoc/releases/download/2.14.0.3/pandoc-2.14.0.3-1-amd64.deb sudo dpkg -i pandoc-2.14.0.3-1-amd64.deb # 3. ç”Ÿæˆé™æ€æ–‡ä»¶ - name: Generate Public Files run: | npm i npm install hexo-cli -g hexo clean hexo generate # 4a. éƒ¨ç½²åˆ° GitHub ä»“åº“ï¼ˆå¯é€‰ï¼‰ - name: Deploy to GitHub Pages uses: peaceiris/actions-gh-pages@v3 with: deploy_key: $ secrets.HEXO_DEPLOY_PRI # é…ç½®å¯†é’¥ external_repository: # å¡«å…¥ä½ çš„GitHub pageséƒ¨ç½²ä»“åº“ publish_branch: gt-pages # å¡«å…¥éƒ¨ç½²åˆ†æ”¯ publish_dir: ./public commit_message: $ github.event.head_commit.message user_name: github-actions[bot] user_email: github-actions[bot]@users.noreply.github.com ç»™åšå®¢æ·»åŠ åœ°ç†å®šä½å¹¶åˆ¶ä½œä¸ªæ€§æ¬¢è¿#æ˜¾ç¤ºæ•ˆæœï¼š ![ä¸ªæ€§æ¬¢è¿å¡ç‰‡](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 01.09.07@2x-1749438579839-1044.webp)ä¸ªæ€§æ¬¢è¿å¡ç‰‡ ä»£ç æ¥è‡ªç»™åšå®¢æ·»åŠ è…¾è®¯åœ°å›¾å®šä½å¹¶åˆ¶ä½œä¸ªæ€§æ¬¢è¿ã€‚æˆ‘ç¨å¾®åšäº†ä¸€ç‚¹è°ƒæ•´ï¼š æ–°å»º source/js/services/txmap.jsï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š ç‚¹å‡»å±•å¼€ä»£ç  //getè¯·æ±‚$.ajax( type: get, url: https://apis.map.qq.com/ws/location/v1/ip, data: key: ä½ çš„key, output: jsonp, , dataType: jsonp, success: function (res) ipLoacation = res; )function getDistance(e1, n1, e2, n2) const R = 6371 const sin, cos, asin, PI, hypot = Math let getPoint = (e, n) = e *= PI / 180 n *= PI / 180 return x: cos(n) * cos(e), y: cos(n) * sin(e), z: sin(n) let a = getPoint(e1, n1) let b = getPoint(e2, n2) let c = hypot(a.x - b.x, a.y - b.y, a.z - b.z) let r = asin(c / 2) * 2 * R return Math.round(r);function showWelcome() let dist = getDistance(113.34499552, 23.15537143, ipLoacation.result.location.lng, ipLoacation.result.location.lat); //è¿™é‡Œæ¢æˆè‡ªå·±çš„ç»çº¬åº¦ let pos = ipLoacation.result.ad_info.nation; let ip; let posdesc; //æ ¹æ®å›½å®¶ã€çœä»½ã€åŸå¸‚ä¿¡æ¯è‡ªå®šä¹‰æ¬¢è¿è¯­ switch (ipLoacation.result.ad_info.nation) case æ—¥æœ¬: posdesc = ã‚ˆã‚ã—ãï¼Œä¸€èµ·å»çœ‹æ¨±èŠ±å—; break; case ç¾å›½: posdesc = Let us live in peace!; break; case è‹±å›½: posdesc = æƒ³åŒä½ ä¸€èµ·å¤œä¹˜ä¼¦æ•¦çœ¼; break; case ä¿„ç½—æ–¯: posdesc = å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼; break; case æ³•å›½: posdesc = Cest La Vie; break; case å¾·å›½: posdesc = Die Zeit verging im Fluge.; break; case æ¾³å¤§åˆ©äºš: posdesc = ä¸€èµ·å»å¤§å ¡ç¤å§ï¼; break; case åŠ æ‹¿å¤§: posdesc = æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ ; break; case ä¸­å›½: pos = ipLoacation.result.ad_info.province + + ipLoacation.result.ad_info.city + + ipLoacation.result.ad_info.district; ip = ipLoacation.result.ip; switch (ipLoacation.result.ad_info.province) case åŒ—äº¬å¸‚: posdesc = åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~; break; case å¤©æ´¥å¸‚: posdesc = è®²æ®µç›¸å£°å§ã€‚; break; case æ²³åŒ—çœ: posdesc = å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³ã€‚é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±ã€‚; break; case å±±è¥¿çœ: posdesc = å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™ã€‚; break; case å†…è’™å¤è‡ªæ²»åŒº: posdesc = å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Šã€‚; break; case è¾½å®çœ: posdesc = æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼; break; case å‰æ—çœ: posdesc = çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹ã€‚; break; case é»‘é¾™æ±Ÿçœ: posdesc = å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢ã€‚; break; case ä¸Šæµ·å¸‚: posdesc = ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚ã€‚; break; case æ±Ÿè‹çœ: switch (ipLoacation.result.ad_info.city) case å—äº¬å¸‚: posdesc = è¿™æ˜¯æˆ‘æŒºæƒ³å»çš„åŸå¸‚å•¦ã€‚; break; case è‹å·å¸‚: posdesc = ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­ã€‚; break; default: posdesc = æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„ã€‚; break; break; case æµ™æ±Ÿçœ: posdesc = ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’ã€‚; break; case æ²³å—çœ: switch (ipLoacation.result.ad_info.city) case éƒ‘å·å¸‚: posdesc = è±«å·ä¹‹åŸŸï¼Œå¤©åœ°ä¹‹ä¸­ã€‚; break; case å—é˜³å¸‚: posdesc = è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ã€‚æ­¤å—é˜³éå½¼å—é˜³ï¼; break; case é©»é©¬åº—å¸‚: posdesc = å³°å³°æœ‰å¥‡çŸ³ï¼ŒçŸ³çŸ³æŒŸä»™æ°”ã€‚åµ–å²ˆå±±çš„èŠ±å¾ˆç¾å“¦ï¼; break; case å¼€å°å¸‚: posdesc = åˆšæ­£ä¸é˜¿åŒ…é’å¤©ã€‚; break; case æ´›é˜³å¸‚: posdesc = æ´›é˜³ç‰¡ä¸¹ç”²å¤©ä¸‹ã€‚; break; default: posdesc = å¯å¦å¸¦æˆ‘å“å°æ²³å—çƒ©é¢å•¦ï¼Ÿ; break; break; case å®‰å¾½çœ: posdesc = èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£ã€‚; break; case ç¦å»ºçœ: posdesc = äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±ã€‚; break; case æ±Ÿè¥¿çœ: posdesc = è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²ã€‚; break; case å±±ä¸œçœ: posdesc = é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»ã€‚; break; case æ¹–åŒ—çœ: posdesc = æ¥ç¢—çƒ­å¹²é¢ï¼; break; case æ¹–å—çœ: posdesc = 74751ï¼Œé•¿æ²™æ–¯å¡”å…‹ã€‚; break; case å¹¿ä¸œçœ: posdesc = è€æ¿æ¥ä¸¤æ–¤ç¦å»ºäººã€‚; break; case å¹¿è¥¿å£®æ—è‡ªæ²»åŒº: posdesc = æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹ã€‚; break; case æµ·å—çœ: posdesc = æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰ã€‚; break; case å››å·çœ: posdesc = åº·åº·å·å¦¹å­ã€‚; break; case è´µå·çœ: posdesc = èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200ã€‚; break; case äº‘å—çœ: posdesc = ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©ã€‚; break; case è¥¿è—è‡ªæ²»åŒº: posdesc = èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©ã€‚; break; case é™•è¥¿çœ: posdesc = æ¥ä»½è‡Šå­é¢åŠ é¦ã€‚; break; case ç”˜è‚ƒçœ: posdesc = ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³ã€‚; break; case é’æµ·çœ: posdesc = ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒã€‚; break; case å®å¤å›æ—è‡ªæ²»åŒº: posdesc = å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†ã€‚; break; case æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº: posdesc = é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£ã€‚; break; case å°æ¹¾çœ: posdesc = æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´ã€‚; break; case é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº: posdesc = æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰ã€‚; break; case æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº: posdesc = æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œã€‚; break; default: posdesc = å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§ï¼; break; break; default: posdesc = å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§ã€‚; break; //æ ¹æ®æœ¬åœ°æ—¶é—´åˆ‡æ¢æ¬¢è¿è¯­ let timeChange; let date = new Date(); if (date.getHours() = 5 date.getHours() 11) timeChange = spanä¸Šåˆå¥½/spanï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨ï¼; else if (date.getHours() = 11 date.getHours() 13) timeChange = spanä¸­åˆå¥½/spanï¼Œè¯¥æ‘¸é±¼åƒåˆé¥­äº†ã€‚; else if (date.getHours() = 13 date.getHours() 15) timeChange = spanä¸‹åˆå¥½/spanï¼Œæ‡’æ‡’åœ°ç¡ä¸ªåˆè§‰å§ï¼; else if (date.getHours() = 15 date.getHours() 16) timeChange = spanä¸‰ç‚¹å‡ å•¦/spanï¼Œä¸€èµ·é¥®èŒ¶å‘€ï¼; else if (date.getHours() = 16 date.getHours() 19) timeChange = spanå¤•é˜³æ— é™å¥½ï¼/span; else if (date.getHours() = 19 date.getHours() 24) timeChange = spanæ™šä¸Šå¥½/spanï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼; else timeChange = å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œå°‘ç†¬å¤œã€‚; try //è‡ªå®šä¹‰æ–‡æœ¬å’Œéœ€è¦æ”¾çš„ä½ç½® document.getElementById(welcome-info).innerHTML = `bcenterğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰/centeremsp;emsp;æ¬¢è¿æ¥è‡ª span style=color:var(--theme-color)$pos/span çš„å°ä¼™ä¼´ï¼Œ$timeChangeæ‚¨ç°åœ¨è·ç¦»ç«™é•¿çº¦ span style=color:var(--theme-color)$dist/span å…¬é‡Œï¼Œå½“å‰çš„IPåœ°å€ä¸ºï¼š span style=color:var(--theme-color)$ip/spanï¼Œ $posdesc/b`; catch (err) // console.log(Pjaxæ— æ³•è·å–#welcome-infoå…ƒç´ ğŸ™„ğŸ™„ğŸ™„) window.onload = showWelcome;// å¦‚æœä½¿ç”¨äº†pjaxåœ¨åŠ ä¸Šä¸‹é¢è¿™è¡Œä»£ç document.addEventListener(pjax:complete, showWelcome); åœ¨ä¸»é¢˜æ–‡ä»¶ä¸­é…ç½®#åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.stellar.yml ä¸­å¼•å…¥jQueryä¾èµ–å’Œåˆšåˆšçš„jsæ–‡ä»¶ï¼š inject: - script src=https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js/script # jQuery - script async data-pjax src=/js/services/txmap.js/script # è…¾è®¯ä½ç½®API åœ¨ source/_data/widgets.yml ä¸­æ·»åŠ å°ç»„ä»¶ï¼Œæˆ‘åœ¨é‡Œé¢åµŒå¥—äº†ä¸€ä¸ªéšæœºæ–‡ç« è·³è½¬ï¼Œä¸è¦çš„è¯å¯ä»¥åˆ æ‰ï¼Œå…¶ä¸­ï¼Œspan id=welcome-info /span æ˜¯å¿…é¡»çš„ä¸å¯ä»¥åˆ ï¼š welcomeloc: layout: markdown title: ğŸ‰ æŠ“åˆ°ä½ å•¦ linklist: columns: 1 items: - icon: img src=https://api.iconify.design/ion:dice-outline.svg/ title: éšæœºæ–‡ç«  url: javascript:toRandomPost() content: | span id=welcome-info style=font-family: LXGW WenKai Screen;/span ç„¶åå°±è·Ÿæ­£å¸¸çš„å°ç»„ä»¶ä¸€æ ·åœ¨æƒ³è¦çš„åœ°æ–¹å¼•ç”¨å³å¯ã€‚ æ·»åŠ æ›´æ”¹å­—ä½“æŒ‰é’®#æ˜¾ç¤ºæ•ˆæœï¼š ç¬¬ä¸€ç§ï¼š åœ¨ä»»æ„ä½ç½®å¢åŠ ä¸€ä¸ª button æŒ‰é’®![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 01.21.07@2x-1749438579839-1046.webp) é¼ æ ‡æ”¾åˆ°ä¸Šé¢ä¼šæ˜¾ç¤ºæç¤ºï¼š ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 01.22.42@2x-1749438579839-1048.webp) ç¬¬äºŒç§ï¼š åœ¨æ–‡ç« é¡µé¢ç›®å½•ä¸‹æ–¹æ˜¾ç¤º ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 01.24.07@2x-1749438579839-1050.webp) ä¹‹å‰ä¸€ç›´çº ç»“è¦ä¸è¦æŠŠè‡ªå®šä¹‰å­—ä½“æ•ˆæœå»æ‰ï¼Œåœ¨é€‰æ‹©å’Œç•™ä¸‹ä¹‹é—´æ¥å›åˆ‡æ¢ æœ€ç»ˆæ‰å‡ºç°äº†è¿™é‡Œçš„æ–¹æ¡ˆï¼šé»˜è®¤ä¸åŠ è½½ä»»ä½•å­—ä½“ï¼Œå–œæ¬¢ LXGW å­—ä½“çš„è¯å¯ç‚¹å‡»å›¾æ ‡è½¬æ¢ï¼ŒåŒæ—¶å†ç‚¹å‡»ä¸€ä¸‹å°±æ¢å¤ã€‚ä»£ç ä¸é•¿ä½†å®Œç¾åœ°è§£å†³äº†æˆ‘çš„å¼ºè¿«ç—‡ï½ ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å­—ä½“æ–‡ä»¶#å¯ä»¥æ˜¯åœ¨çº¿æ–‡ä»¶ä¹Ÿå¯ä»¥æ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œæˆ‘æ˜¯åœ¨ä¸»é¢˜ config æ–‡ä»¶ä¸‹é€šè¿‡ inject å¼•å…¥äº† LXGW å­—ä½“ã€‚ ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ css#é¦–å…ˆç¡®ä¿ LXGW WenKai Screen å­—ä½“å·²ç»é€šè¿‡ CSS æ­£ç¡®å¼•å…¥ã€‚ä½ å¯ä»¥åœ¨ CSS æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªç‰¹å®šçš„ç±»ï¼Œç”¨äºå½“ç”¨æˆ·é€‰æ‹©ä½¿ç”¨è¿™ç§å­—ä½“æ—¶åˆ‡æ¢åˆ°å®ƒï¼š /* è®¾ç½®å­—ä½“ */.LXGWMode font-family: LXGW WenKai Screen, system-ui, Helvetica Neue, sans-serif; // ä½¿ç”¨ LXGW WenKai å­—ä½“ï¼Œå¹¶æŒ‡å®šåå¤‡å­—ä½“ ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ  javascript#æ–°å»º source/js/changefont.js æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š document.addEventListener(DOMContentLoaded, function () applyFontSetting(); updateButtonText(); // Ensure the button text is correct on page load);document.addEventListener(pjax:success, function () applyFontSetting(); updateButtonText(); // Update the button text after PJAX updates);function applyFontSetting() if (localStorage.getItem(LXGWFontEnabled) === true) document.body.classList.add(LXGWMode); else document.body.classList.remove(LXGWMode); function toggleLXGWFont() var button = document.querySelector(.custom-button); // Find the button if (localStorage.getItem(LXGWFontEnabled) === true) localStorage.setItem(LXGWFontEnabled, false); document.body.classList.remove(LXGWMode); button.innerHTML = img src=https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/Blob/ablobcatrainbow.png alt=Emoji style=vertical-align: middle; width: 20px; height: 20px; å±é™©ï¼Œè¯·å‹¿ç‚¹å‡»; else localStorage.setItem(LXGWFontEnabled, true); document.body.classList.add(LXGWMode); button.innerHTML = img src=https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/Blob/ablobcatrainbow.png alt=Emoji style=vertical-align: middle; width: 20px; height: 20px; ä¸è¦è¯´æˆ‘æ²¡æœ‰è­¦å‘Šè¿‡ä½ ; function updateButtonText() var button = document.querySelector(.custom-button); // Find the button if (localStorage.getItem(LXGWFontEnabled) === true) button.innerHTML = img src=https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/Blob/ablobcatrainbow.png alt=Emoji style=vertical-align: middle; width: 20px; height: 20px; ä¸è¦ç‚¹è¿™é‡Œå•¦ï¼; else button.innerHTML = img src=https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/Blob/ablobcatrainbow.png alt=Emoji style=vertical-align: middle; width: 20px; height: 20px; å±é™©ï¼Œè¯·å‹¿ç‚¹å‡»; ç¬¬å››æ­¥ï¼šæ·»åŠ åˆ‡æ¢æŒ‰é’®#ç„¶ååœ¨æƒ³è¦çš„åœ°æ–¹å¼•ç”¨å³å¯ï¼Œå¯ä»¥è‡ªè¡Œæ·»åŠ å„ç§ emojiï¼Œæ¯”å¦‚ï¼š button class=custom-button tooltip onclick=toggleLXGWFont() data-msg=è­¦å‘Šï¼ŒçœŸçš„å¾ˆå±é™©img src=https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/Blob/ablobcatrainbow.png alt=Emoji style=vertical-align: middle; width: 20px; height: 20px; å±é™©ï¼Œè¯·å‹¿ç‚¹å‡»/button ç»™æŒ‰é’®åŠ å…¥ css æç¤ºæ¡†#åœ¨è‡ªå®šä¹‰ css æ–‡ä»¶ä¸­æ·»åŠ ï¼š .custom-button display: inline-block; padding: 2px 10px; /*margin: 10px; background-color: #f2f2f2; /* Light grey background, change as needed */ font-family: inherit; /* Inherits the font-family from parent container */ color: #835EEC; background-color: #F2EEFD; @media (prefers-color-scheme: dark) color: #A28BF2; background-color: #282433; text-align: center; cursor: pointer; /*border: 2px solid #ccc; /* Grey border */ border-radius: 16px; /* Rounded corners */ transition: all 0.3s ease; .custom-button:hover background-color: #e9e9e9; /* Slightly darker on hover */ @media (prefers-color-scheme: dark) background-color: #333; /* Darker background on hover */ border-color: #999; /* Darker border on hover */ /* toggle-font æç¤ºæ¡†çš„æ ·å¼ */.tooltip position: relative; cursor: pointer; /* å¯é€‰ï¼Œè®©ç”¨æˆ·çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå¯ä»¥äº’åŠ¨çš„å…ƒç´  */.tooltip:hover::before white-space: nowrap; line-height: 18px; content: attr(data-msg); position: absolute; padding: 0 8px; display: block; color: #ffffff; background: #656565; border-radius: 6px; font-size: 12px; top: -25px; left: 50%; transform: translateX(-50%); Z-index: 1000; /* ç¡®ä¿æç¤ºæ¡†åœ¨å…¶ä»–å…ƒç´ ä¹‹ä¸Š */.tooltip:hover:: after Content: ; Position: absolute; Top: -8 px; Left: 50%; Transform: translateX (-50%); Border: 6 px solid transparent; border-top-color: #656565 ; /* ç®€åŒ–å†™æ³• *//* toggle-font æŒ‰é’®çš„æ ·å¼ */.widget-wrapper. Toggle-font Background: none; // Example: making background transparent /* Add other styles specific to the toggle-font widget here */ ç¬¬äºŒç§æ ·å¼#WARNING ç¬¬äºŒç§æ ·å¼éœ€è¦å¯¹ä¸»é¢˜æ–‡ä»¶è¿›è¡Œä¸€ä¸¢ä¸¢ä¿®æ”¹ï¼Œä½†è²Œä¼¼ä¸å¤ªå½±å“æ›´æ–°â€¦â€¦åªè¦æ— å†²çªçš„è¯å¯ä»¥ä¸€ç›´ update fork åœ¨ languages/zh-CN.yml ä¸­æ·»åŠ ä¸€è¡Œ font: æ›´æ”¹å­—ä½“ï¼Œå¹¶åœ¨ icons.yml é‡Œæ·»åŠ ï¼š default:font: svg class=theme-icon xmlns=http://www.w3.org/2000/svg width=32 height=32 viewBox=0 0 32 32path d=m12.677 17.781l-2.626-6.256l-2.694 6.256Zm6.723 6.511h-7.069v-1.365l.458-.023a1.847 1.847 0 0 0 .972-.2a.313.313 0 0 0 .145-.263a4.158 4.158 0 0 0-.419-1.4l-.812-1.931H7.322L6.4 21.259a3.319 3.319 0 0 0-.349 1.157c0 .036 0 .119.154.241a2.481 2.481 0 0 0 1.191.247l.448.033v1.354H2v-1.31l.4-.07a2.188 2.188 0 0 0 1-.318a6.318 6.318 0 0 0 1.18-2.066l5.575-13.036H11.2l5.512 13.174a5.255 5.255 0 0 0 1.049 1.835a1.959 1.959 0 0 0 1.19.4l.454.027Zm6.441-2.732v-3.985a22.542 22.542 0 0 0-2.226.97a3.845 3.845 0 0 0-1.29 1.05a2.03 2.03 0 0 0-.388 1.2a1.951 1.951 0 0 0 .491 1.362a1.49 1.49 0 0 0 1.13.544a4.142 4.142 0 0 0 2.283-1.141m-3.333 2.949a2.833 2.833 0 0 1-2.139-.893a3.206 3.206 0 0 1-.833-2.285a2.959 2.959 0 0 1 .415-1.577a5 5 0 0 1 1.791-1.625a23.876 23.876 0 0 1 3.617-1.588v-.074a2.905 2.905 0 0 0-.383-1.833a1.325 1.325 0 0 0-1.075-.412a1.155 1.155 0 0 0-.816.26a.687.687 0 0 0-.277.536l.023.646a1.62 1.62 0 0 1-.4 1.158a1.481 1.481 0 0 1-2.1-.019a1.634 1.634 0 0 1-.391-1.134a2.8 2.8 0 0 1 1.182-2.177a4.813 4.813 0 0 1 3.125-.932a5.381 5.381 0 0 1 2.508.524a2.628 2.628 0 0 1 1.213 1.346a6.391 6.391 0 0 1 .244 2.2v3.55a14.665 14.665 0 0 0 .051 1.749a.661.661 0 0 0 .054.2c.085-.078.284-.225.864-.806l.819-.828v1.967l-.1.128c-.958 1.283-1.883 1.907-2.83 1.907a1.6 1.6 0 0 1-1.257-.557a1.788 1.788 0 0 1-.358-.74a9.688 9.688 0 0 1-1.433.977a3.579 3.579 0 0 1-1.514.332//svg åœ¨ layout/_partial/widgets/toc.ejs ä¸­ï¼Œåœ¨æƒ³è¦çš„ä½ç½®ï¼Œå¦‚ el += editBtn åï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š el += `a class=toggle-font onclick=toggleLXGWFont()` el += icon(default:font) el += `span$__(btn.font)/span` el += `/a` ä¸ºäº†ä½¿è¿™ä¸ªå›¾æ ‡éšä¸»é¢˜æ˜æš—è‡ªåŠ¨å˜åŒ–ï¼Œåœ¨è‡ªå®šä¹‰ css æ–‡ä»¶ä¸­åŠ å…¥ï¼š /* è®¾ç½®å›¾æ ‡é¢œè‰² *//* ç™½å¤©æ¨¡å¼ï¼Œé»˜è®¤å¡«å……è‰²ä¸ºé»‘è‰² */.theme-icon fill: black;/* æš—é»‘æ¨¡å¼ï¼Œå¡«å……è‰²ä¸ºç™½è‰² */@media (prefers-color-scheme: dark) .theme-icon fill: white; éšæœºæ–‡ç« è·³è½¬#NOTE è¦åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹é‡Œæ–°å¢æ–‡ä»¶ï¼Œä¸å½±å“ä¸»é¢˜åç»­æ›´æ–° ç»ˆäºæ¥åˆ°äº†æˆ‘æœ€çˆ±çš„ç”Ÿæ´»å“²å­¦ï¼ä»£ç å‚è€ƒäº†è¿™ä¸ªé“¾æ¥ã€‚åˆ›å»º themes/stellar/scripts/helpers/random.js ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼š hexo.extend.filter.register(after_render:html, function (data) const posts = [] hexo.locals.get(posts).map(function (post) if (post.random !== false) posts.push(post.path) ) data += `scriptvar posts=$JSON.stringify(posts);function toRandomPost() window.pjax ? pjax.loadUrl(/+posts[Math.floor(Math.random()*posts.length)]) : window.open(/+posts[Math.floor(Math.random()*posts.length)], _self); ;/script` return data) åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶å¼•å…¥ _config.stellar.ymlï¼Œinjectçš„ headé‡Œæ·»åŠ  - script src=/js/random.js/script # éšæœºæ–‡ç«  ç„¶ååœ¨éœ€è¦è°ƒç”¨çš„ä½ç½®æ‰§è¡Œ toRandomPost() å‡½æ•°å³å¯ã€‚æ¯”å¦‚ä»»æ„ dom æ·»åŠ  onclick=toRandomPost() å¥½å§ï¼Œæˆ‘çŸ¥é“ä½ è‚¯å®šæ²¡å¬æ‡‚ åæ­£æˆ‘å½“æ—¶çœ‹å®Œæ˜¯ä¸€è„¸æ‡µåœˆ ä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘æœ€åè¿˜æ˜¯ç¢ç£¨æ˜ç™½å•¦ï¼Œä¸‹é¢å°±æœ‰å¡«å†™ç¤ºä¾‹ï¼Œæ¥ç€çœ‹å°±å¥½ æ·»åŠ ä¸€ä¸ªæŒ‰é’®: éšæœºé˜…è¯»ä¸€ç¯‡æ–‡ç«  ä»£ç ï¼šbutton onclick=toRandomPost()éšæœºé˜…è¯»ä¸€ç¯‡æ–‡ç« /button æˆ–è€…æ·»åŠ ä¸€ä¸ªé“¾æ¥: éšæœºé˜…è¯»ä¸€ç¯‡æ–‡ç«  ä»£ç ï¼ša href=# onclick=toRandomPost(); return false;éšæœºé˜…è¯»ä¸€ç¯‡æ–‡ç« /a åœ¨ä¸‹ä¸€èŠ‚è¿˜æœ‰åº”ç”¨ç¤ºä¾‹ï¼Œè¯·å¾€ä¸‹çœ‹â€”â€” è¶…é“¾æ¥æ ·å¼è°ƒæ•´#æ–‡ç« å†…é“¾æ¥ï¼šåŠ ç²—å¹¶ä¸‹ç§»ä¸‹åˆ’çº¿ã€‚æ˜¾ç¤ºæ•ˆæœï¼š ![è¶…é“¾æ¥æ ·å¼](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 22.18.12@2x-1749438579839-1056.webp)è¶…é“¾æ¥æ ·å¼ åœ¨è‡ªå®šä¹‰ css æ–‡ä»¶é‡ŒåŠ å…¥ï¼š /* æ–‡ç« å†…é“¾æ¥ */li:not([class]) a:not([class]),p:not([class]) a:not([class]),table a:not([class]) /*color: var(--theme-link);*/ padding-bottom: 3px; /* å¢åŠ åº•éƒ¨padding */ padding-right: 1px; margin-right: 2px; background: linear-gradient(0, var(--theme-link), var(--theme-link)) no-repeat center bottom / 100% 2px; æµ‹è¯•é“¾æ¥ï¼šå…³äº æ–°æ ·å¼ï¼ä¸ºé“¾æ¥ä½¿ç”¨è§å…‰ç¬”ä¸‹åˆ’çº¿æ•ˆæœï¼Œè¿™ä¸ªå’Œä¸Šé¢çš„æ ·å¼äºŒé€‰ä¸€å°±å¥½ã€‚æ˜¾ç¤ºæ•ˆæœï¼š ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-20 at 19.32.04@2x-1749438579839-1058.webp) /* æ–‡ç« å†…é“¾æ¥ï¼šä¸ºé“¾æ¥ä½¿ç”¨è§å…‰ç¬”ä¸‹åˆ’çº¿æ•ˆæœ */li:not([class]) a:not([class]),p:not([class]) a:not([class]),table a:not([class]) padding-bottom: 0.1rem; background: linear-gradient(0, var(--theme-link-opa), var(--theme-link-opa)) no-repeat center bottom / 100% 40%; é€‰ä¸­æ–‡æœ¬ï¼šä½¿ç”¨è¶…é“¾æ¥é«˜äº®çš„èƒŒæ™¯è‰²#åœ¨è‡ªå®šä¹‰ css æ–‡ä»¶é‡ŒåŠ å…¥ï¼š /* é€‰ä¸­æ–‡æœ¬ï¼šä½¿ç”¨è¶…é“¾æ¥é«˜äº®çš„èƒŒæ™¯è‰² */::selection background: var(--theme-link-opa); Twikoo è¯„è®ºæ ·å¼ä¼˜åŒ–#Title æ ·å¼ä¼˜åŒ–éœ€è¦æ”¹ä¸»é¢˜æ–‡ä»¶ï¼Œä½†ä¸‹é¢çš„ç»™è¯„è®ºè¾“å…¥æ¡†åŠ å…¥æç¤ºæ˜¯çº¯ css å®ç°çš„ä¸éœ€è¦æ”¹ æ˜¾ç¤ºæ•ˆæœï¼š ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 02.13.48@2x-1749438579839-1060.webp) åªæˆªäº†éƒ¨åˆ†ï¼Œæ•´ä½“æ•ˆæœå¯åœ¨è¯„è®ºåŒºæŸ¥çœ‹ã€‚ä»£ç å…¨éƒ¨æŠ„è‡ªæ˜Ÿæ—¥è¯­å¤§ä½¬çš„è¿™æ¡ commitã€‚è¯„è®ºåŒºè¡¨æƒ…æ˜¾ç¤ºä¼˜åŒ–å¯å‚è€ƒè¿™æ¡ commitã€‚ ç»™è¯„è®ºè¾“å…¥æ¡†åŠ å…¥æç¤º#æ˜¾ç¤ºæ•ˆæœï¼š ![img](Hexo-Stellarä¸»é¢˜è£…ä¿®äºŒCleanShot 2024-04-17 at 02.17.46@2x-1749438579839-1062.webp) åŸå§‹ä»£ç å¿˜è®°åœ¨å“ªé‡ŒæŠ„çš„äº†ï¼Œæˆ‘å°±ä¿®æ”¹äº†æœ€å 3 è¡Œâ€¦â€¦åœ¨è‡ªå®šä¹‰ css æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š /* è®¾ç½®æ–‡å­—å†…å®¹ :nth-child(1)çš„ä½œç”¨æ˜¯é€‰æ‹©ç¬¬å‡ ä¸ª */.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(1):before content: è¾“å…¥QQå·ä¼šè‡ªåŠ¨è·å–æ˜µç§°å’Œå¤´åƒğŸ§;.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(2):before content: æ”¶åˆ°å›å¤å°†ä¼šå‘é€åˆ°æ‚¨çš„é‚®ç®±ğŸ“§;.el-input.el-input--small.el-input-group.el-input-group--prepend:nth-child(3):before content: å¡«å†™åå¯ä»¥ç‚¹å‡»æ˜µç§°è®¿é—®æ‚¨çš„ç½‘ç«™ğŸ”—;/* å½“ç”¨æˆ·ç‚¹å‡»è¾“å…¥æ¡†æ—¶æ˜¾ç¤º */.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::before,.el-input.el-input--small.el-input-group.el-input-group--prepend:focus-within::after display: block;/* ä¸»å†…å®¹åŒº */.el-input.el-input--small.el-input-group.el-input-group--prepend::before /* å…ˆéšè—èµ·æ¥ */ display: none; /* ç»å¯¹å®šä½ */ position: absolute; /* å‘ä¸Šç§»åŠ¨60åƒç´  */ top: -60px; /* æ–‡å­—å¼ºåˆ¶ä¸æ¢è¡Œï¼Œé˜²æ­¢left:50%å¯¼è‡´çš„æ–‡å­—æ¢è¡Œ */ white-space: nowrap; /* åœ†è§’ */ border-radius: 10px; /* è·ç¦»å·¦è¾¹50% */ left: 50%; /* ç„¶åå†å‘å·¦è¾¹æŒªåŠ¨è‡ªèº«çš„ä¸€åŠï¼Œå³å¯å®ç°å±…ä¸­ */ transform: translate(-50%); /* å¡«å…… */ padding: 14px 18px; background: #444; color: #fff;/* å°è§’æ ‡ */.el-input.el-input--small.el-input-group.el-input-group--prepend::after display: none; content: ; position: absolute; /* å†…å®¹å¤§å°ï¼ˆå®½é«˜ï¼‰ä¸º0ä¸”è¾¹æ¡†å¤§å°ä¸ä¸º0çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸€æ¡è¾¹ï¼ˆ4ä¸ªè¾¹ï¼‰éƒ½æ˜¯ä¸€ä¸ªä¸‰è§’å½¢ï¼Œç»„æˆä¸€ä¸ªæ­£æ–¹å½¢ã€‚ æˆ‘ä»¬å…ˆå°†æ‰€æœ‰è¾¹æ¡†é€æ˜ï¼Œå†ç»™å…¶ä¸­çš„ä¸€æ¡è¾¹æ·»åŠ é¢œè‰²å°±å¯ä»¥å®ç°å°ä¸‰è§’å›¾æ ‡ */ border: 12px solid transparent; border-top-color: #444; left: 50%; transform: translate(-50%, -48px);.el-input.el-input--small.el-input-group.el-input-group--prepend::before, .el-input.el-input--small.el-input-group.el-input-group--prepend::after z-index: 9999; /* æé«˜å±‚çº§ï¼Œç¡®ä¿å†…å®¹æ˜¾ç¤ºåœ¨æœ€å‰ */ Stellar Twikoo è¡¨æƒ…åŒ…è¡¥å…¨è®¡åˆ’#blobcat#è¿™ä¸ªç³»åˆ—è¡¨æƒ…çœŸçš„ä¸è¦å¤ªå¯çˆ±ï¼Œä¸€çœ¼çˆ±ä¸Š å…‰åœ¨åšå®¢æ­£æ–‡é‡Œç”¨æ€ä¹ˆå¤Ÿï¼Œå½“ç„¶è¿˜è¦åœ¨è¯„è®ºåŒºé‡Œä¹Ÿå®‰æ’ä¸Š blobcat è¡¨æƒ…ä¸»è¦æ¥è‡ªæ˜Ÿæ—¥è¯­ä½¬ã€‚æœ¬äººåœ¨å­¦ä¼šè‡ªå®šä¹‰åæ”¶é›†ç™–å¤§å‘ï¼Œä¸€å£æ°”åˆ¶ä½œäº†å‡ ä¸ªç³»åˆ—çš„è¡¨æƒ…ï¼Œå¾€ç°æœ‰çš„ blobcaté‡Œä¹ŸåŠ äº†å‡ ä¸ªæ¯”è¾ƒå¥½çœ‹çš„ Stellar å¼•å…¥ï¼šblobcatplus:https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/Blob/name.png Twikoo ä½¿ç”¨é“¾æ¥ï¼š https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/blobcatplus.json è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• ablobcatheart ablobcatheartbroken blobcatheart blobcatheartpride blobcatlove blobcatkissheart blobcatsnuggle comfyuee comfyslep blobcatcomfysweat blobcatcomftears blobcatfacepalm blobcat0_0 blobcatangry blobbanhammerr blobcatt blobcatblush blobcatcoffee blobcatcry blobcatdead blobcatdied blobcatdisturbed blobcatfearful blobcatfingerguns blobcatflip blobcatflower blobcatgay blobcatgooglycry blobcatneutral blobcatopenmouth blobcatsadreach blobcatscared blobcatnomblobcat blobcatpresentred blobcatread blobcatsipsweat blobcatsnapped blobcatthink blobcattriumph blobcatumm blobcatverified blobcatbox blobcatcaged blobcatgooglytrash blobcatheadphones blobcathighfive blobcatmelt blobcatmeltthumb blobcatnotlikethis blobcatsaitama blobcatyandere blobcatpeek2 blobcatpeekaboo blobcatphoto ablobcatattentionreverse ablobcatreachrev ablobcatwave blobcatalt blobcatpolice blobcatshocked ablobcatrainbow A_BlobCat_REEEE A_BlobCat_Code ablobcatknitsweats A_BlobCat_Nervous blobcat-aww ablobcatcry ablobcatdead azuki# Stellar å¼•å…¥ï¼šazuki: https://cdn.jsdelivr.net/gh/Saidosi/azuki-emoji-for-waline@1.0/azukisan/name.png Twikoo ä½¿ç”¨é“¾æ¥ï¼š https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/xiaodouni.json è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• 001 015 029 002 016 030 003 017 031 004 018 032 005 019 033 006 020 034 007 021 035 008 022 036 009 023 037 010 024 038 011 025 039 012 026 040 013 027 014 028 neko# Stellar å¼•å…¥ï¼šneko: https://cdn.jsdelivr.net/gh/2x-ercha/twikoo-magic@master/image/Yurui-Neko/name.png Twikoo ä½¿ç”¨é“¾æ¥ï¼š https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/neko.json è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• 001 015 028 002 016 029 003 017 030 004 018 031 005 019 032 006 020 033 007 021 034 008 022 035 009 023 036 010 024 037 011 025 038 012 026 039 013 027 014 dokomo#Stellar å¼•å…¥: dokomo: https://cdn.jsdelivr.net/gh/infinitesum/Twikoo-emoji@master/dokomo/name.png Twikoo ä½¿ç”¨é“¾æ¥: https://raw.githubusercontent.com/infinitesum/Twikoo-emoji/main/dokomo/dokomo.json è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• è¡¨æƒ… ç´¢å¼• dokomo-1 dokomo-18 dokomo-35 dokomo-2 dokomo-19 dokomo-36 dokomo-3 dokomo-20 dokomo-37 dokomo-4 dokomo-21 dokomo-38 dokomo-5 dokomo-22 dokomo-39 dokomo-6 dokomo-23 dokomo-40 dokomo-7 dokomo-24 dokomo-41 dokomo-8 dokomo-25 dokomo-42 dokomo-9 dokomo-26 dokomo-43 dokomo-10 dokomo-27 dokomo-44 dokomo-11 dokomo-28 dokomo-45 dokomo-12 dokomo-29 dokomo-46 dokomo-13 dokomo-30 dokomo-47 dokomo-14 dokomo-31 dokomo-48 dokomo-15 dokomo-32 dokomo-49 dokomo-16 dokomo-33 dokomo-17 dokomo-34 æ€»å­—æ•°ç»Ÿè®¡ï¼šâ€œå‘è¡¨äº†xç¯‡æ–‡ç« ï¼Œå…±è®¡xå­—â€#éœ€è¦ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶ // 3.left.top: é¢åŒ…å±‘å¯¼èˆª el += `div class=flex-row id=breadcrumb` // é¦–é¡µ el += `a class=cap breadcrumb href=$url_for(config.root)$__(btn.home)/a` if (theme.wiki.tree[page.wiki]) el += partial(breadcrumb/wiki) else if (page.layout == post) el += partial(breadcrumb/blog) else el += partial(breadcrumb/page) // end 3.left.top el += `/div` å¹¶åœ¨åé¢æ·»åŠ ï¼š // åœ¨è¿™é‡Œæ·»åŠ æ ‡ç­¾ä»£ç  if (page.layout == post page.tags page.tags.length 0) el += div id=tag; // å°†æ ‡ç­¾å®¹å™¨çš„åˆ›å»ºç§»åŠ¨åˆ°æ¡ä»¶å†…éƒ¨ el += spannbspæ ‡ç­¾ï¼š/span; el += list_categories(page.tags, class: cap breadcrumb, show_count: false, separator: nbsp; , style: none ); el += nbsp/div; toc å­—ä½“å¤§å°è°ƒæ•´#éœ€è¦ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶ å°±æ˜¯æŠŠæ–‡ç« ç›®å½•å­—ä½“è°ƒå°äº†ä¸€ç‚¹ç‚¹ã€‚ åœ¨themes/stellar/source/css/_layout/widgets/toc.styl æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ° // å„çº§ç¼©è¿›æ ·å¼.widget-wrapper.toc .toc .toc-item font-weight: 500 --fsp: $fsp1 .toc-item .toc-item font-weight: 400 --fsp: $fsp2 æŠŠ--fsp: $fsp1ä¸€è¡Œæ³¨é‡Šæ‰ï¼š // å„çº§ç¼©è¿›æ ·å¼.widget-wrapper.toc .toc .toc-item font-weight: 500 /*--fsp: $fsp1*/ .toc-item .toc-item font-weight: 400 --fsp: $fsp2","tags":["ä¸»é¢˜è£…ä¿®"],"categories":["è£…ä¿®æ—¥è®°"]},{"path":"/friends/index.html","content":"ç½‘å€å¯¼èˆª"},{"title":"SQL æ¦‚è¿°","path":"/wiki/sql/index.html","content":"SQL æ˜¯ç”¨äºè®¿é—®å’Œå¤„ç†æ•°æ®åº“çš„æ ‡å‡†çš„è®¡ç®—æœºè¯­è¨€ã€‚ã€€åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å°†å­¦åˆ°å¦‚ä½•ä½¿ç”¨ SQL è®¿é—®å’Œå¤„ç†æ•°æ®ç³»ç»Ÿä¸­çš„æ•°æ®ï¼Œè¿™ç±»æ•°æ®åº“åŒ…æ‹¬ï¼šMySQLã€SQL Serverã€Accessã€Oracleã€Sybaseã€DB2å’Œå…¶ä»–æ•°æ®åº“ç³»ç»Ÿã€‚ æ¯ä¸€ç« å®ä¾‹ æ¯ç« èŠ‚éƒ½æä¾›äº†ç®€å•çš„ SQL ç®€å•å®ä¾‹ã€‚ å®ä¾‹SELECT * FROM Customers; SQLæŸ¥è¯¢ä»ç”¨æˆ·è¡¨ä¸­é€‰æ‹©æ‰€æœ‰è®°å½•ï¼š sql SELECT * FROM users; SQLæŸ¥è¯¢é€šè¿‡ä½¿ç”¨whereå­å¥ä»ç”¨æˆ·è¡¨ä¸­åˆ é™¤å•ä¸ªè®°å½•ï¼š sql DELETE FROM users WHERE user_id=299; é€‚ç”¨äººç¾¤ æœ¬å‚è€ƒçš„ç›®çš„åœ¨äºå¸®åŠ©åˆå­¦è€…æ·±å…¥æµ…å‡ºåœ°å­¦ä¹  SQL è¯­è¨€ã€‚ SQLæµ‹éªŒæµ‹è¯• åœ¨ngrokæµ‹è¯•ä½ çš„SQLæŠ€èƒ½ï¼ SQLå¿«é€Ÿå‚è€ƒ ä¸€ä¸ªSQLå¿«é€Ÿå‚è€ƒã€‚æ‰“å°å¹¶æ”¾åœ¨å£è¢‹é‡Œã€‚ SQLæ•°æ®ç±»å‹ Microsoft Accessï¼ŒMySQLå’ŒSQL Serverçš„æ•°æ®ç±»å‹å’ŒèŒƒå›´ã€‚ ngrokå®æˆ˜è®¤è¯ å®è·µå‡ºçœŸçŸ¥ï¼Œé€šè¿‡è·å¾—è¯ä¹¦æ˜¯ç¼–ç¨‹å®ä¾‹æœ€å¥½çš„è¯æ˜ è¯¥è®°å½•äº†ä½ çš„HTML5CSSçŸ¥è¯†ã€‚ è¯¥è®°å½•äº†æ‚¨çš„é«˜çº§JavaScriptçŸ¥è¯†ã€‚ åœ¨è®°å½•äº†ä½ çš„Bootstrapçš„çŸ¥è¯†ã€‚ åœ¨è®°å½•äº†æ‚¨çš„jQueryçš„çŸ¥è¯†ã€‚ åœ¨è®°å½•äº†ä½ çš„è§†è§‰è®¾è®¡åº”ç”¨çš„çŸ¥è¯†ã€‚ è¯¥è®°å½•äº†ä½ çš„åˆçº§è„šæœ¬ç®—æ³•çš„çŸ¥è¯†ã€‚ è¯¥è®°å½•äº†ä½ æ­£åˆ™è¡¨è¾¾å¼çš„çŸ¥è¯†ã€‚ å­¦ä¹ å‰æ æœ¬å‚è€ƒå‡†å¤‡äº†å„ç§å„æ ·çš„ç¤ºä¾‹ï¼Œåœ¨æ­£å¼å¼€å§‹ç»ƒä¹ ä¹‹å‰ï¼Œæˆ‘å‡å®šä½ å¯¹ä»€ä¹ˆæ˜¯æ•°æ®åº“â€”â€”å°¤å…¶æ˜¯å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰â€”â€”å·²ç»æœ‰æ‰€äº†è§£ï¼ŒåŒæ—¶ä¹ŸçŸ¥é“ä»€ä¹ˆæ˜¯è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ã€‚"},{"title":"SQL å‡½æ•°è¯´æ˜","path":"/wiki/sql/function/function.html","content":"SQL å‡½æ•°è¯´æ˜ SQL æ‹¥æœ‰å¾ˆå¤šå¯ç”¨äºè®¡æ•°å’Œè®¡ç®—çš„å†…å»ºå‡½æ•°ã€‚ SQL Aggregate å‡½æ•° SQL Aggregate å‡½æ•°è®¡ç®—ä»åˆ—ä¸­å–å¾—çš„å€¼ï¼Œè¿”å›ä¸€ä¸ªå•ä¸€çš„å€¼ã€‚ æœ‰ç”¨çš„ Aggregate å‡½æ•°ï¼š AVG() - è¿”å›å¹³å‡å€¼ COUNT() - è¿”å›è¡Œæ•° FIRST() - è¿”å›ç¬¬ä¸€ä¸ªè®°å½•çš„å€¼ LAST() - è¿”å›æœ€åä¸€ä¸ªè®°å½•çš„å€¼ MAX() - è¿”å›æœ€å¤§å€¼ MIN() - è¿”å›æœ€å°å€¼ SUM() - è¿”å›æ€»å’Œ SQL Scalar å‡½æ•° SQL Scalar å‡½æ•°åŸºäºè¾“å…¥å€¼ï¼Œè¿”å›ä¸€ä¸ªå•ä¸€çš„å€¼ã€‚ æœ‰ç”¨çš„ Scalar å‡½æ•°ï¼š UCASE() - å°†æŸä¸ªå­—æ®µè½¬æ¢ä¸ºå¤§å†™ LCASE() - å°†æŸä¸ªå­—æ®µè½¬æ¢ä¸ºå°å†™ MID() - ä»æŸä¸ªæ–‡æœ¬å­—æ®µæå–å­—ç¬¦ LEN() - è¿”å›æŸä¸ªæ–‡æœ¬å­—æ®µçš„é•¿åº¦ ROUND() - å¯¹æŸä¸ªæ•°å€¼å­—æ®µè¿›è¡ŒæŒ‡å®šå°æ•°ä½æ•°çš„å››èˆäº”å…¥ NOW() - è¿”å›å½“å‰çš„ç³»ç»Ÿæ—¥æœŸå’Œæ—¶é—´ FORMAT() - æ ¼å¼åŒ–æŸä¸ªå­—æ®µçš„æ˜¾ç¤ºæ–¹å¼ **æç¤ºï¼š**åœ¨ä¸‹é¢çš„ç« èŠ‚ï¼Œæˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ Aggregate å‡½æ•°å’Œ Scalar å‡½æ•°ã€‚"},{"title":"SQL MAX() å‡½æ•°","path":"/wiki/sql/function/max.html","content":"SQL MAX() å‡½æ•° MAX() å‡½æ•°MAX() å‡½æ•°è¿”å›æ‰€é€‰åˆ—çš„æœ€å¤§å€¼ã€‚ SQL MAX() è¯­æ³•SELECT MAX(column_name)FROM table_nameWHERE condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œProductsâ€ è¡¨çš„æ•°æ®ï¼š ProductID ProductName SupplierID CategoryID Unit Price 1 Chais 1 1 10 boxes x 20 bags 18 2 Chang 1 1 24 - 12 oz bottles 19 3 Aniseed Syrup 1 2 12 - 550 ml bottles 10 4 Chef Antonâ€™s Cajun Seasoning 2 2 48 - 6 oz jars 22 5 Chef Antonâ€™s Gumbo Mix 2 2 36 boxes 21.35 SQL MAX() å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥æŸ¥æ‰¾æœ€æ˜‚è´µçš„äº§å“çš„ä»·æ ¼ï¼š å®ä¾‹SELECT MAX(Price) AS LargestPrice FROM Products; ç»“æœé›†ç±»ä¼¼è¿™æ ·ï¼š javascript LargestPrice"},{"title":"SQL MIN() å‡½æ•°","path":"/wiki/sql/function/min.html","content":"SQL MIN() å‡½æ•° MIN() å‡½æ•°MIN() å‡½æ•°è¿”å›æ‰€é€‰åˆ—çš„æœ€å°å€¼ã€‚ SQL MIN() è¯­æ³•SELECT MIN(column_name)FROM table_nameWHERE condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œProductsâ€ è¡¨çš„æ•°æ®ï¼š ProductID ProductName SupplierID CategoryID Unit Price 1 Chais 1 1 10 boxes x 20 bags 18 2 Chang 1 1 24 - 12 oz bottles 19 3 Aniseed Syrup 1 2 12 - 550 ml bottles 10 4 Chef Antonâ€™s Cajun Seasoning 2 2 48 - 6 oz jars 22 5 Chef Antonâ€™s Gumbo Mix 2 2 36 boxes 21.35 SQL MIN() å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥æŸ¥æ‰¾æœ€ä¾¿å®œçš„äº§å“çš„ä»·æ ¼ï¼š ç¤ºä¾‹ SELECT MIN(Price) AS SmallestPriceFROM Products;"},{"title":"SQL äº‹åŠ¡","path":"/wiki/sql/sentence/affairs.html","content":"SQL äº‹åŠ¡ äº‹åŠ¡æ˜¯åœ¨æ•°æ®åº“ä¸ŠæŒ‰ç…§ä¸€å®šçš„é€»è¾‘é¡ºåºæ‰§è¡Œçš„ä»»åŠ¡åºåˆ—ï¼Œæ—¢å¯ä»¥ç”±ç”¨æˆ·æ‰‹åŠ¨æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ç”±æŸç§æ•°æ®åº“ç¨‹åºè‡ªåŠ¨æ‰§è¡Œã€‚ äº‹åŠ¡å®é™…ä¸Šå°±æ˜¯å¯¹æ•°æ®åº“çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ›´æ”¹ã€‚å½“ä½ åœ¨æŸå¼ è¡¨ä¸Šåˆ›å»ºæ›´æ–°æˆ–è€…åˆ é™¤è®°å½•çš„æ—¶ï¼Œä½ å°±å·²ç»åœ¨ä½¿ç”¨äº‹åŠ¡äº†ã€‚æ§åˆ¶äº‹åŠ¡ä»¥ä¿è¯æ•°æ®å®Œæ•´æ€§ï¼Œå¹¶å¯¹æ•°æ®åº“é”™è¯¯åšå‡ºå¤„ç†ï¼Œå¯¹æ•°æ®åº“æ¥è¯´éå¸¸é‡è¦ã€‚ å®è·µä¸­ï¼Œé€šå¸¸ä¼šå°†å¾ˆå¤š SQL æŸ¥è¯¢ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶å°†å…¶ä½œä¸ºæŸä¸ªäº‹åŠ¡ä¸€éƒ¨åˆ†æ¥æ‰§è¡Œã€‚ äº‹åŠ¡çš„å±æ€§ äº‹åŠ¡å…·æœ‰ä»¥ä¸‹å››ä¸ªæ ‡å‡†å±æ€§ï¼Œé€šå¸¸ç”¨ç¼©ç•¥è¯ ACID æ¥è¡¨ç¤ºï¼š **åŸå­æ€§ï¼š**ä¿è¯ä»»åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œéƒ½æ‰§è¡Œå®Œæ¯•ï¼›å¦åˆ™ï¼Œäº‹åŠ¡ä¼šåœ¨å‡ºç°é”™è¯¯æ—¶ç»ˆæ­¢ï¼Œå¹¶å›æ»šä¹‹å‰æ‰€æœ‰æ“ä½œåˆ°åŸå§‹çŠ¶æ€ã€‚ **ä¸€è‡´æ€§ï¼š**å¦‚æœäº‹åŠ¡æˆåŠŸæ‰§è¡Œï¼Œåˆ™æ•°æ®åº“çš„çŠ¶æ€å¾—åˆ°äº†è¿›è¡Œäº†æ­£ç¡®çš„è½¬å˜ã€‚ **éš”ç¦»æ€§ï¼š**ä¿è¯ä¸åŒçš„äº‹åŠ¡ç›¸äº’ç‹¬ç«‹ã€é€æ˜åœ°æ‰§è¡Œã€‚ **æŒä¹…æ€§ï¼š**å³ä½¿å‡ºç°ç³»ç»Ÿæ•…éšœï¼Œä¹‹å‰æˆåŠŸæ‰§è¡Œçš„äº‹åŠ¡çš„ç»“æœä¹Ÿä¼šæŒä¹…å­˜åœ¨ã€‚ äº‹åŠ¡æ§åˆ¶ æœ‰å››ä¸ªå‘½ä»¤ç”¨äºæ§åˆ¶äº‹åŠ¡ï¼š **COMMITï¼š**æäº¤æ›´æ”¹ï¼› **ROLLBACKï¼š**å›æ»šæ›´æ”¹ï¼› **SAVEPOINTï¼š**åœ¨äº‹åŠ¡å†…éƒ¨åˆ›å»ºä¸€ç³»åˆ—å¯ä»¥ ROLLBACK çš„è¿˜åŸç‚¹ï¼› **SET TRANSACTIONï¼š**å‘½åäº‹åŠ¡ï¼› COMMIT å‘½ä»¤ COMMIT å‘½ä»¤ç”¨äºä¿å­˜äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€åšçš„æ›´æ”¹ã€‚ COMMIT å‘½ä»¤ä¼šå°†è‡ªä¸Šæ¬¡ COMMIT å‘½ä»¤æˆ–è€… ROLLBACK å‘½ä»¤æ‰§è¡Œä»¥æ¥æ‰€æœ‰çš„äº‹åŠ¡éƒ½ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚ COMMIT å‘½ä»¤çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š COMMIT; ç¤ºä¾‹ è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢çš„ç¤ºä¾‹å°†ä¼šåˆ é™¤è¡¨ä¸­ age25 çš„è®°å½•ï¼Œç„¶åå°†æ›´æ”¹æäº¤ï¼ˆCOMMITï¼‰åˆ°æ•°æ®åº“ä¸­ã€‚ SQL DELETE FROM CUSTOMERS WHERE AGE = 25;SQL COMMIT; ä¸Šè¿°è¯­å¥å°†ä¼šä»è¡¨ä¸­åˆ é™¤ä¸¤è¡Œè®°å½•ï¼Œå†æ‰§è¡Œ SELECT è¯­å¥å°†ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 3 | kaushik | 23 | Kota | 2000.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ROLLBACK å‘½ä»¤ ROLLBACK å‘½ä»¤ç”¨äºæ’¤é”€å°šæœªä¿å­˜åˆ°æ•°æ®åº“ä¸­çš„äº‹åŠ¡ã€‚ ROLLBACK å‘½ä»¤åªèƒ½æ’¤é”€è‡ªä¸Šæ¬¡ COMMIT å‘½ä»¤æˆ–è€… ROLLBACK å‘½ä»¤æ‰§è¡Œä»¥æ¥çš„äº‹åŠ¡ã€‚ ROLLBACK å‘½ä»¤çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š ROLLBACK; ç¤ºä¾‹ï¼š è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢çš„ç¤ºä¾‹å°†ä¼šä»è¡¨ä¸­åˆ é™¤æ‰€æœ‰ age25 çš„è®°å½•ï¼Œç„¶åå›æ»šï¼ˆROLLBACKï¼‰å¯¹æ•°æ®åº“æ‰€åšçš„æ›´æ”¹ã€‚ SQL DELETE FROM CUSTOMERS WHERE AGE = 25;SQL ROLLBACK; ç»“æœæ˜¯åˆ é™¤æ“ä½œå¹¶ä¸ä¼šå¯¹æ•°æ®åº“äº§ç”Ÿå½±å“ã€‚ç°åœ¨ï¼Œæ‰§è¡Œ SELECT è¯­å¥å°†ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ SAVEPOINT å‘½ä»¤ SAVEPOINT æ˜¯äº‹åŠ¡ä¸­çš„ä¸€ä¸ªçŠ¶æ€ç‚¹ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†äº‹åŠ¡å›æ»šè‡³ç‰¹å®šçš„ç‚¹ï¼Œè€Œä¸æ˜¯å°†æ•´ä¸ªäº‹åŠ¡éƒ½æ’¤é”€ã€‚ SAVEPOINT å‘½ä»¤çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š SAVEPOINT SAVEPOINT_NAME; è¯¥å‘½ä»¤åªèƒ½åœ¨äº‹åŠ¡è¯­å¥ä¹‹é—´åˆ›å»ºä¿å­˜ç‚¹ï¼ˆSAVEPOINTï¼‰ã€‚ROLLBACK å‘½ä»¤å¯ä»¥ç”¨äºæ’¤é”€ä¸€ç³»åˆ—çš„äº‹åŠ¡ã€‚ å›æ»šè‡³æŸä¸€ä¿å­˜ç‚¹çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š ROLLBACK TO SAVEPOINT_NAME; ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œä½ è®¡åˆ’ä» CUSTOMERS è¡¨ä¸­åˆ é™¤ä¸‰æ¡ä¸åŒçš„è®°å½•ï¼Œå¹¶åœ¨æ¯æ¬¡åˆ é™¤ä¹‹å‰åˆ›å»ºä¸€ä¸ªä¿å­˜ç‚¹ï¼ˆSAVEPOINTï¼‰ï¼Œä»è€Œä½¿å¾—ä½ å¯ä»¥åœ¨ä»»ä½•ä»»ä½•æ—¶å€™å›æ»šåˆ°ä»»æ„çš„ä¿å­˜ç‚¹ï¼Œä»¥æ¢å¤æ•°æ®è‡³å…¶åŸå§‹çŠ¶æ€ã€‚ ç¤ºä¾‹ è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ æ“ä½œåºåˆ—å¦‚ä¸‹æ‰€ç¤ºï¼š SQL SAVEPOINT SP1;Savepoint created.SQL DELETE FROM CUSTOMERS WHERE ID=1;1 row deleted.SQL SAVEPOINT SP2;Savepoint created.SQL DELETE FROM CUSTOMERS WHERE ID=2;1 row deleted.SQL SAVEPOINT SP3;Savepoint created.SQL DELETE FROM CUSTOMERS WHERE ID=3;1 row deleted. ç°åœ¨ï¼Œä¸‰æ¬¡åˆ é™¤æ“ä½œå·²ç»ç”Ÿæ•ˆäº†ï¼Œå¦‚æœæ­¤æ—¶ä½ æ”¹å˜ä¸»æ„å†³å®šå›æ»šè‡³åå­—ä¸º SP2 çš„ä¿å­˜ç‚¹ï¼Œç”±äº SP2 äºç¬¬ä¸€æ¬¡åˆ é™¤æ“ä½œä¹‹ååˆ›å»ºï¼Œæ‰€ä»¥åä¸¤æ¬¡åˆ é™¤æ“ä½œå°†ä¼šè¢«æ’¤é”€ã€‚ SQL ROLLBACK TO SP2;Rollback complete. æ³¨æ„ï¼Œç”±äºä½ å°†æ•°æ®åº“å›æ»šè‡³ SP2ï¼Œæ‰€ä»¥åªæœ‰ç¬¬ä¸€æ¬¡åˆ é™¤çœŸæ­£èµ·æ•ˆäº†ï¼š SQL SELECT * FROM CUSTOMERS;+----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+6 rows selected. RELEASE SAVEPOINT å‘½ä»¤ RELEASE SAVEPOINT å‘½ä»¤ç”¨äºåˆ é™¤å…ˆå‰åˆ›å»ºçš„ä¿å­˜ç‚¹ã€‚ RELEASE SAVEPOINT çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š RELEASE SAVEPOINT SAVEPOINT_NAME; ä¿å­˜ç‚¹ä¸€æ—¦è¢«é‡Šæ”¾ï¼Œä½ å°±ä¸èƒ½å¤Ÿå†ç”¨ ROLLBACK å‘½ä»¤æ¥æ’¤é”€è¯¥ä¿å­˜ç‚¹ä¹‹åçš„äº‹åŠ¡äº†ã€‚ SET TRANSACTION å‘½ä»¤ SET TRANSACTION å‘½ä»¤å¯ä»¥ç”¨æ¥åˆå§‹åŒ–æ•°æ®åº“äº‹åŠ¡ï¼ŒæŒ‡å®šéšåçš„äº‹åŠ¡çš„å„ç§ç‰¹å¾ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°†æŸä¸ªäº‹åŠ¡æŒ‡å®šä¸ºåªè¯»æˆ–è€…è¯»å†™ã€‚ SET TRANSACTION å‘½ä»¤çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SET TRANSACTION [ READ WRITE | READ ONLY ];"},{"title":"SQL ALTER TABLEè¯­å¥","path":"/wiki/sql/sentence/alter.html","content":"SQL ALTER TABLE è¯­å¥ ALTER TABLE è¯­å¥ALTER TABLE è¯­å¥ç”¨äºåœ¨ç°æœ‰è¡¨ä¸­æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹åˆ—ã€‚ SQL ALTER TABLE è¯­æ³•è‹¥è¦å‘è¡¨ä¸­æ·»åŠ åˆ—ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š ALTER TABLE table_name ADD column_name datatype è‹¥è¦åˆ é™¤è¡¨ä¸­çš„åˆ—ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼ˆè¯·æ³¨æ„ï¼Œä¸€äº›æ•°æ®åº“ç³»ç»Ÿä¸å…è®¸è¿™æ ·åˆ é™¤æ•°æ®åº“è¡¨ä¸­çš„åˆ—ï¼‰ï¼š ALTER TABLE table_name DROP COLUMN column_name è‹¥è¦æ›´æ”¹è¡¨ä¸­åˆ—çš„æ•°æ®ç±»å‹ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š SQL Server MS Accessï¼š ALTER TABLE table_name ALTER COLUMN column_name datatype My SQL Oracleï¼š ALTER TABLE table_name MODIFY COLUMN column_name datatype SQL ALTER TABLE å®ä¾‹è¯·çœ‹ â€œPersonsâ€ è¡¨ï¼š P_Id LastName FirstName Address City 1 Hansen Ola Timoteivn 10 Sandnes 2 Svendson Tove Borgvn 23 Sandnes 3 Pettersen Kari Storgt 20 Stavanger ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³åœ¨ â€œPersonsâ€ è¡¨ä¸­æ·»åŠ ä¸€ä¸ªåä¸º â€œDateOfBirthâ€ çš„åˆ—ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­å¥ï¼š ALTER TABLE Persons ADD DateOfBirth date è¯·æ³¨æ„ï¼Œæ–°åˆ— â€œDateOfBirthâ€ çš„ç±»å‹æ˜¯ dateï¼Œå¯ä»¥å­˜æ”¾æ—¥æœŸã€‚æ•°æ®ç±»å‹è§„å®šåˆ—ä¸­å¯ä»¥å­˜æ”¾çš„æ•°æ®çš„ç±»å‹ã€‚å¦‚éœ€äº†è§£ MS Accessã€MySQL å’Œ SQL Server ä¸­å¯ç”¨çš„æ•°æ®ç±»å‹ï¼Œè¯·è®¿é—®æˆ‘ä»¬å®Œæ•´çš„ ã€‚ ç°åœ¨ï¼Œâ€Personsâ€ è¡¨å°†å¦‚ä¸‹æ‰€ç¤ºï¼š P_Id LastName FirstName Address City DateOfBirth 1 Hansen Ola Timoteivn 10 Sandnes 2 Svendson Tove Borgvn 23 Sandnes 3 Pettersen Kari Storgt 20 Stavanger æ”¹å˜æ•°æ®ç±»å‹å®ä¾‹ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³è¦æ”¹å˜ â€œPersonsâ€ è¡¨ä¸­ â€œDateOfBirthâ€ åˆ—çš„æ•°æ®ç±»å‹ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­å¥ï¼š ALTER TABLE Persons ALTER COLUMN DateOfBirth year è¯·æ³¨æ„ï¼Œç°åœ¨ â€œDateOfBirthâ€ åˆ—çš„ç±»å‹æ˜¯ yearï¼Œå¯ä»¥å­˜æ”¾ 2 ä½æˆ– 4 ä½æ ¼å¼çš„å¹´ä»½ã€‚ DROP COLUMN å®ä¾‹æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æƒ³è¦åˆ é™¤ â€œPersonâ€ è¡¨ä¸­çš„ â€œDateOfBirthâ€ åˆ—ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­å¥ï¼š ALTER TABLE Persons DROP COLUMN DateOfBirth ç°åœ¨ï¼Œâ€Personsâ€ è¡¨å°†å¦‚ä¸‹æ‰€ç¤ºï¼š P_Id LastName FirstName Address City 1 Hansen Ola Timoteivn 10 Sandnes 2 Svendson Tove Borgvn 23 Sandnes 3 Pettersen Kari Storgt 20 Stavanger"},{"title":"SQL ALTER TABLE å‘½ä»¤","path":"/wiki/sql/sentence/alteryufa.html","content":"SQL ALTER TABLE å‘½ä»¤ SQL ALTER TABLE å‘½ä»¤ç”¨äºæ·»åŠ ã€åˆ é™¤æˆ–è€…æ›´æ”¹ç°æœ‰æ•°æ®è¡¨ä¸­çš„åˆ—ã€‚ ä½ è¿˜å¯ä»¥ç”¨ ALTER TABLE å‘½ä»¤æ¥æ·»åŠ æˆ–è€…åˆ é™¤ç°æœ‰æ•°æ®è¡¨ä¸Šçš„çº¦æŸã€‚ è¯­æ³• ä½¿ç”¨ ALTER TABLE åœ¨ç°æœ‰çš„æ•°æ®è¡¨ä¸­æ·»åŠ æ–°åˆ—çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name ADD column_name datatype; ä½¿ç”¨ ALTER TABLE åœ¨ç°æœ‰çš„æ•°æ®è¡¨ä¸­åˆ é™¤åˆ—çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name DROP COLUMN column_name; ä½¿ç”¨ ALTER TABLE æ›´æ”¹ç°æœ‰çš„æ•°æ®è¡¨ä¸­åˆ—çš„æ•°æ®ç±»å‹çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name MODIFY COLUMN column_name datatype; ä½¿ç”¨ ALTER TABLE ç»™æŸåˆ—æ·»åŠ  NOT NULL çº¦æŸ çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name MODIFY column_name datatype NOT NULL; ä½¿ç”¨ ALTER TABLE ç»™æ•°æ®è¡¨æ·»åŠ  å”¯ä¸€çº¦æŸ çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name ADD CONSTRAINT MyUniqueConstraint UNIQUE(column1, column2...); ä½¿ç”¨ ALTER TABLE ç»™æ•°æ®è¡¨æ·»åŠ  CHECK çº¦æŸ çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name ADD CONSTRAINT MyUniqueConstraint CHECK (CONDITION); ä½¿ç”¨ ALTER TABLE ç»™æ•°æ®è¡¨æ·»åŠ  ä¸»é”®çº¦æŸ çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name ADD CONSTRAINT MyPrimaryKey PRIMARY KEY (column1, column2...); ä½¿ç”¨ ALTER TABLE ä»æ•°æ®è¡¨ä¸­ åˆ é™¤çº¦æŸ çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name DROP CONSTRAINT MyUniqueConstraint; å¦‚æœä½ åœ¨ä½¿ç”¨ MySQLï¼Œä»£ç åº”å½“å¦‚ä¸‹ï¼š ALTER TABLE table_name DROP INDEX MyUniqueConstraint; ä½¿ç”¨ ALTER TABLE ä»æ•°æ®è¡¨ä¸­ åˆ é™¤ä¸»é”®çº¦æŸ çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š ALTER TABLE table_name DROP CONSTRAINT MyPrimaryKey; å¦‚æœä½ åœ¨ä½¿ç”¨ MySQLï¼Œä»£ç åº”å½“å¦‚ä¸‹ï¼š ALTER TABLE table_name DROP PRIMARY KEY; ç¤ºä¾‹ï¼š è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨ç°æœ‰çš„è¡¨ä¸­æ·»åŠ æ–°çš„ä¸€åˆ—ï¼š ALTER TABLE CUSTOMERS ADD SEX char(1); ç°åœ¨ï¼ŒCUSTOMERS å·²ç»è¢«æ›´æ”¹äº†ï¼ŒSELECT è¯­å¥çš„è¾“å‡ºåº”å½“å¦‚ä¸‹æ‰€ç¤ºï¼š +----+---------+-----+-----------+----------+------+| ID | NAME | AGE | ADDRESS | SALARY | SEX |+----+---------+-----+-----------+----------+------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 | NULL || 2 | Ramesh | 25 | Delhi | 1500.00 | NULL || 3 | kaushik | 23 | Kota | 2000.00 | NULL || 4 | kaushik | 25 | Mumbai | 6500.00 | NULL || 5 | Hardik | 27 | Bhopal | 8500.00 | NULL || 6 | Komal | 22 | MP | 4500.00 | NULL || 7 | Muffy | 24 | Indore | 10000.00 | NULL |+----+---------+-----+-----------+----------+------+ ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä» CUSTOMERS è¡¨ä¸­åˆ é™¤ SEX åˆ—ï¼š ALTER TABLE CUSTOMERS DROP COLUMN SEX; ç°åœ¨ï¼ŒCUSTOMERS å·²ç»è¢«æ›´æ”¹äº†ï¼ŒSELECT è¯­å¥çš„è¾“å‡ºåº”å½“å¦‚ä¸‹æ‰€ç¤ºï¼š +----+---------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+---------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Ramesh | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | kaushik | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+---------+-----+-----------+----------+"},{"title":"SQL Aliasesåˆ«å","path":"/wiki/sql/sentence/aliases.html","content":"SQL åˆ«åï¼ˆAliasesï¼‰ é€šè¿‡ä½¿ç”¨ SQLï¼Œå¯ä»¥ä¸ºè¡¨åç§°æˆ–åˆ—åç§°æŒ‡å®šåˆ«åï¼ˆAliasï¼‰ã€‚ SQL åˆ«åç”¨äºä¸ºè¡¨æˆ–è¡¨ä¸­çš„åˆ—æä¾›ä¸´æ—¶åç§°ï¼Œæ•°æ®åº“ä¸­çš„å®é™…è¡¨åä¸ä¼šæ›´æ”¹ã€‚ SQL åˆ«åé€šå¸¸ç”¨äºä½¿åˆ—åæ›´å…·å¯è¯»æ€§ã€‚ SQL ä¸€ä¸ªåˆ«ååªå­˜åœ¨äºæŸ¥è¯¢æœŸé—´ã€‚ è¡¨åˆ«åçš„ä½¿ç”¨æ˜¯åœ¨ç‰¹å®šSQLè¯­å¥ä¸­é‡å‘½åè¡¨ã€‚ åˆ—åˆ«åç”¨äºä¸ºç‰¹å®šSQLæŸ¥è¯¢é‡å‘½åè¡¨çš„åˆ—ã€‚ åˆ—çš„ SQL Alias è¯­æ³•SELECT column_name AS alias_nameFROM table_name;WHERE condition; è¡¨çš„ SQL Alias è¯­æ³•SELECT column_name(s)FROM table_name AS alias_name;WHERE condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK ä¸‹é¢æ˜¯é€‰è‡ª â€œOrdersâ€ è¡¨çš„æ•°æ®ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10354 58 8 1996-11-14 3 10355 4 6 1996-11-15 1 10356 86 6 1996-11-18 2 åˆ—çš„ Alias å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥åˆ›å»ºä¸¤ä¸ªåˆ«åï¼Œä¸€ä¸ªç”¨äºCustomerIDåˆ—ï¼Œå¦ä¸€ä¸ªç”¨äºCustomerNameåˆ—ï¼š ç¤ºä¾‹ SELECT CustomerID as ID, CustomerName AS CustomerFROM Customers; ä»¥ä¸‹SQLè¯­å¥åˆ›å»ºä¸¤ä¸ªåˆ«åï¼Œä¸€ä¸ªç”¨äºCustomerNameåˆ—ï¼Œä¸€ä¸ªç”¨äºContactNameåˆ—ã€‚æ³¨ï¼š å¦‚æœåˆ«ååŒ…å«ç©ºæ ¼ï¼Œåˆ™éœ€è¦åŒå¼•å·æˆ–æ–¹æ‹¬å·ï¼š ç¤ºä¾‹ SELECT CustomerName AS Customer, ContactName AS [Contact Person]FROM Customers; ä»¥ä¸‹SQLè¯­å¥åˆ›å»ºä¸€ä¸ªåä¸ºâ€Addressâ€çš„åˆ«åï¼Œå®ƒåŒ…å«å››åˆ—ï¼ˆAddressï¼ŒPostalCodeï¼ŒCity and Countryï¼‰ï¼š SELECT CustomerName, Address + , + PostalCode + , + City + , + Country AS AddressFROM Customers; **ã€€æ³¨æ„ï¼š** è¦ä½¿ä¸Šé¢çš„SQLè¯­å¥åœ¨MySQLä¸­å·¥ä½œï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š SELECT CustomerName, CONCAT(Address,, ,PostalCode,, ,City,, ,Country) AS AddressFROM Customers; è¡¨çš„ Alias å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©CustomerID 4ï¼ˆâ€å›´ç»•è§’â€ï¼‰çš„æ‰€æœ‰è®¢å•ã€‚æˆ‘ä»¬ä½¿ç”¨â€Customersâ€å’Œâ€Ordersâ€è¡¨ï¼Œç»™å®ƒä»¬åˆ†åˆ«ä¸ºâ€câ€å’Œâ€oâ€çš„è¡¨åˆ«åï¼ˆè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åˆ«åæ¥ä½¿SQLæ›´çŸ­ï¼‰ï¼š ç¤ºä¾‹ SELECT o.OrderID, o.OrderDate, c.CustomerNameFROM Customers AS c, Orders AS oWHERE c.CustomerName=Around the Horn AND c.CustomerID=o.CustomerID; ä»¥ä¸‹SQLè¯­å¥ä¸ä¸Šè¿°ç›¸åŒï¼Œä½†æ²¡æœ‰åˆ«åï¼š ç¤ºä¾‹ SELECT Orders.OrderID, Orders.OrderDate, Customers.CustomerNameFROM Customers, OrdersWHERE Customers.CustomerName=Around the Horn AND Customers.CustomerID=Orders.CustomerID; åœ¨ä¸‹åˆ—æƒ…å†µä¸‹ä½¿ç”¨åˆ«åæ˜¯æœ‰ç”¨çš„ï¼š æŸ¥è¯¢æ¶‰åŠå¤šä¸ªè¡¨ ç”¨äºæŸ¥è¯¢å‡½æ•° éœ€è¦æŠŠä¸¤ä¸ªæˆ–æ›´å¤šçš„åˆ—æ”¾åœ¨ä¸€èµ· åˆ—åé•¿æˆ–å¯è¯»æ€§å·® ç¤ºä¾‹ è€ƒè™‘ä¸‹é¢ä¸¤ä¸ªæ•°æ®è¡¨ï¼š ï¼ˆaï¼‰CUSTOMERS è¡¨ï¼Œå¦‚ä¸‹ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰å¦ä¸€ä¸ªæ˜¯ ORDERS è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š +-----+---------------------+-------------+--------+|OID | DATE | CUSTOMER_ID | AMOUNT |+-----+---------------------+-------------+--------+| 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 || 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 |+-----+---------------------+-------------+--------+ ä¸‹é¢æ˜¯è¡¨åˆ«åçš„ç”¨æ³•ï¼š SQL SELECT C.ID, C.NAME, C.AGE, O.AMOUNT FROM CUSTOMERS AS C, ORDERS AS O WHERE C.ID = O.CUSTOMER_ID; ä¸Šé¢è¯­å¥çš„è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+--------+| ID | NAME | AGE | AMOUNT |+----+----------+-----+--------+| 3 | kaushik | 23 | 3000 || 3 | kaushik | 23 | 1500 || 2 | Khilan | 25 | 1560 || 4 | Chaitali | 25 | 2060 |+----+----------+-----+--------+ ä¸‹é¢æ˜¯åˆ—åˆ«åçš„ç”¨æ³•ï¼š SQL SELECT ID AS CUSTOMER_ID, NAME AS CUSTOMER_NAME FROM CUSTOMERS WHERE SALARY IS NOT NULL; å…¶è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +-------------+---------------+| CUSTOMER_ID | CUSTOMER_NAME |+-------------+---------------+| 1 | Ramesh || 2 | Khilan || 3 | kaushik || 4 | Chaitali || 5 | Hardik || 6 | Komal || 7 | Muffy |+-------------+---------------+"},{"title":"SQL ä¸/æˆ–è¿ç®—ç¬¦","path":"/wiki/sql/sentence/andor.html","content":"SQL AND OR è¿ç®—ç¬¦ ANDORè¿ç®—ç¬¦ç”¨äºæ ¹æ®ä¸€ä¸ªä»¥ä¸Šçš„æ¡ä»¶è¿‡æ»¤è®°å½•ï¼Œå³ç”¨äºç»„åˆå¤šä¸ªæ¡ä»¶ä»¥ç¼©å°SQLè¯­å¥ä¸­çš„æ•°æ®ã€‚ WHEREå­å¥å¯ä»¥ä¸ANDï¼ŒORå’ŒNOTè¿ç®—ç¬¦ç»“åˆä½¿ç”¨ã€‚ ANDå’ŒORè¿ç®—ç¬¦ç”¨äºæ ¹æ®å¤šä¸ªæ¡ä»¶ç­›é€‰è®°å½•ï¼š å¦‚æœç”±ANDåˆ†éš”çš„æ‰€æœ‰æ¡ä»¶ä¸ºTRUEï¼Œåˆ™ANDè¿ç®—ç¬¦æ˜¾ç¤ºè®°å½•ã€‚ å¦‚æœä½¿ç”¨ANDè¿ç®—ç¬¦ç»„åˆNä¸ªæ¡ä»¶ã€‚å¯¹äºSQLè¯­å¥æ‰§è¡Œçš„æ“ä½œ(æ— è®ºæ˜¯äº‹åŠ¡è¿˜æ˜¯æŸ¥è¯¢)ï¼Œæ‰€æœ‰ç”±ANDåˆ†éš”çš„æ¡ä»¶éƒ½å¿…é¡»ä¸ºTRUEã€‚ å¦‚æœç”±ORåˆ†éš”çš„ä»»ä½•æ¡ä»¶ä¸ºçœŸï¼Œåˆ™ORè¿ç®—ç¬¦æ˜¾ç¤ºè®°å½•ã€‚ å¦‚æœä½¿ç”¨ORè¿ç®—ç¬¦ç»„åˆNä¸ªæ¡ä»¶ã€‚å¯¹äºSQLè¯­å¥æ‰§è¡Œçš„æ“ä½œ(æ— è®ºæ˜¯äº‹åŠ¡è¿˜æ˜¯æŸ¥è¯¢)ï¼ŒORåˆ†éš”çš„ä»»ä½•ä¸€ä¸ªæ¡ä»¶éƒ½å¿…é¡»ä¸ºTRUEã€‚ å¦‚æœæ¡ä»¶ä¸ä¸ºTRUEï¼Œåˆ™NOTè¿ç®—ç¬¦æ˜¾ç¤ºè®°å½•ã€‚ ANDè¯­æ³•SELECT column1, column2, ...FROM table_nameWHERE condition1 AND condition2 AND condition3 ...; ORè¯­æ³•SELECT column1, column2, ...FROM table_nameWHERE condition1 OR condition2 OR condition3 ...; NOTè¯­æ³•SELECT column1, column2, ...FROM table_nameWHERE NOT condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden AND è¿ç®—ç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰æ‹©å…¶å›½å®¶ä¸º â€œGermanyâ€ ã€å…¶åŸå¸‚ä¸ºâ€Berlinâ€ çš„æ‰€æœ‰å®¢æˆ·ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE Country=GermanyAND City=Berlin; OR è¿ç®—ç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©åŸå¸‚ä¸ºâ€Berlinâ€æˆ–â€MÃ¼nchenâ€çš„â€Customersâ€çš„æ‰€æœ‰å­—æ®µï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City=Berlin OR City=MÃ¼nchen; NOT è¿ç®—ç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å›½å®¶ä¸æ˜¯ â€œGermanyâ€çš„â€Customersâ€çš„æ‰€æœ‰å­—æ®µï¼š SELECT * FROM CustomersWHERE NOT Country=Germany; ç»“åˆ AND OR æ‚¨è¿˜å¯ä»¥ç»„åˆANDå’ŒORï¼ˆä½¿ç”¨æ‹¬å·æ¥ç»„æˆæˆå¤æ‚çš„è¡¨è¾¾å¼ï¼‰ã€‚ ä»¥ä¸‹SQLè¯­å¥ä»å›½å®¶ â€œGermanyâ€ ä¸”åŸå¸‚ä¸ºâ€Berlinâ€ æˆ–â€MÃ¼nchenâ€çš„â€Customersâ€ è¡¨ä¸­é€‰æ‹©æ‰€æœ‰å®¢æˆ·ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE Country=GermanyAND (City=Berlin OR City=MÃ¼nchen); ç»“åˆANDï¼ŒORå’ŒNOT ä½ ä¹Ÿå¯ä»¥ç»“åˆANDï¼ŒORå’ŒNOTè¿ç®—ç¬¦ã€‚ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å›½å®¶æ˜¯â€å¾·å›½â€çš„â€å®¢æˆ·â€çš„æ‰€æœ‰å­—æ®µï¼ŒåŸå¸‚å¿…é¡»æ˜¯â€æŸæ—â€æˆ–â€æ…•å°¼é»‘â€ï¼ˆç”¨æ‹¬å·å½¢æˆå¤æ‚è¡¨è¾¾å¼ï¼‰ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE Country=Germany AND (City=Berlin OR City=MÃ¼nchen); ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©æ¥è‡ªâ€Customersâ€ çš„å›½å®¶ä¸æ˜¯ â€œGermanyâ€ ä¸”ä¸æ˜¯ â€œUSAâ€çš„æ‰€æœ‰å­—æ®µï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE NOT Country=Germany AND NOT Country=USA;"},{"title":"SQL AUTO INCREMENTè¯­å¥","path":"/wiki/sql/sentence/autoincrement.html","content":"SQL AUTO INCREMENT å­—æ®µ Auto-increment ä¼šåœ¨æ–°è®°å½•æ’å…¥è¡¨ä¸­æ—¶ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„æ•°å­—ã€‚ AUTO INCREMENT å­—æ®µ æˆ‘ä»¬é€šå¸¸å¸Œæœ›åœ¨æ¯æ¬¡æ’å…¥æ–°è®°å½•æ—¶è‡ªåŠ¨åˆ›å»ºä¸»é”®å­—æ®µçš„å€¼ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨è¡¨ä¸­åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨å¢é‡ï¼ˆauto-incrementï¼‰å­—æ®µã€‚ ç”¨äº MySQL çš„è¯­æ³• ä»¥ä¸‹SQLè¯­å¥å°† â€œPersonsâ€ è¡¨ä¸­çš„â€IDâ€åˆ—å®šä¹‰ä¸ºè‡ªåŠ¨é€’å¢ï¼ˆauto-incrementï¼‰ä¸»é”®å­—æ®µï¼š CREATE TABLE Persons ( ID int NOT NULL AUTO_INCREMENT, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), PRIMARY KEY (ID) ) MySQLä½¿ç”¨AUTO_INCREMENTå…³é”®å­—æ¥æ‰§è¡Œè‡ªåŠ¨å¢é‡ï¼ˆ auto-increment ï¼‰ä»»åŠ¡ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒAUTO_INCREMENTçš„èµ·å§‹å€¼ä¸º1ï¼Œæ¯ä¸ªæ–°è®°å½•å¢åŠ 1ã€‚ è‹¥è¦ä»¥å…¶ä»–å€¼å¼€å§‹AUTO_INCREMENTåºåˆ—ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹SQLè¯­æ³•ï¼š ALTER TABLE Persons AUTO_INCREMENT=100 è¦åœ¨ â€œPersonsâ€ è¡¨ä¸­æ’å…¥æ–°è®°å½•ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸ºâ€IDâ€æ æŒ‡å®šå€¼ï¼ˆè‡ªåŠ¨æ·»åŠ å”¯ä¸€å€¼ï¼‰ï¼š INSERT INTO Persons (FirstName,LastName) VALUES (Lars,Monsen) ä¸Šé¢çš„SQLè¯­å¥åœ¨ â€œPersonsâ€ è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è®°å½•ã€‚â€IDâ€æ å°†å¾—åˆ°å”¯ä¸€å€¼ã€‚â€FirstNameâ€æ è®¾ç½®ä¸ºâ€Larsâ€ï¼Œâ€LastNameâ€æ è®¾ç½®ä¸ºâ€Monsenâ€ã€‚ ç”¨äº SQL Server çš„è¯­æ³• ä»¥ä¸‹SQLè¯­å¥å°† â€œPersonsâ€ è¡¨ä¸­çš„â€IDâ€åˆ—å®šä¹‰ä¸ºè‡ªåŠ¨é€’å¢ï¼ˆ auto-increment ï¼‰ä¸»é”®å­—æ®µï¼š CREATE TABLE Persons ( ID int IDENTITY(1,1) PRIMARY KEY, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) MS SQL Serverä½¿ç”¨IDENTITYå…³é”®å­—æ‰§è¡Œè‡ªåŠ¨å¢é‡ï¼ˆ auto-increment ï¼‰ä»»åŠ¡ã€‚ åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒIDENTITYçš„èµ·å§‹å€¼ä¸º1ï¼Œæ¯ä¸ªæ–°è®°å½•å¢é‡ä¸º1ã€‚ æç¤ºï¼šæŒ‡å®šâ€IDâ€åˆ—ä»¥10å¼€å¤´ï¼Œå¹¶é€’å¢5ï¼Œå°†æ ‡è¯†ï¼ˆ identity ï¼‰æ›´æ”¹ä¸ºIDENTITYï¼ˆ10,5ï¼‰ã€‚ è¦åœ¨ â€œPersonsâ€ è¡¨ä¸­æ’å…¥æ–°è®°å½•ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸ºâ€IDâ€æ æŒ‡å®šå€¼ï¼ˆè‡ªåŠ¨æ·»åŠ å”¯ä¸€å€¼ï¼‰ï¼š INSERT INTO Persons (FirstName,LastName) VALUES (Lars,Monsen) ä¸Šé¢çš„ SQL è¯­å¥åœ¨ â€œPersonsâ€ è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è®°å½•ã€‚â€IDâ€æ å°†å¾—åˆ°å”¯ä¸€å€¼ã€‚â€FirstNameâ€æ è®¾ç½®ä¸ºâ€Larsâ€ï¼Œâ€LastNameâ€æ è®¾ç½®ä¸ºâ€Monsenâ€ã€‚ ç”¨äº Access çš„è¯­æ³• ä»¥ä¸‹ SQL è¯­å¥å°† â€œPersonsâ€ è¡¨ä¸­çš„â€IDâ€åˆ—å®šä¹‰ä¸ºè‡ªåŠ¨é€’å¢ï¼ˆ auto-increment ï¼‰ä¸»é”®å­—æ®µï¼š CREATE TABLE Persons ( ID Integer PRIMARY KEY AUTOINCREMENT, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) MS Accessä½¿ç”¨ AUTOINCREMENT å…³é”®å­—æ‰§è¡Œè‡ªåŠ¨å¢é‡ï¼ˆ auto-increment ï¼‰ä»»åŠ¡ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒAUTOINCREMENTçš„èµ·å§‹å€¼ä¸º1ï¼Œæ¯ä¸ªæ–°è®°å½•é€’å¢ 1ã€‚ **ã€€æç¤ºï¼š**æŒ‡å®šâ€IDâ€æ ä»¥10å¼€å¤´ï¼Œå¹¶é€’å¢5ï¼Œå°†è‡ªåŠ¨é€’å¢ï¼ˆ autoincrement ï¼‰æ›´æ”¹ä¸ºè‡ªåŠ¨é€’å¢ï¼ˆ105ï¼‰ï¼ˆ AUTOINCREMENT(10,5)ï¼‰ã€‚ è¦åœ¨ â€œPersonsâ€ è¡¨ä¸­æ’å…¥æ–°è®°å½•ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸ºâ€IDâ€æ æŒ‡å®šå€¼ï¼ˆè‡ªåŠ¨æ·»åŠ å”¯ä¸€å€¼ï¼‰ï¼š INSERT INTO Persons (FirstName,LastName) VALUES (Lars,Monsen) ä¸Šé¢çš„ SQL è¯­å¥åœ¨ â€œPersonsâ€ è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è®°å½•ã€‚â€IDâ€æ å°†å¾—åˆ°å”¯ä¸€å€¼ã€‚â€FirstNameâ€æ è®¾ç½®ä¸ºâ€Larsâ€ï¼Œâ€LastNameâ€æ è®¾ç½®ä¸ºâ€Monsenâ€ã€‚ è¯­æ³• for Oracle åœ¨ Oracle ä¸­ï¼Œä»£ç æœ‰ç‚¹å¤æ‚ã€‚ æ‚¨å¿…é¡»ä½¿ç”¨åºåˆ—ï¼ˆ sequence ï¼‰å¯¹è±¡ï¼ˆè¯¥å¯¹è±¡ç”Ÿæˆæ•°å­—åºåˆ—ï¼‰åˆ›å»ºè‡ªåŠ¨å¢é‡ï¼ˆ auto-increment ï¼‰å­—æ®µã€‚ ä½¿ç”¨ä»¥ä¸‹CREATSEQUENTè¯­æ³•ï¼š CREATE SEQUENCE seq_person MINVALUE 1 START WITH 1 INCREMENT BY 1 CACHE 10 ä¸Šé¢çš„ä»£ç åˆ›å»ºäº†ä¸€ä¸ªåä¸ºseq_peançš„åºåˆ—( sequence) å¯¹è±¡ï¼Œå®ƒä»¥1å¼€å¤´ï¼Œä»¥1é€’å¢ã€‚æ­¤å¯¹è±¡ç¼“å­˜10ä¸ªå€¼ä»¥æé«˜æ€§èƒ½ã€‚ç¼“å­˜é€‰é¡¹æŒ‡å®šè¦å­˜å‚¨å¤šå°‘åºåˆ—å€¼ä»¥æé«˜è®¿é—®é€Ÿåº¦ã€‚ è¦åœ¨â€Personsâ€ è¡¨ä¸­æ’å…¥æ–°è®°å½•ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨nextvalå‡½æ•°ï¼Œè¯¥å‡½æ•°ä»seq_horåºåˆ—æ£€ç´¢ä¸‹ä¸€ä¸ªå€¼ï¼š INSERT INTO Persons (ID,FirstName,LastName) VALUES (seq_person.nextval,Lars,Monsen) ä¸Šé¢çš„SQLè¯­å¥åœ¨ â€œPersonsâ€ è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è®°å½•ã€‚â€IDâ€ åˆ—ä» seq_person åºåˆ—ä¸­åˆ†é…ä¸‹ä¸€ä¸ªæ•°å­—ã€‚â€FirstNameâ€æ è®¾ç½®ä¸ºâ€Larsâ€ï¼Œâ€LastNameâ€æ è®¾ç½®ä¸ºâ€Monsenâ€ã€‚"},{"title":"SQL BETWEENè¿ç®—ç¬¦","path":"/wiki/sql/sentence/between.html","content":"SQL BETWEEN è¿ç®—ç¬¦ BETWEENè¿ç®—ç¬¦ç”¨äºé€‰å–ä»‹äºä¸¤ä¸ªå€¼ä¹‹é—´çš„æ•°æ®èŒƒå›´å†…çš„å€¼ã€‚ BETWEENè¿ç®—ç¬¦é€‰æ‹©ç»™å®šèŒƒå›´å†…çš„å€¼ã€‚å€¼å¯ä»¥æ˜¯æ•°å­—ï¼Œæ–‡æœ¬æˆ–æ—¥æœŸã€‚ BETWEENè¿ç®—ç¬¦æ˜¯åŒ…å«æ€§çš„ï¼šåŒ…æ‹¬å¼€å§‹å’Œç»“æŸå€¼ï¼Œä¸”å¼€å§‹å€¼éœ€å°äºç»“æŸå€¼ã€‚ SQL BETWEEN è¯­æ³•SELECT column_name(s)FROM table_nameWHERE column_name BETWEEN value1 AND value2; è¦å¦å®šBETWEENè¿ç®—ç¬¦çš„ç»“æœï¼Œå¯ä»¥æ·»åŠ NOTè¿ç®—ç¬¦ï¼š SELECT column_name(s)FROM table_nameWHERE column_name NOT BETWEEN value1 AND value2; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Productsâ€è¡¨ä¸­çš„æ•°æ®ï¼š ProductID ProductName SupplierID CategoryID Unit Price 1 Chais 1 1 10 boxes x 20 bags 18 2 Chang 1 1 24 - 12 oz bottles 19 3 Aniseed Syrup 1 2 12 - 550 ml bottles 10 4 Chef Antonâ€™s Cajun Seasoning 1 2 48 - 6 oz jars 22 5 Chef Antonâ€™s Gumbo Mix 1 2 36 boxes 21.35 BETWEEN è¿ç®—ç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©ä»·æ ¼åœ¨10åˆ°20ä¹‹é—´çš„æ‰€æœ‰äº§å“ï¼š ç¤ºä¾‹ï¼š SELECT * FROM ProductsWHERE Price BETWEEN 10 AND 20; NOT BETWEEN æ“ä½œç¬¦å®ä¾‹è¦æ˜¾ç¤ºå‰é¢ç¤ºä¾‹èŒƒå›´ä¹‹å¤–çš„äº§å“ï¼Œè¯·ä½¿ç”¨NOT BETWEENï¼š ç¤ºä¾‹ï¼š SELECT * FROM ProductsWHERE Price NOT BETWEEN 10 AND 20; å¸¦æœ‰ IN çš„ BETWEEN æ“ä½œç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©ä»·æ ¼åœ¨10åˆ°20ä¹‹é—´ä½†CategoryIDä¸æ˜¯1ã€2æˆ–3çš„æ‰€æœ‰äº§å“ï¼š ç¤ºä¾‹ï¼š SELECT * FROM ProductsWHERE (Price BETWEEN 10 AND 20)AND NOT CategoryID IN (1,2,3); å¸¦æœ‰æ–‡æœ¬å€¼çš„ BETWEEN æ“ä½œç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©æ‰€æœ‰å¸¦æœ‰ProductName BETWEENâ€™Carnarvon Tigersâ€™å’Œâ€™Mozzarella di Giovanniâ€™çš„äº§å“ï¼š ç¤ºä¾‹ï¼š SELECT * FROM ProductsWHERE ProductName BETWEEN Carnarvon Tigers AND Mozzarella di GiovanniORDER BY ProductName; å¸¦æœ‰æ–‡æœ¬å€¼çš„ NOT BETWEEN æ“ä½œç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©ProductNameä¸æ˜¯BETWEENâ€™Carnarvon Tigersâ€™å’Œâ€™Mozzarella di Giovanniâ€™çš„æ‰€æœ‰äº§å“ï¼š ç¤ºä¾‹ï¼š SELECT * FROM ProductsWHERE ProductName NOT BETWEEN Carnarvon Tigers AND Mozzarella di GiovanniORDER BY ProductName; ç¤ºä¾‹è¡¨ ä¸‹é¢æ˜¯é€‰è‡ª â€œOrdersâ€ è¡¨çš„æ•°æ®ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10248 90 5 741996 3 10249 81 6 751996 1 10250 34 4 781996 2 10251 84 3 791996 1 10252 76 4 7101996 2 å¸¦æœ‰æ—¥æœŸå€¼çš„ BETWEEN æ“ä½œç¬¦å®ä¾‹ ä»¥ä¸‹ SQL è¯­å¥é€‰å– OrderDate ä»‹äº â€˜04-July-1996â€™ å’Œ â€˜09-July-1996â€™ ä¹‹é—´çš„æ‰€æœ‰è®¢å•ï¼š ç¤ºä¾‹ï¼š SELECT * FROM OrdersWHERE OrderDate BETWEEN #07/04/1996# AND #07/09/1996#; è¯·æ³¨æ„ï¼Œåœ¨ä¸åŒçš„æ•°æ®åº“ä¸­ï¼ŒBETWEEN æ“ä½œç¬¦ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼ åœ¨ä¸€äº›æ•°æ®åº“ä¸­ï¼ŒBETWEEN é€‰å–ä»‹äºä¸¤ä¸ªå€¼ä¹‹é—´ä½†ä¸åŒ…æ‹¬ä¸¤ä¸ªæµ‹è¯•å€¼çš„å­—æ®µã€‚ åœ¨ä¸€äº›æ•°æ®åº“ä¸­ï¼ŒBETWEEN é€‰å–ä»‹äºä¸¤ä¸ªå€¼ä¹‹é—´ä¸”åŒ…æ‹¬ä¸¤ä¸ªæµ‹è¯•å€¼çš„å­—æ®µã€‚ åœ¨ä¸€äº›æ•°æ®åº“ä¸­ï¼ŒBETWEEN é€‰å–ä»‹äºä¸¤ä¸ªå€¼ä¹‹é—´ä¸”åŒ…æ‹¬ç¬¬ä¸€ä¸ªæµ‹è¯•å€¼ä½†ä¸åŒ…æ‹¬æœ€åä¸€ä¸ªæµ‹è¯•å€¼çš„å­—æ®µã€‚ å› æ­¤ï¼Œè¯·æ£€æŸ¥æ‚¨çš„æ•°æ®åº“æ˜¯å¦‚ä½•å¤„ç† BETWEEN æ“ä½œç¬¦ï¼"},{"title":"SQL å…‹éš†æ•°æ®åº“","path":"/wiki/sql/sentence/clonedb.html","content":"SQL å…‹éš†æ•°æ®è¡¨ æœ‰äº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦åŸæ ·æ‹·è´æŸå¼ æ•°æ®è¡¨ã€‚ä½†æ˜¯ï¼ŒCREATE TABLE å´ä¸èƒ½æ»¡è¶³ä½ çš„éœ€è¦ï¼Œå› ä¸ºå¤åˆ¶è¡¨å¿…é¡»å’ŒåŸè¡¨æ‹¥æœ‰ä¸€æ ·çš„ç´¢å¼•ã€é»˜è®¤å€¼ç­‰ç­‰ã€‚ å¦‚æœä½ åœ¨ä½¿ç”¨ MySQL å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è¯ï¼Œä¸‹é¢å‡ ä¸ªæ­¥éª¤å¯ä»¥å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ï¼š ä½¿ç”¨ SHOW CREATE TABLE å‘½ä»¤æ¥è·å–ä¸€æ¡æŒ‡å®šäº†åŸè¡¨çš„ç»“æ„ã€ç´¢å¼•ç­‰ä¿¡æ¯çš„ CREATEã€€TABLE è¯­å¥ã€‚ å°†è¯­å¥ä¸­çš„è¡¨åä¿®æ”¹ä¸ºå…‹éš†è¡¨çš„åå­—ï¼Œç„¶åæ‰§è¡Œè¯¥è¯­å¥ã€‚è¿™æ ·ä½ å°±å¯ä»¥å¾—åˆ°ä¸€å¼ ä¸åŸè¡¨å®Œå…¨ç›¸åŒçš„å…‹éš†è¡¨äº†ã€‚ å¦‚æœä½ è¿˜æƒ³è¦å¤åˆ¶è¡¨ä¸­çš„æ•°æ®çš„è¯ï¼Œè¯·æ‰§è¡Œ INSERT INTO â€¦ SELECT è¯­å¥ã€‚ ç¤ºä¾‹ï¼š è¯·å°è¯•ä¸‹é¢çš„ç¤ºä¾‹ï¼Œä¸º TUTORIALS_TBL åˆ›å»ºä¸€å¼ å…‹éš†è¡¨ï¼Œå…¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š æ­¥éª¤ä¸€ï¼šè·å–æ•°æ®è¡¨çš„å®Œæ•´ç»“æ„ï¼š SQL SHOW CREATE TABLE TUTORIALS_TBL \\G;*************************** 1. row *************************** Table: TUTORIALS_TBLCreate Table: CREATE TABLE `TUTORIALS_TBL` ( `tutorial_id` int(11) NOT NULL auto_increment, `tutorial_title` varchar(100) NOT NULL default , `tutorial_author` varchar(40) NOT NULL default , `submission_date` date default NULL, PRIMARY KEY (`tutorial_id`), UNIQUE KEY `AUTHOR_INDEX` (`tutorial_author`)) TYPE=MyISAM1 row in set (0.00 sec) æ­¥éª¤äºŒï¼šæ”¹å˜è¡¨åï¼Œåˆ›å»ºæ–°è¡¨ï¼š SQL CREATE TABLE `CLONE_TBL` ( - `tutorial_id` int(11) NOT NULL auto_increment, - `tutorial_title` varchar(100) NOT NULL default , - `tutorial_author` varchar(40) NOT NULL default , - `submission_date` date default NULL, - PRIMARY KEY (`tutorial_id`), - UNIQUE KEY `AUTHOR_INDEX` (`tutorial_author`) - ) TYPE=MyISAM;Query OK, 0 rows affected (1.80 sec) æ­¥éª¤ä¸‰ï¼šæ‰§è¡Œå®Œæ­¥éª¤äºŒä¹‹åï¼Œæ•°æ®åº“å°±ä¼šæœ‰å…‹éš†è¡¨äº†ã€‚å¦‚æœä½ è¿˜æƒ³è¦å¤åˆ¶æ—§è¡¨ä¸­çš„æ•°æ®çš„è¯ï¼Œå¯ä»¥æ‰§è¡Œ INSERT INTOâ€¦ SELECT è¯­å¥ã€‚ SQL INSERT INTO CLONE_TBL (tutorial_id, - tutorial_title, - tutorial_author, - submission_date) - SELECT tutorial_id,tutorial_title, - tutorial_author,submission_date, - FROM TUTORIALS_TBL;Query OK, 3 rows affected (0.07 sec)Records: 3 Duplicates: 0 Warnings: 0 æœ€ç»ˆï¼Œä½ å°†å¦‚æœŸæ‹¥æœ‰ä¸€å¼ å®Œå…¨ç›¸åŒçš„å…‹éš†è¡¨ã€‚ é™„å½•å¦ä¸€ç§å®Œæ•´å¤åˆ¶è¡¨çš„æ–¹æ³•: CREATE TABLE targetTable LIKE sourceTable;INSERT INTO targetTable SELECT * FROM sourceTable; æˆ–è€…ï¼š create table targetTable as select sourceTable ä¸¤è€…çš„åŒºåˆ«å¦‚ä¸‹ï¼š create table targetTable like sourceTableï¼Œåˆ›å»ºæ–°è¡¨ï¼Œçº¦æŸå’ŒåŸè¡¨ç›¸åŒï¼Œåªæ‹·è´è¡¨ç»“æ„ï¼Œæ²¡æœ‰æ‹·è´è¡¨çš„æ•°æ® create table targetTable as select sourceTableï¼Œåˆ›å»ºæ–°è¡¨ï¼Œæ²¡æœ‰åŸè¡¨çš„å®Œæ•´çº¦æŸï¼Œä¼šæŠŠåŸè¡¨çš„æ•°æ®æ‹·è´ä¸€ä»½"},{"title":"SQL Constraintçº¦æŸ","path":"/wiki/sql/sentence/constraint.html","content":"SQLçº¦æŸç”¨äºæŒ‡å®šè¡¨ä¸­æ•°æ®çš„è§„åˆ™ã€‚ SQL çº¦æŸ çº¦æŸæ˜¯ä½œç”¨äºæ•°æ®è¡¨ä¸­åˆ—ä¸Šçš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶è¡¨ä¸­æ•°æ®çš„ç±»å‹ã€‚çº¦æŸçš„å­˜åœ¨ä¿è¯äº†æ•°æ®åº“ä¸­æ•°æ®çš„ç²¾ç¡®æ€§å’Œå¯é æ€§ã€‚ çº¦æŸæœ‰åˆ—çº§å’Œè¡¨çº§ä¹‹åˆ†ï¼Œåˆ—çº§çº¦æŸä½œç”¨äºå•ä¸€çš„åˆ—ï¼Œè€Œè¡¨çº§çº¦æŸä½œç”¨äºæ•´å¼ æ•°æ®è¡¨ã€‚ ä¸‹é¢æ˜¯ SQL ä¸­å¸¸ç”¨çš„çº¦æŸï¼Œè¿™äº›çº¦æŸè™½ç„¶å·²ç»åœ¨å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸€ç« ä¸­è®¨è®ºè¿‡äº†ï¼Œä½†æ˜¯ä»ç„¶å€¼å¾—åœ¨è¿™é‡Œå›é¡¾ä¸€éã€‚ ï¼šä¿è¯åˆ—ä¸­æ•°æ®ä¸èƒ½æœ‰ NULL å€¼ ï¼šæä¾›è¯¥åˆ—æ•°æ®æœªæŒ‡å®šæ—¶æ‰€é‡‡ç”¨çš„é»˜è®¤å€¼ ï¼šä¿è¯åˆ—ä¸­çš„æ‰€æœ‰æ•°æ®å„ä¸ç›¸åŒ ï¼šå”¯ä¸€æ ‡è¯†æ•°æ®è¡¨ä¸­çš„è¡Œè®°å½• ï¼šå”¯ä¸€æ ‡è¯†å…¶ä»–è¡¨ä¸­çš„ä¸€æ¡è¡Œè®°å½• ï¼šæ­¤çº¦æŸä¿è¯åˆ—ä¸­çš„æ‰€æœ‰å€¼æ»¡è¶³æŸä¸€æ¡ä»¶ ï¼šç”¨äºåœ¨æ•°æ®åº“ä¸­å¿«é€Ÿåˆ›å»ºæˆ–æ£€ç´¢æ•°æ® çº¦æŸå¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶è§„å®šï¼ˆé€šè¿‡ CREATE TABLE è¯­å¥ï¼‰ï¼Œæˆ–è€…åœ¨è¡¨åˆ›å»ºä¹‹åè§„å®šï¼ˆé€šè¿‡ ALTER TABLE è¯­å¥ï¼‰ã€‚ SQLåˆ›å»ºçº¦æŸ å½“ä½¿ç”¨CREATE TABLEè¯­å¥åˆ›å»ºè¡¨æ—¶ï¼Œæˆ–è€…åœ¨ä½¿ç”¨ALTER TABLEè¯­å¥åˆ›å»ºè¡¨ä¹‹åï¼Œå¯ä»¥æŒ‡å®šçº¦æŸã€‚ è¯­æ³• CREATE TABLE table_name ( column1 datatype constraint, column2 datatype constraint, column3 datatype constraint, ....); SQL CREATE TABLE + CONSTRAINT è¯­æ³•CREATE TABLE table_name ( column_name1 data_type(size) constraint_name, column_name2 data_type(size) constraint_name, column_name3 data_type(size) constraint_name, .... ); åˆ é™¤çº¦æŸ ä»»ä½•ç°æœ‰çº¦æŸéƒ½å¯ä»¥é€šè¿‡åœ¨ ALTER TABLE å‘½ä»¤ä¸­æŒ‡å®š DROP CONSTRAINT é€‰é¡¹çš„æ–¹æ³•åˆ é™¤æ‰ã€‚ ä¾‹å¦‚ï¼Œè¦å»é™¤ EMPLOYEES è¡¨ä¸­çš„ä¸»é”®çº¦æŸï¼Œå¯ä»¥ä½¿ç”¨ä¸‹è¿°å‘½ä»¤ï¼š ALTER TABLE EMPLOYEES DROP CONSTRAINT EMPLOYEES_PK; ä¸€äº›æ•°æ®åº“å®ç°å¯èƒ½æä¾›äº†åˆ é™¤ç‰¹å®šçº¦æŸçš„å¿«æ·æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨ Oracle ä¸­åˆ é™¤ä¸€å¼ è¡¨çš„ä¸»é”®çº¦æŸï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š ALTER TABLE EMPLOYEES DROP PRIMARY KEY; æŸäº›æ•°æ®åº“å®ç°å…è®¸ç¦ç”¨çº¦æŸã€‚è¿™æ ·ä¸å…¶ä»æ•°æ®åº“ä¸­æ°¸ä¹…åˆ é™¤çº¦æŸï¼Œä½ å¯ä»¥åªæ˜¯ä¸´æ—¶ç¦ç”¨æ‰å®ƒï¼Œè¿‡ä¸€æ®µæ—¶é—´åå†é‡æ–°å¯ç”¨ã€‚ å®Œæ•´æ€§çº¦æŸ å®Œæ•´æ€§çº¦æŸç”¨äºä¿è¯å…³ç³»å‹æ•°æ®åº“ä¸­æ•°æ®çš„ç²¾ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚å¯¹äºå…³ç³»å‹æ•°æ®åº“æ¥è¯´ï¼Œæ•°æ®å®Œæ•´æ€§ç”±å‚ç…§å®Œæ•´æ€§ï¼ˆreferential integrityï¼ŒRIï¼‰æ¥ä¿è¯ã€‚ æœ‰å¾ˆå¤šç§çº¦æŸå¯ä»¥èµ·åˆ°å‚ç…§å®Œæ•´æ€§çš„ä½œç”¨ï¼Œè¿™äº›çº¦æŸåŒ…æ‹¬ä¸»é”®çº¦æŸï¼ˆPrimary Keyï¼‰ã€å¤–é”®çº¦æŸï¼ˆForeign Keyï¼‰ã€å”¯ä¸€æ€§çº¦æŸï¼ˆUnique Constraintï¼‰ä»¥åŠä¸Šé¢æåˆ°çš„å…¶ä»–çº¦æŸã€‚ SQL NOT NULL çº¦æŸ åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œè¡¨çš„åˆ—æ¥å— NULL å€¼ã€‚ NOT NULL çº¦æŸå¼ºåˆ¶åˆ—ä¸æ¥å— NULL å€¼ã€‚ NOT NULL çº¦æŸå¼ºåˆ¶å­—æ®µå§‹ç»ˆåŒ…å«å€¼ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä¸å‘å­—æ®µæ·»åŠ å€¼ï¼Œå°±æ— æ³•æ’å…¥æ–°è®°å½•æˆ–è€…æ›´æ–°è®°å½•ã€‚ ä¸‹é¢çš„ SQL å¼ºåˆ¶ â€œP_Idâ€ åˆ—å’Œ â€œLastNameâ€ åˆ—ä¸æ¥å— NULL å€¼ï¼š CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255)) SQL UNIQUE çº¦æŸ UNIQUE çº¦æŸå”¯ä¸€æ ‡è¯†æ•°æ®åº“è¡¨ä¸­çš„æ¯æ¡è®°å½•ã€‚ UNIQUE å’Œ PRIMARY KEY çº¦æŸå‡ä¸ºåˆ—æˆ–åˆ—é›†åˆæä¾›äº†å”¯ä¸€æ€§çš„ä¿è¯ã€‚ PRIMARY KEY çº¦æŸæ‹¥æœ‰è‡ªåŠ¨å®šä¹‰çš„ UNIQUE çº¦æŸã€‚ è¯·æ³¨æ„ï¼Œæ¯ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ª UNIQUE çº¦æŸï¼Œä½†æ˜¯æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ª PRIMARY KEY çº¦æŸã€‚ CREATE TABLE æ—¶çš„ SQL UNIQUE çº¦æŸ ä¸‹é¢çš„ SQL åœ¨ â€œPersonsâ€ è¡¨åˆ›å»ºæ—¶åœ¨ â€œP_Idâ€ åˆ—ä¸Šåˆ›å»º UNIQUE çº¦æŸï¼š **ã€€MySQLï¼š** CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), UNIQUE (P_Id) ) **ã€€SQL Server Oracle MS Accessï¼š** CREATE TABLE Persons ( P_Id int NOT NULL UNIQUE, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) å¦‚éœ€å‘½å UNIQUE çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ UNIQUE çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName) ) ALTER TABLE æ—¶çš„ SQL UNIQUE çº¦æŸ å½“è¡¨å·²è¢«åˆ›å»ºæ—¶ï¼Œå¦‚éœ€åœ¨ â€œP_Idâ€ åˆ—åˆ›å»º UNIQUE çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** ALTER TABLE Persons ADD UNIQUE (P_Id) å¦‚éœ€å‘½å UNIQUE çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ UNIQUE çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** ALTER TABLE Persons ADD CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName) æ’¤é”€ UNIQUE çº¦æŸ å¦‚éœ€æ’¤é”€ UNIQUE çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQLï¼š** ALTER TABLE Persons DROP INDEX uc_PersonID **ã€€SQL Server Oracle MS Accessï¼š** ALTER TABLE Persons DROP CONSTRAINT uc_PersonID SQL PRIMARY KEY çº¦æŸ PRIMARY KEY çº¦æŸå”¯ä¸€æ ‡è¯†æ•°æ®åº“è¡¨ä¸­çš„æ¯æ¡è®°å½•ã€‚ ä¸»é”®å¿…é¡»åŒ…å«å”¯ä¸€çš„å€¼ã€‚ ä¸»é”®åˆ—ä¸èƒ½åŒ…å« NULL å€¼ã€‚ æ¯ä¸ªè¡¨éƒ½åº”è¯¥æœ‰ä¸€ä¸ªä¸»é”®ï¼Œå¹¶ä¸”æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚ CREATE TABLE æ—¶çš„ SQL PRIMARY KEY çº¦æŸrimary-key-çº¦æŸ) ä¸‹é¢çš„ SQL åœ¨ â€œPersonsâ€ è¡¨åˆ›å»ºæ—¶åœ¨ â€œP_Idâ€ åˆ—ä¸Šåˆ›å»º PRIMARY KEY çº¦æŸï¼š **ã€€MySQLï¼š** CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), PRIMARY KEY (P_Id) ) **ã€€SQL Server Oracle MS Accessï¼š** CREATE TABLE Persons ( P_Id int NOT NULL PRIMARY KEY, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) å¦‚éœ€å‘½å PRIMARY KEY çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ PRIMARY KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName) ) **ã€€æ³¨é‡Šï¼š** åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œåªæœ‰ä¸€ä¸ªä¸»é”® PRIMARY KEYï¼ˆpk_PersonIDï¼‰ã€‚ç„¶è€Œï¼Œpk_PersonID çš„å€¼æ˜¯ç”±ä¸¤ä¸ªåˆ—ï¼ˆP_Id å’Œ LastNameï¼‰ç»„æˆçš„ã€‚ ALTER TABLE æ—¶çš„ SQL PRIMARY KEY çº¦æŸ å½“è¡¨å·²è¢«åˆ›å»ºæ—¶ï¼Œå¦‚éœ€åœ¨ â€œP_Idâ€ åˆ—åˆ›å»º PRIMARY KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** sql ALTER TABLE Persons ADD PRIMARY KEY (P_Id) å¦‚éœ€å‘½å PRIMARY KEY çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ PRIMARY KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** ALTER TABLE Persons ADD CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName) **ã€€æ³¨é‡Šï¼š**å¦‚æœæ‚¨ä½¿ç”¨ ALTER TABLE è¯­å¥æ·»åŠ ä¸»é”®ï¼Œå¿…é¡»æŠŠä¸»é”®åˆ—å£°æ˜ä¸ºä¸åŒ…å« NULL å€¼ï¼ˆåœ¨è¡¨é¦–æ¬¡åˆ›å»ºæ—¶ï¼‰ã€‚ æ’¤é”€ PRIMARY KEY çº¦æŸ å¦‚éœ€æ’¤é”€ PRIMARY KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQLï¼š** ALTER TABLE Persons DROP PRIMARY KEY **ã€€SQL Server Oracle MS Accessï¼š** ALTER TABLE Persons DROP CONSTRAINT pk_PersonID SQL FOREIGN KEY çº¦æŸ ä¸€ä¸ªè¡¨ä¸­çš„ FOREIGN KEY æŒ‡å‘å¦ä¸€ä¸ªè¡¨ä¸­çš„ PRIMARY KEYã€‚ è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥è§£é‡Šå¤–é”®ã€‚è¯·çœ‹ä¸‹é¢ä¸¤ä¸ªè¡¨ï¼š â€œPersonsâ€ è¡¨ï¼š P_Id LastName FirstName Address City 1 Hansen Ola Timoteivn 10 Sandnes 2 Svendson Tove Borgvn 23 Sandnes 3 Pettersen Kari Storgt 20 Stavanger â€œOrdersâ€ è¡¨ï¼š O_Id OrderNo P_Id 1 77895 3 2 44678 3 3 22456 2 4 24562 1 è¯·æ³¨æ„ï¼Œâ€Ordersâ€ è¡¨ä¸­çš„ â€œP_Idâ€ åˆ—æŒ‡å‘ â€œPersonsâ€ è¡¨ä¸­çš„ â€œP_Idâ€ åˆ—ã€‚ â€œPersonsâ€ è¡¨ä¸­çš„ â€œP_Idâ€ åˆ—æ˜¯ â€œPersonsâ€ è¡¨ä¸­çš„ PRIMARY KEYã€‚ â€œOrdersâ€ è¡¨ä¸­çš„ â€œP_Idâ€ åˆ—æ˜¯ â€œOrdersâ€ è¡¨ä¸­çš„ FOREIGN KEYã€‚ FOREIGN KEY çº¦æŸç”¨äºé¢„é˜²ç ´åè¡¨ä¹‹é—´è¿æ¥çš„è¡Œä¸ºã€‚ FOREIGN KEY çº¦æŸä¹Ÿèƒ½é˜²æ­¢éæ³•æ•°æ®æ’å…¥å¤–é”®åˆ—ï¼Œå› ä¸ºå®ƒå¿…é¡»æ˜¯å®ƒæŒ‡å‘çš„é‚£ä¸ªè¡¨ä¸­çš„å€¼ä¹‹ä¸€ã€‚ CREATE TABLE æ—¶çš„ SQL FOREIGN KEY çº¦æŸreign-key-çº¦æŸ) ä¸‹é¢çš„ SQL åœ¨ â€œOrdersâ€ è¡¨åˆ›å»ºæ—¶åœ¨ â€œP_Idâ€ åˆ—ä¸Šåˆ›å»º FOREIGN KEY çº¦æŸï¼š **ã€€MySQLï¼š** CREATE TABLE Orders ( O_Id int NOT NULL, OrderNo int NOT NULL, P_Id int, PRIMARY KEY (O_Id), FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ) **ã€€SQL Server Oracle MS Accessï¼š** CREATE TABLE Orders ( O_Id int NOT NULL PRIMARY KEY, OrderNo int NOT NULL, P_Id int FOREIGN KEY REFERENCES Persons(P_Id) ) å¦‚éœ€å‘½å FOREIGN KEY çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ FOREIGN KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** CREATE TABLE Orders ( O_Id int NOT NULL, OrderNo int NOT NULL, P_Id int, PRIMARY KEY (O_Id), CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ) ALTER TABLE æ—¶çš„ SQL FOREIGN KEY çº¦æŸ å½“ â€œOrdersâ€ è¡¨å·²è¢«åˆ›å»ºæ—¶ï¼Œå¦‚éœ€åœ¨ â€œP_Idâ€ åˆ—åˆ›å»º FOREIGN KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** ALTER TABLE Orders ADD FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) å¦‚éœ€å‘½å FOREIGN KEY çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ FOREIGN KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** ALTER TABLE Orders ADD CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) æ’¤é”€ FOREIGN KEY çº¦æŸ å¦‚éœ€æ’¤é”€ FOREIGN KEY çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQLï¼š** ALTER TABLE Orders DROP FOREIGN KEY fk_PerOrders **ã€€SQL Server Oracle MS Accessï¼š** ALTER TABLE Orders DROP CONSTRAINT fk_PerOrders SQL DEFAULT çº¦æŸ DEFAULT çº¦æŸç”¨äºå‘åˆ—ä¸­æ’å…¥é»˜è®¤å€¼ã€‚ å¦‚æœæ²¡æœ‰è§„å®šå…¶ä»–çš„å€¼ï¼Œé‚£ä¹ˆä¼šå°†é»˜è®¤å€¼æ·»åŠ åˆ°æ‰€æœ‰çš„æ–°è®°å½•ã€‚ CREATE TABLE æ—¶çš„ SQL DEFAULT çº¦æŸ ä¸‹é¢çš„ SQL åœ¨ â€œPersonsâ€ è¡¨åˆ›å»ºæ—¶åœ¨ â€œCityâ€ åˆ—ä¸Šåˆ›å»º DEFAULT çº¦æŸï¼š **ã€€My SQL SQL Server Oracle MS Accessï¼š** CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255) DEFAULT Sandnes) é€šè¿‡ä½¿ç”¨ç±»ä¼¼ GETDATE() è¿™æ ·çš„å‡½æ•°ï¼ŒDEFAULT çº¦æŸä¹Ÿå¯ä»¥ç”¨äºæ’å…¥ç³»ç»Ÿå€¼ï¼š CREATE TABLE Orders(O_Id int NOT NULL,OrderNo int NOT NULL,P_Id int,OrderDate date DEFAULT GETDATE()) ALTER TABLE æ—¶çš„ SQL DEFAULT çº¦æŸ å½“è¡¨å·²è¢«åˆ›å»ºæ—¶ï¼Œå¦‚éœ€åœ¨ â€œCityâ€ åˆ—åˆ›å»º DEFAULT çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQLï¼š** ALTER TABLE PersonsALTER City SET DEFAULT SANDNES **ã€€SQL Server MS Accessï¼š** ALTER TABLE Persons ADD CONSTRAINT DF_Persons_City DEFAULT(SANDNES) FOR City--æ³¨é‡Š--Persons ä¸ºè¡¨å--City ä¸ºåˆ—å--DF_Persons_City ä¸ºæˆ‘ä»¬åˆ›å»ºçš„é»˜è®¤çº¦æŸçš„åç§° çº¦æŸåç§°ä¸€èˆ¬ä¸º:çº¦æŸç±»å‹ç®€ç§°_è¡¨å_åˆ—å **ã€€Oracleï¼š** ALTER TABLE PersonsMODIFY City DEFAULT SANDNES æ’¤é”€ DEFAULT çº¦æŸ å¦‚éœ€æ’¤é”€ DEFAULT çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQLï¼š** ALTER TABLE PersonsALTER City DROP DEFAULT **ã€€SQL Server Oracle MS Accessï¼š** ALTER TABLE PersonsALTER COLUMN City DROP DEFAULT SQL CHECK çº¦æŸ CHECK çº¦æŸç”¨äºé™åˆ¶åˆ—ä¸­çš„å€¼çš„èŒƒå›´ã€‚ å¦‚æœå¯¹å•ä¸ªåˆ—å®šä¹‰ CHECK çº¦æŸï¼Œé‚£ä¹ˆè¯¥åˆ—åªå…è®¸ç‰¹å®šçš„å€¼ã€‚ å¦‚æœå¯¹ä¸€ä¸ªè¡¨å®šä¹‰ CHECK çº¦æŸï¼Œé‚£ä¹ˆæ­¤çº¦æŸä¼šåŸºäºè¡Œä¸­å…¶ä»–åˆ—çš„å€¼åœ¨ç‰¹å®šçš„åˆ—ä¸­å¯¹å€¼è¿›è¡Œé™åˆ¶ã€‚ CREATE TABLE æ—¶çš„ SQL CHECK çº¦æŸ ä¸‹é¢çš„ SQL åœ¨ â€œPersonsâ€ è¡¨åˆ›å»ºæ—¶åœ¨ â€œP_Idâ€ åˆ—ä¸Šåˆ›å»º CHECK çº¦æŸã€‚CHECK çº¦æŸè§„å®š â€œP_Idâ€ åˆ—å¿…é¡»åªåŒ…å«å¤§äº 0 çš„æ•´æ•°ã€‚ **ã€€MySQLï¼š** CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),CHECK (P_Id0)) **ã€€SQL Server Oracle MS Accessï¼š** CREATE TABLE Persons(P_Id int NOT NULL CHECK (P_Id0),LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255)) å¦‚éœ€å‘½å CHECK çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ CHECK çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** CREATE TABLE Persons(P_Id int NOT NULL,LastName varchar(255) NOT NULL,FirstName varchar(255),Address varchar(255),City varchar(255),CONSTRAINT chk_Person CHECK (P_Id0 AND City=Sandnes)) ALTER TABLE æ—¶çš„ SQL CHECK çº¦æŸå½“è¡¨å·²è¢«åˆ›å»ºæ—¶ï¼Œå¦‚éœ€åœ¨ â€œP_Idâ€ åˆ—åˆ›å»º CHECK çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€MySQL SQL Server Oracle MS Access:** ALTER TABLE PersonsADD CHECK (P_Id0) å¦‚éœ€å‘½å CHECK çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ CHECK çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­æ³•ï¼š **ã€€MySQL SQL Server Oracle MS Accessï¼š** ALTER TABLE PersonsADD CONSTRAINT chk_Person CHECK (P_Id0 AND City=Sandnes) æ’¤é”€ CHECK çº¦æŸ å¦‚éœ€æ’¤é”€ CHECK çº¦æŸï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ SQLï¼š **ã€€SQL Server Oracle MS Accessï¼š** ALTER TABLE PersonsDROP CONSTRAINT chk_Person **ã€€MySQLï¼š** ALTER TABLE PersonsDROP CHECK chk_Person"},{"title":"SQL CREATE DATABASEè¯­å¥","path":"/wiki/sql/sentence/createdb.html","content":"SQL CREATE DATABASE è¯­å¥ CREATE DATABASE è¯­å¥ç”¨äºåˆ›å»ºæ•°æ®åº“ã€‚ åœ¨RDBMSä¸­ï¼Œæ•°æ®åº“åç§°å§‹ç»ˆåº”è¯¥æ˜¯å”¯ä¸€çš„ã€‚ SQL CREATE DATABASE è¯­æ³•CREATE DATABASE dbname; åœ¨åˆ›å»ºä»»ä½•æ•°æ®åº“ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨æ‹¥æœ‰ç®¡ç†æƒé™ã€‚ SQL CREATE DATABASE å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥åˆ›å»ºä¸€ä¸ªåä¸º â€œmy_dbâ€ çš„æ•°æ®åº“ï¼š CREATE DATABASE my_db; æ•°æ®åº“è¡¨å¯ä»¥é€šè¿‡ CREATE TABLE è¯­å¥æ¥æ·»åŠ ã€‚ åˆ›å»ºæ•°æ®åº“åï¼Œæ‚¨å¯ä»¥åœ¨æ•°æ®åº“åˆ—è¡¨ä¸­æ£€æŸ¥å®ƒã€‚ è¯­å¥ï¼š SHOW DATABASES;"},{"title":"SQL CREATE TABLEè¯­å¥","path":"/wiki/sql/sentence/createtable.html","content":"SQL CREATE TABLE è¯­å¥ SQL CREATE TABLE è¯­å¥CREATE TABLE è¯­å¥ç”¨äºåˆ›å»ºæ•°æ®åº“ä¸­çš„è¡¨ã€‚ è¡¨ç”±è¡Œå’Œåˆ—ç»„æˆï¼Œæ¯ä¸ªè¡¨éƒ½å¿…é¡»æœ‰ä¸ªè¡¨åã€‚ SQL CREATE TABLE è¯­æ³•CREATE TABLE table_name ( column_name1 data_type(size), column_name2 data_type(size), column_name3 data_type(size), .... ); column_name å‚æ•°è§„å®šè¡¨ä¸­åˆ—çš„åç§°ã€‚ data_type å‚æ•°è§„å®šåˆ—çš„æ•°æ®ç±»å‹ï¼ˆä¾‹å¦‚ varcharã€integerã€decimalã€date ç­‰ç­‰ï¼‰ã€‚ size å‚æ•°è§„å®šè¡¨ä¸­åˆ—çš„æœ€å¤§é•¿åº¦ã€‚ **ã€€æç¤ºï¼š**å¦‚éœ€äº†è§£ MS Accessã€MySQL å’Œ SQL Server ä¸­å¯ç”¨çš„æ•°æ®ç±»å‹ï¼Œè¯·è®¿é—®æˆ‘ä»¬å®Œæ•´çš„ ã€‚ SQL CREATE TABLE å®ä¾‹ç°åœ¨æˆ‘ä»¬æƒ³è¦åˆ›å»ºä¸€ä¸ªåä¸º â€œPersonsâ€ çš„è¡¨ï¼ŒåŒ…å«äº”åˆ—ï¼šPersonIDã€LastNameã€FirstNameã€Address å’Œ Cityã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ CREATE TABLE è¯­å¥ï¼š ç¤ºä¾‹ï¼š CREATE TABLE Persons(PersonID int,LastName varchar(255),FirstName varchar(255),Address varchar(255),City varchar(255)); PersonIDåˆ—æ•°æ®ç±»å‹ä¸ºintï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ã€‚ LastNameã€FirstNameã€Addresså’ŒCityåˆ—å…·æœ‰åŒ…å«å­—ç¬¦çš„varcharæ•°æ®ç±»å‹ï¼Œè¿™äº›å­—æ®µçš„æœ€å¤§é•¿åº¦ä¸º255ä¸ªå­—ç¬¦ã€‚ ç©º â€œPersonsâ€ è¡¨æ˜¯è¿™æ ·çš„ï¼š PersonID LastName FirstName Address City **ã€€æç¤ºï¼š**ä½¿ç”¨ INSERT INTO è¯­å¥å°†æ•°æ®å†™å…¥ç©ºè¡¨ã€‚"},{"title":"SQL ç®€ä»‹","path":"/wiki/sql/sentence/brief.html","content":"SQLï¼ˆç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼‰æ˜¯ç”¨äºè®¿é—®å’Œæ“ä½œæ•°æ®åº“ä¸­çš„æ•°æ®çš„æ ‡å‡†æ•°æ®åº“ç¼–ç¨‹è¯­è¨€ã€‚ SQLæ˜¯å…³ç³»æ•°æ®åº“ç³»ç»Ÿçš„æ ‡å‡†è¯­è¨€ã€‚æ‰€æœ‰å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(RDMS)ï¼Œå¦‚MySQLã€MS Accessã€Oracleã€Sybaseã€Informixã€Postgreså’ŒSQL Serveréƒ½ä½¿ç”¨SQLä½œä¸ºå®ƒä»¬çš„æ ‡å‡†æ•°æ®åº“è¯­è¨€ã€‚ ä¸ºäº†å¤„ç†æ•°æ®åº“å’Œæ•°æ®åº“ç›¸å…³çš„ç¼–ç¨‹ï¼Œç¨‹åºå‘˜éœ€è¦æœ‰ä¸€äº›ä»‹è´¨ï¼Œæˆ–è€…å¯ä»¥è¯´æ¥å£æ¥è¯¦ç»†è¯´æ˜ä¸€ç»„å‘½ä»¤æˆ–ä»£ç æ¥å¤„ç†æ•°æ®åº“æˆ–è®¿é—®æ•°æ®åº“çš„æ•°æ®ã€‚åœ¨æœ¬ç« ä¸­ï¼Œå°†ç®€è¦ä»‹ç»åœ¨å­¦ä¹ SQLçš„è¿‡ç¨‹ä¸­æ‚¨å°†å­¦ä¹ çš„æœ¯è¯­ã€‚ ä½ ä¼šä»SQLä¸­å­¦åˆ°ä»€ä¹ˆï¼ŸSQLä¸ºç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€æä¾›äº†ç‹¬ç‰¹çš„å­¦ä¹ å’Œæ•°æ®åº“å¤„ç†æŠ€æœ¯ï¼Œå¹¶å°†å¸®åŠ©æ‚¨æ›´å¥½åœ°æ§åˆ¶SQLæŸ¥è¯¢å¹¶æœ‰æ•ˆå¤„ç†è¿™äº›ä»£ç ã€‚ç”±äºSQLå¸®åŠ©æ‚¨åŒ…æ‹¬æ•°æ®åº“åˆ›å»ºï¼Œæ•°æ®åº“æˆ–è¡¨åˆ é™¤ï¼Œè·å–è¡Œæ•°æ®å’Œä¿®æ”¹è¿™äº›æ•°æ®ç­‰ï¼Œå¹¶è¡ŒSQLä½¿å¾—äº‹æƒ…è‡ªåŠ¨å’Œå¹³æ»‘ï¼Œæœ€ç»ˆç”¨æˆ·å¯ä»¥è½»æ¾è®¿é—®å’Œå¤„ç†è¯¥åº”ç”¨ç¨‹åºçš„æ•°æ®ã€‚ SQL æ˜¯ä»€ä¹ˆï¼Ÿ SQL å‘éŸ³ä¸ºâ€sequelâ€ã€‚ SQL æŒ‡ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œå…¨ç§°æ˜¯ Structured Query Languageï¼ˆæ˜¯æœ€åˆç”±IBMå¼€å‘ï¼‰ã€‚ SQL æ˜¯å…³ç³»æ•°æ®åº“ç³»ç»Ÿçš„æ ‡å‡†è¯­è¨€ã€‚ SQL æ˜¯ä¸€ç§ ANSIï¼ˆAmerican National Standards Institute ç¾å›½å›½å®¶æ ‡å‡†åŒ–ç»„ç»‡ï¼‰æ ‡å‡†çš„è®¡ç®—æœºè¯­è¨€ã€‚ SQL èƒ½åšä»€ä¹ˆï¼Ÿ SQLå¯ä»¥åˆ›å»ºæ–°çš„æ•°æ®åº“åŠå…¶å¯¹è±¡ï¼ˆè¡¨ï¼Œç´¢å¼•ï¼Œè§†å›¾ï¼Œå­˜å‚¨è¿‡ç¨‹ï¼Œå‡½æ•°å’Œè§¦å‘å™¨ï¼‰ã€‚ SQLå¯ä»¥ä¿®æ”¹ç°æœ‰æ•°æ®åº“çš„ç»“æ„ã€‚ SQLå¯ä»¥ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼ˆåˆ é™¤ï¼‰å¯¹è±¡ã€‚ SQLå¯ä»¥TRUNCATEï¼ˆæˆªå–ï¼‰è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚ SQLå¯ä»¥å¯¹æ•°æ®å­—å…¸è¿›è¡ŒCOMMENTã€‚ SQLå¯ä»¥RENAMEä¸€ä¸ªå¯¹è±¡ã€‚ SQLå¯ä»¥ä»æ•°æ®åº“ä¸­é€‰æ‹©ï¼ˆæ£€ç´¢ï¼‰æ•°æ®ã€‚ SQLå¯ä»¥å°†æ•°æ®æ’å…¥åˆ°è¡¨ä¸­ã€‚ SQLå¯ä»¥æ›´æ–°è¡¨ä¸­çš„ç°æœ‰æ•°æ®ã€‚ SQLå¯ä»¥ä»æ•°æ®åº“è¡¨ä¸­åˆ é™¤è®°å½•ã€‚ SQLå¯ä»¥åœ¨æ•°æ®åº“ä¸­è®¾ç½®ç”¨æˆ·çš„GRANTå’ŒREVOKEæƒé™ã€‚ SQL çš„å†å² 1970å¹´ï¼ŒSQLç”±IBMçš„Donald D. Chamberlinå’ŒRaymond F. Boyceå¼€å‘ã€‚ 1974å¹´ï¼Œå¼€å‘ç‰ˆæœ¬æœ€åˆè¢«ç§°ä¸ºSEQUELï¼ˆç»“æ„åŒ–è‹±è¯­æŸ¥è¯¢è¯­è¨€ï¼‰ã€‚ 1979å¹´ï¼Œå…³ç³»è½¯ä»¶å‘å¸ƒäº†ç¬¬ä¸€ä¸ªå«åšSystem Rçš„å•†ä¸šäº§å“ã€‚ ç”±äºå•†æ ‡å†²çªé—®é¢˜ï¼ŒSEQUELé¦–å­—æ¯ç¼©ç•¥è¯åæ¥æ›´æ”¹ä¸ºSQLã€‚ åæ¥IBMåŸºäºSystem Rçš„åŸå‹å¼€å§‹åœ¨SQLä¸Šå¼€å‘å•†ä¸šäº§å“ã€‚ ç¬¬ä¸€ä¸ªå…³ç³»æ•°æ®åº“ç”±RelationalSoftwareå‘å¸ƒï¼Œåæ¥è¢«ç§°ä¸ºOracleã€‚ SQL æ˜¯ä¸€ç§æ ‡å‡† - ä½†æ˜¯â€¦è™½ç„¶ SQL æ˜¯ä¸€é—¨ ANSIï¼ˆAmerican National Standards Institute ç¾å›½å›½å®¶æ ‡å‡†åŒ–ç»„ç»‡ï¼‰æ ‡å‡†çš„è®¡ç®—æœºè¯­è¨€ï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨ç€å¤šç§ä¸åŒç‰ˆæœ¬çš„ SQL è¯­è¨€ã€‚ ç„¶è€Œï¼Œä¸ºäº†ä¸ ANSI æ ‡å‡†ç›¸å…¼å®¹ï¼Œå®ƒä»¬å¿…é¡»ä»¥ç›¸ä¼¼çš„æ–¹å¼å…±åŒåœ°æ¥æ”¯æŒä¸€äº›ä¸»è¦çš„å‘½ä»¤ï¼ˆæ¯”å¦‚ SELECTã€UPDATEã€DELETEã€INSERTã€WHERE ç­‰ç­‰ï¼‰ã€‚ **æ³¨é‡Šï¼š**é™¤SQLæ ‡å‡†ä¹‹å¤–ï¼Œå¤§å¤šæ•°SQLæ•°æ®åº“ç¨‹åºè¿˜å…·æœ‰è‡ªå·±çš„ä¸“æœ‰æ‰©å±•åï¼ åœ¨æ‚¨çš„ç½‘ç«™ä¸­ä½¿ç”¨ SQLè¦åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºæ•°æ®åº“ä¸­æ•°æ®çš„ç½‘ç«™ï¼Œæ‚¨éœ€è¦ï¼š ä¸€ä¸ªRDBMSæ•°æ®åº“ç¨‹åºï¼ˆå³MS Accessï¼ŒSQL Serverï¼ŒMySQLï¼‰ã€‚ ä½¿ç”¨æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€ï¼Œå¦‚PHPæˆ–ASPã€‚ ä½¿ç”¨SQLæ¥è·å–æ‰€éœ€çš„æ•°æ®ã€‚ ä½¿ç”¨HTML CSSæ¥è®¾ç½®é¡µé¢çš„æ ·å¼ RDBMSRDBMS æŒ‡å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…¨ç§° Relational Database Management Systemã€‚ RDBMS æ˜¯ SQL çš„åŸºç¡€ï¼ŒåŒæ ·ä¹Ÿæ˜¯æ‰€æœ‰ç°ä»£æ•°æ®åº“ç³»ç»Ÿçš„åŸºç¡€ï¼Œæ¯”å¦‚ MS SQL Serverã€IBM DB2ã€Oracleã€MySQL ä»¥åŠ Microsoft Accessã€‚ RDBMS ä¸­çš„æ•°æ®å­˜å‚¨åœ¨è¢«ç§°ä¸ºè¡¨çš„æ•°æ®åº“å¯¹è±¡ä¸­ã€‚ è¡¨æ˜¯ç›¸å…³çš„æ•°æ®é¡¹çš„é›†åˆï¼Œå®ƒç”±åˆ—å’Œè¡Œç»„æˆã€‚ ä»£ç ç¤ºä¾‹ï¼š sql SELECT * FROM Customers; æ¯ä¸ªè¡¨éƒ½è¢«åˆ†è§£æˆç§°ä¸ºå­—æ®µçš„æ›´å°çš„å®ä½“ã€‚Customersè¡¨ä¸­çš„å­—æ®µç”±CustomerIDï¼ŒCustomerNameï¼ŒContactNameï¼ŒAddressï¼ŒCityï¼ŒPostalCodeå’ŒCountryç»„æˆã€‚å­—æ®µæ˜¯è¡¨ä¸­çš„ä¸€åˆ—ï¼Œç”¨äºç»´æŠ¤è¡¨ä¸­æ¯æ¡è®°å½•çš„ç‰¹å®šä¿¡æ¯ã€‚ è®°å½•ï¼ˆä¹Ÿç§°ä¸ºè¡Œï¼‰æ˜¯è¡¨ä¸­å­˜åœ¨çš„æ¯ä¸ªå•ç‹¬æ¡ç›®ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„Customersè¡¨ä¸­æœ‰91æ¡è®°å½•ã€‚è®°å½•æ˜¯è¡¨ä¸­çš„æ¨ªå‘å®ä½“ã€‚ åˆ—æ˜¯è¡¨ä¸­çš„å‚ç›´å®ä½“ï¼Œå…¶åŒ…å«ä¸è¡¨ä¸­çš„ç‰¹å®šå­—æ®µç›¸å…³è”çš„æ‰€æœ‰ä¿¡æ¯ã€‚ SQLè¿›ç¨‹å½“æ‚¨å¯¹ä»»ä½•RDBMSæ‰§è¡ŒSQLå‘½ä»¤æ—¶ï¼Œç³»ç»Ÿå°†ç¡®å®šæ‰§è¡Œè¯·æ±‚çš„æœ€ä½³æ–¹å¼ï¼Œå¹¶ç”±SQLå¼•æ“ç¡®å®šå¦‚ä½•è§£é‡Šè¯¥ä»»åŠ¡ã€‚ åœ¨æ­¤è¿‡ç¨‹ä¸­åŒ…å«äº†å„ç§ç»„ä»¶ã€‚ æŸ¥è¯¢è°ƒåº¦å™¨ä¼˜åŒ–å¼•æ“ç»å…¸æŸ¥è¯¢å¼•æ“SQLæŸ¥è¯¢å¼•æ“ å…¸å‹çš„æŸ¥è¯¢å¼•æ“å¤„ç†æ‰€æœ‰éSQLæŸ¥è¯¢ï¼Œä½†SQLæŸ¥è¯¢å¼•æ“ä¸ä¼šå¤„ç†é€»è¾‘æ–‡ä»¶ã€‚ SQLæ ‡å‡†å‘½ä»¤ä¸å…³ç³»æ•°æ®åº“äº¤äº’çš„æ ‡å‡†SQLå‘½ä»¤æ˜¯CREATEï¼ŒSELECTï¼ŒINSERTï¼ŒUPDATEï¼ŒDELETEå’ŒDROPï¼Œç®€å•åˆ†ä¸ºä»¥ä¸‹å‡ ç»„ï¼š DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰æ•°æ®å®šä¹‰è¯­è¨€ç”¨äºæ”¹å˜æ•°æ®åº“ç»“æ„ï¼ŒåŒ…æ‹¬åˆ›å»ºã€æ›´æ”¹å’Œåˆ é™¤æ•°æ®åº“å¯¹è±¡ã€‚ç”¨äºæ“çºµè¡¨ç»“æ„çš„æ•°æ®å®šä¹‰è¯­è¨€å‘½ä»¤æœ‰ï¼š CREATE TABLEâ€“ åˆ›å»ºï¼ˆåœ¨æ•°æ®åº“ä¸­åˆ›å»ºæ–°è¡¨ã€è¡¨è§†å›¾æˆ–å…¶ä»–å¯¹è±¡ï¼‰ ALTER TABLEâ€“ æ›´æ”¹ ï¼ˆä¿®æ”¹ç°æœ‰çš„æ•°æ®åº“å¯¹è±¡ï¼Œå¦‚è¡¨ï¼‰ DROP TABLEâ€“ åˆ é™¤ ï¼ˆåˆ é™¤æ•°æ®åº“ä¸­çš„æ•´ä¸ªè¡¨ã€è¡¨æˆ–å…¶ä»–å¯¹è±¡çš„è§†å›¾ï¼‰ DMLï¼ˆæ•°æ®æ“çºµè¯­è¨€ï¼‰æ•°æ®æ“çºµè¯­è¨€ç”¨äºæ£€ç´¢ã€æ’å…¥å’Œä¿®æ”¹æ•°æ®ï¼Œæ•°æ®æ“çºµè¯­è¨€æ˜¯æœ€å¸¸è§çš„SQLå‘½ä»¤ã€‚ æ•°æ®æ“çºµè¯­è¨€å‘½ä»¤åŒ…æ‹¬ï¼š INSERTâ€“ æ’å…¥ ï¼ˆåˆ›å»ºè®°å½•ï¼‰ DELETEâ€“ åˆ é™¤ ï¼ˆåˆ é™¤è®°å½•ï¼‰ UPDATEâ€“ ä¿®æ”¹ï¼ˆä¿®æ”¹è®°å½•ï¼‰ SELECT â€“ æ£€ç´¢ ï¼ˆä»ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨æ£€ç´¢æŸäº›è®°å½•ï¼‰ DCLï¼ˆæ•°æ®æ§åˆ¶è¯­è¨€ï¼‰æ•°æ®æ§åˆ¶è¯­è¨€ä¸ºç”¨æˆ·æä¾›æƒé™æ§åˆ¶å‘½ä»¤ã€‚ ç”¨äºæƒé™æ§åˆ¶çš„å‘½ä»¤æœ‰ï¼š GRANTâ€“ æˆäºˆæƒé™ REVOKEâ€“ æ’¤é”€å·²æˆäºˆçš„æƒé™ SQLæ ¼å¼åŒ–ä½¿ç”¨SQLçš„ç¼©è¿›è§„èŒƒè¦æ±‚ï¼š ä½¿ç”¨ç©ºæ ¼æ¥ç¼©è¿› æ¯ä¸ªç¼©è¿›å±‚æ¬¡ä½¿ç”¨2ä¸ªç©ºæ ¼ æ¯è¡Œæœ€å¤šä½¿ç”¨80ä¸ªå­—ç¬¦ æ¯ä¸ªå­å¥åº”è¯¥ç‹¬å ä¸€è¡Œ æ¯ä¸ªå­å¥çš„å‚æ•°åº”è¯¥ç¼©è¿›ä¸€ä¸ªå±‚æ¬¡ã€‚ å¯ä»¥æ¯”è¾ƒç›´è§‚çš„çœ‹åˆ°æ‚¨æƒ³è¦çš„æ“ä½œ ç« èŠ‚å°æµ‹ç°åœ¨ï¼Œç›¸ä¿¡æ‚¨å·²ç»äº†è§£äº†SQLçš„åŸºç¡€çŸ¥è¯†ï¼Œé‚£ä¹ˆï¼Œæµ‹éªŒä¸€ä¸‹å§ï¼"},{"title":"SQL é€šç”¨æ•°æ®ç±»å‹","path":"/wiki/sql/sentence/datatype.html","content":"SQL é€šç”¨æ•°æ®ç±»å‹ æ•°æ®ç±»å‹å®šä¹‰äº†å­˜å‚¨åœ¨åˆ—ä¸­çš„å€¼çš„ç±»å‹ã€‚ SQL é€šç”¨æ•°æ®ç±»å‹ æ•°æ®åº“è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½éœ€è¦æœ‰ä¸€ä¸ªåç§°å’Œæ•°æ®ç±»å‹ã€‚ SQL å¼€å‘äººå‘˜å¿…é¡»åœ¨åˆ›å»º SQL è¡¨æ—¶å†³å®šè¡¨ä¸­çš„æ¯ä¸ªåˆ—å°†è¦å­˜å‚¨çš„æ•°æ®çš„ç±»å‹ã€‚æ•°æ®ç±»å‹æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œæ˜¯ä¾¿äº SQL äº†è§£æ¯ä¸ªåˆ—æœŸæœ›å­˜å‚¨ä»€ä¹ˆç±»å‹çš„æ•°æ®çš„æŒ‡å—ï¼Œå®ƒä¹Ÿæ ‡è¯†äº† SQL å¦‚ä½•ä¸å­˜å‚¨çš„æ•°æ®è¿›è¡Œäº¤äº’ã€‚ ä¸‹é¢çš„è¡¨æ ¼åˆ—å‡ºäº† SQL ä¸­é€šç”¨çš„æ•°æ®ç±»å‹ï¼š æ•°æ®ç±»å‹ æè¿° CHARACTER(n) å­—ç¬¦å­—ç¬¦ä¸²ã€‚å›ºå®šé•¿åº¦ nã€‚ VARCHAR(n) æˆ– CHARACTER VARYING(n) å­—ç¬¦å­—ç¬¦ä¸²ã€‚å¯å˜é•¿åº¦ã€‚æœ€å¤§é•¿åº¦ nã€‚ BINARY(n) äºŒè¿›åˆ¶ä¸²ã€‚å›ºå®šé•¿åº¦ nã€‚ BOOLEAN å­˜å‚¨ TRUE æˆ– FALSE å€¼ VARBINARY(n) æˆ– BINARY VARYING(n) äºŒè¿›åˆ¶ä¸²ã€‚å¯å˜é•¿åº¦ã€‚æœ€å¤§é•¿åº¦ nã€‚ INTEGER(p) æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ pã€‚ SMALLINT æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ 5ã€‚ INTEGER æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ 10ã€‚ BIGINT æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ 19ã€‚ DECIMAL(p,s) ç²¾ç¡®æ•°å€¼ï¼Œç²¾åº¦ pï¼Œå°æ•°ç‚¹åä½æ•° sã€‚ä¾‹å¦‚ï¼šdecimal(5,2) æ˜¯ä¸€ä¸ªå°æ•°ç‚¹å‰æœ‰ 3 ä½æ•°å°æ•°ç‚¹åæœ‰ 2 ä½æ•°çš„æ•°å­—ã€‚ NUMERIC(p,s) ç²¾ç¡®æ•°å€¼ï¼Œç²¾åº¦ pï¼Œå°æ•°ç‚¹åä½æ•° sã€‚ï¼ˆä¸ DECIMAL ç›¸åŒï¼‰ FLOAT(p) è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ pã€‚ä¸€ä¸ªé‡‡ç”¨ä»¥ 10 ä¸ºåŸºæ•°çš„æŒ‡æ•°è®¡æ•°æ³•çš„æµ®ç‚¹æ•°ã€‚è¯¥ç±»å‹çš„ size å‚æ•°ç”±ä¸€ä¸ªæŒ‡å®šæœ€å°ç²¾åº¦çš„å•ä¸€æ•°å­—ç»„æˆã€‚ REAL è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ 7ã€‚ FLOAT è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ 16ã€‚ DOUBLE PRECISION è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ 16ã€‚ DATE å­˜å‚¨å¹´ã€æœˆã€æ—¥çš„å€¼ã€‚ TIME å­˜å‚¨å°æ—¶ã€åˆ†ã€ç§’çš„å€¼ã€‚ TIMESTAMP å­˜å‚¨å¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†ã€ç§’çš„å€¼ã€‚ INTERVAL ç”±ä¸€äº›æ•´æ•°å­—æ®µç»„æˆï¼Œä»£è¡¨ä¸€æ®µæ—¶é—´ï¼Œå–å†³äºåŒºé—´çš„ç±»å‹ã€‚ ARRAY å…ƒç´ çš„å›ºå®šé•¿åº¦çš„æœ‰åºé›†åˆ MULTISET å…ƒç´ çš„å¯å˜é•¿åº¦çš„æ— åºé›†åˆ XML å­˜å‚¨ XML æ•°æ® SQL æ•°æ®ç±»å‹å¿«é€Ÿå‚è€ƒæ‰‹å†Œ ç„¶è€Œï¼Œä¸åŒçš„æ•°æ®åº“ä¸ºæ•°æ®ç±»å‹å®šä¹‰æä¾›äº†ä¸åŒçš„é€‰æ‹©ã€‚ã€€ä¸‹è¡¨æ˜¾ç¤ºäº†ä¸åŒæ•°æ®åº“å¹³å°ä¸ŠæŸäº›æ•°æ®ç±»å‹çš„é€šç”¨åç§°ï¼š æ•°æ®ç±»å‹ Access SQLServer Oracle MySQL PostgreSQL boolean YesNo Bit Byte NA Boolean integer Number (integer) Int Number Int Integer Int Integer float Number (single) Float Real Number Float Numeric currency Currency Money NA NA Money string (fixed) NA Char Char Char Char string (variable) Text (256) Memo (65k+) Varchar Varchar Varchar2 Varchar Varchar binary object OLE Object Memo Binary (fixed up to 8K) Varbinary (8K) Image (2GB) Long Raw Blob Text Binary Varbinary æ³¨é‡Šï¼š åœ¨ä¸åŒçš„æ•°æ®åº“ä¸­ï¼Œç›¸åŒçš„æ•°æ®ç±»å‹å¯èƒ½æœ‰ä¸åŒçš„åç§°ã€‚å³ä½¿åå­—ç›¸åŒï¼Œå¤§å°å’Œå…¶ä»–ç»†èŠ‚ä¹Ÿå¯èƒ½ä¸åŒï¼è¯·éšæ—¶æ£€æŸ¥æ–‡ä»¶!"},{"title":"SQL Dateå‡½æ•°","path":"/wiki/sql/sentence/date.html","content":"SQL Date å‡½æ•° **æ³¨æ„ï¼š**å½“æˆ‘ä»¬å¤„ç†æ—¥æœŸæ—¶ï¼Œæœ€å›°éš¾çš„ä»»åŠ¡å¯èƒ½æ˜¯ç¡®ä¿æ’å…¥æ—¥æœŸçš„æ ¼å¼ä¸æ•°æ®åº“ä¸­æ—¥æœŸåˆ—ä¸­çš„æ ¼å¼ç›¸åŒ¹é…ã€‚ åªè¦æ‚¨çš„æ•°æ®ä»…åŒ…å«æ—¥æœŸçš„ä¸€éƒ¨åˆ†ï¼Œè¿è¡ŒæŸ¥è¯¢å°±ä¸ä¼šæˆä¸ºé—®é¢˜ã€‚ç„¶è€Œï¼Œå½“æ¶‰åŠåˆ°æ—¶é—´æ—¶ï¼Œæƒ…å†µä¼šç¨å¾®å¤æ‚ä¸€äº›ã€‚ åœ¨è®¨è®ºæ—¥æœŸæŸ¥è¯¢çš„å¤æ‚æ€§ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æœ€é‡è¦çš„å†…ç½®æ—¥æœŸå¤„ç†ç¨‹åºã€‚ MySQL Date å‡½æ•° ä¸‹è¡¨åˆ—å‡ºäº† MySQL ä¸­æœ€é‡è¦çš„å†…ç½®æ—¥æœŸå‡½æ•°ï¼š å‡½æ•° æè¿° è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ è¿”å›å½“å‰çš„æ—¥æœŸ è¿”å›å½“å‰çš„æ—¶é—´ æå–æ—¥æœŸæˆ–æ—¥æœŸæ—¶é—´è¡¨è¾¾å¼çš„æ—¥æœŸéƒ¨åˆ† è¿”å›æ—¥æœŸæ—¶é—´çš„å•ç‹¬éƒ¨åˆ† å‘æ—¥æœŸæ·»åŠ æŒ‡å®šçš„æ—¶é—´é—´éš” ä»æ—¥æœŸå‡å»æŒ‡å®šçš„æ—¶é—´é—´éš” è¿”å›ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•° ç”¨ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ—¥æœŸæ—¶é—´ SQL Server Date å‡½æ•° ä¸‹è¡¨åˆ—å‡ºäº†SQL æœåŠ¡å™¨ä¸­æœ€é‡è¦çš„å†…ç½®æ—¥æœŸå‡½æ•°ï¼š å‡½æ•° æè¿° è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ è¿”å›æ—¥æœŸæ—¶é—´çš„å•ç‹¬éƒ¨åˆ† åœ¨æ—¥æœŸä¸­æ·»åŠ æˆ–å‡å»æŒ‡å®šçš„æ—¶é—´é—´éš” è¿”å›ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ—¶é—´ ç”¨ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ—¥æœŸæ—¶é—´ SQL Date æ•°æ®ç±»å‹ **ã€€MySQL** ä½¿ç”¨ä¸‹åˆ—æ•°æ®ç±»å‹åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸæˆ–æ—¶é—´å€¼ï¼š DATE - æ ¼å¼ï¼šYYYY-MM-DD DATETIME - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS TIMESTAMP - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS YEAR - æ ¼å¼ï¼šYYYY æˆ– YY **ã€€SQL Server** ä½¿ç”¨ä¸‹åˆ—æ•°æ®ç±»å‹åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸæˆ–æ—¶é—´å€¼ï¼š DATE - æ ¼å¼ï¼šYYYY-MM-DD DATETIME - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS SMALLDATETIME - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS TIMESTAMP - æ ¼å¼ï¼šå”¯ä¸€çš„æ•°å­— **ã€€æ³¨é‡Šï¼š**åœ¨æ•°æ®åº“ä¸­åˆ›å»ºæ–°è¡¨æ—¶ï¼Œéœ€è¦ä¸ºè¯¥åˆ—é€‰æ‹©æ•°æ®ç±»å‹ï¼ å¦‚éœ€äº†è§£æ‰€æœ‰å¯ç”¨çš„æ•°æ®ç±»å‹ï¼Œè¯·è®¿é—®æˆ‘ä»¬å®Œæ•´çš„ ã€‚ SQL æ—¥æœŸå¤„ç† **æ³¨æ„ï¼š**å¦‚æœæ‚¨ä¸æ¶‰åŠæ—¶é—´éƒ¨åˆ†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è½»æ¾æ¯”è¾ƒä¸¤ä¸ªæ—¥æœŸï¼ å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹â€è®¢å•â€è¡¨ï¼š OrderId ProductName OrderDate 1 Geitost 2008-11-11 2 Camembert Pierrot 2008-11-09 3 Mozzarella di Giovanni 2008-11-11 4 Mascarpone Fabioli 2008-10-29 ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›ä»ä¸Šè¡¨ä¸­é€‰å– OrderDate ä¸º â€œ2008-11-11â€ çš„è®°å½•ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ SELECT è¯­å¥ï¼š SELECT * FROM Orders WHERE OrderDate=2008-11-11 ç»“æœé›†å¦‚ä¸‹æ‰€ç¤ºï¼š OrderId ProductName OrderDate 1 Geitost 2008-11-11 3 Mozzarella di Giovanni 2008-11-11 ç°åœ¨ï¼Œå‡è®¾ â€œOrdersâ€ è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼ˆè¯·æ³¨æ„ â€œOrderDateâ€ åˆ—ä¸­çš„æ—¶é—´éƒ¨åˆ†ï¼‰ï¼š OrderId ProductName OrderDate 1 Geitost 2008-11-11 13:23:44 2 Camembert Pierrot 2008-11-09 15:45:21 3 Mozzarella di Giovanni 2008-11-11 11:12:01 4 Mascarpone Fabioli 2008-10-29 14:56:59 å¦‚æœæˆ‘ä»¬ä½¿ç”¨å’Œä¸Šé¢ä¸€æ ·çš„ SELECT è¯­å¥ï¼š SELECT * FROM Orders WHERE OrderDate=2008-11-11 è¿™æ ·æˆ‘ä»¬å°±ä¸ä¼šæœ‰ç»“æœäº†ï¼è¿™æ˜¯å› ä¸ºæŸ¥è¯¢çš„æ—¥æœŸä¸åŒ…å«æ—¶é—´éƒ¨åˆ†ã€‚ **æç¤ºï¼š**å¦‚æœæ‚¨æƒ³ä½¿æŸ¥è¯¢æ›´åŠ ç®€å•å’Œæ˜“äºç»´æŠ¤ï¼Œè¯·ä¸è¦ä½¿ç”¨æ—¥æœŸä¸­çš„æ—¶é—´éƒ¨åˆ†ï¼"},{"title":"SQL ç´¢å¼•","path":"/wiki/sql/sentence/dbindex.html","content":"SQL ç´¢å¼• ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŸ¥è¯¢è¡¨ï¼Œå¯ä»¥è¢«æ•°æ®åº“æœç´¢å¼•æ“ç”¨æ¥åŠ é€Ÿæ•°æ®çš„æ£€ç´¢ã€‚ç®€å•è¯´æ¥ï¼Œç´¢å¼•å°±æ˜¯æŒ‡å‘è¡¨ä¸­æ•°æ®çš„æŒ‡é’ˆã€‚æ•°æ®åº“çš„ç´¢å¼•åŒä¹¦ç±åé¢çš„ç´¢å¼•éå¸¸ç›¸åƒã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæƒ³è¦æŸ¥é˜…ä¸€æœ¬ä¹¦ä¸­ä¸æŸä¸ªç‰¹å®šä¸»é¢˜ç›¸å…³çš„æ‰€æœ‰é¡µé¢ï¼Œä½ ä¼šå…ˆå»æŸ¥è¯¢ç´¢å¼•ï¼ˆç´¢å¼•æŒ‰ç…§å­—æ¯è¡¨é¡ºåºåˆ—å‡ºäº†æ‰€æœ‰ä¸»é¢˜ï¼‰ï¼Œç„¶åä»ç´¢å¼•ä¸­æ‰¾åˆ°ä¸€é¡µæˆ–è€…å¤šé¡µä¸è¯¥ä¸»é¢˜ç›¸å…³çš„é¡µé¢ã€‚ ç´¢å¼•èƒ½å¤Ÿæé«˜ SELECT æŸ¥è¯¢å’Œ WHERE å­å¥çš„é€Ÿåº¦ï¼Œä½†æ˜¯å´é™ä½äº†åŒ…å« UPDATE è¯­å¥æˆ– INSERT è¯­å¥çš„æ•°æ®è¾“å…¥è¿‡ç¨‹çš„é€Ÿåº¦ã€‚ç´¢å¼•çš„åˆ›å»ºä¸åˆ é™¤ä¸ä¼šå¯¹è¡¨ä¸­çš„æ•°æ®äº§ç”Ÿå½±å“ã€‚ åˆ›å»ºç´¢å¼•éœ€è¦ä½¿ç”¨ CREATE INDEX è¯­å¥ï¼Œè¯¥è¯­å¥å…è®¸å¯¹ç´¢å¼•å‘½åï¼ŒæŒ‡å®šè¦åˆ›å»ºç´¢å¼•çš„è¡¨ä»¥åŠå¯¹å“ªäº›åˆ—è¿›è¡Œç´¢å¼•ï¼Œè¿˜å¯ä»¥æŒ‡å®šç´¢å¼•æŒ‰ç…§å‡åºæˆ–è€…é™åºæ’åˆ—ã€‚ åŒ UNIQUE çº¦æŸä¸€æ ·ï¼Œç´¢å¼•å¯ä»¥æ˜¯å”¯ä¸€çš„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç´¢å¼•ä¼šé˜»æ­¢åˆ—ä¸­ï¼ˆæˆ–è€…åˆ—çš„ç»„åˆï¼Œå…¶ä¸­æŸäº›åˆ—æœ‰ç´¢å¼•ï¼‰å‡ºç°é‡å¤çš„æ¡ç›®ã€‚ CREATE INDEX å‘½ä»¤ï¼š **ã€€CREATE INDEX**å‘½ä»¤çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š CREATE INDEX index_name ON table_name; å•åˆ—ç´¢å¼•ï¼šå•åˆ—ç´¢å¼•åŸºäºå•ä¸€çš„å­—æ®µåˆ›å»ºï¼Œå…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š CREATE INDEX index_nameON table_name (column_name); å”¯ä¸€ç´¢å¼•ï¼šå”¯ä¸€ç´¢å¼•ä¸æ­¢ç”¨äºæå‡æŸ¥è¯¢æ€§èƒ½ï¼Œè¿˜ç”¨äºä¿è¯æ•°æ®å®Œæ•´æ€§ã€‚å”¯ä¸€ç´¢å¼•ä¸å…è®¸å‘è¡¨ä¸­æ’å…¥ä»»ä½•é‡å¤å€¼ã€‚å…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š CREATE UNIQUE INDEX index_nameon table_name (column_name); å¦‚æœæ‚¨å¸Œæœ›ç´¢å¼•ä¸æ­¢ä¸€ä¸ªåˆ—ï¼Œæ‚¨å¯ä»¥åœ¨æ‹¬å·ä¸­åˆ—å‡ºè¿™äº›åˆ—çš„åç§°ï¼Œç”¨é€—å·éš”å¼€ï¼š CREATE INDEX index_nameon table_name (column1, column2); éšå¼ç´¢å¼•ï¼šéšå¼ç´¢å¼•ç”±æ•°æ®åº“æœåŠ¡å™¨åœ¨åˆ›å»ºæŸäº›å¯¹è±¡çš„æ—¶å€™è‡ªåŠ¨ç”Ÿæˆã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸»é”®çº¦æŸå’Œå”¯ä¸€çº¦æŸï¼Œæ•°æ®åº“æœåŠ¡å™¨å°±ä¼šè‡ªåŠ¨åˆ›å»ºç´¢å¼•ã€‚ DROP INDEX å‘½ä»¤ï¼šç´¢å¼•å¯ä»¥ç”¨ SQL DROP å‘½ä»¤åˆ é™¤ã€‚åˆ é™¤ç´¢å¼•æ—¶åº”å½“ç‰¹åˆ«å°å¿ƒï¼Œæ•°æ®åº“çš„æ€§èƒ½å¯èƒ½ä¼šå› æ­¤è€Œé™ä½æˆ–è€…æé«˜ã€‚ å…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š sql DROP INDEX table_name.index_name; ä»€ä¹ˆæ—¶å€™åº”å½“é¿å…ä½¿ç”¨ç´¢å¼•ï¼Ÿ å°½ç®¡åˆ›å»ºç´¢å¼•çš„ç›®çš„æ˜¯æå‡æ•°æ®åº“çš„æ€§èƒ½ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›æƒ…å†µåº”å½“é¿å…ä½¿ç”¨ç´¢å¼•ã€‚ä¸‹é¢å‡ æ¡æŒ‡å¯¼åŸåˆ™ç»™å‡ºäº†ä½•æ—¶åº”å½“é‡æ–°è€ƒè™‘æ˜¯å¦ä½¿ç”¨ç´¢å¼•ï¼š å°çš„æ•°æ®è¡¨ä¸åº”å½“ä½¿ç”¨ç´¢å¼•ï¼› éœ€è¦é¢‘ç¹è¿›è¡Œå¤§æ‰¹é‡çš„æ›´æ–°æˆ–è€…æ’å…¥æ“ä½œçš„è¡¨ï¼› å¦‚æœåˆ—ä¸­åŒ…å«å¤§æ•°æˆ–è€… NULL å€¼ï¼Œä¸å®œåˆ›å»ºç´¢å¼•ï¼› é¢‘ç¹æ“ä½œçš„åˆ—ä¸å®œåˆ›å»ºç´¢å¼•ã€‚"},{"title":"SQL åˆ é™¤","path":"/wiki/sql/sentence/delete.html","content":"SQL DELETE è¯­å¥ DELETEè¯­å¥ç”¨äºåˆ é™¤è¡¨ä¸­ç°æœ‰è®°å½•ã€‚ SQL DELETE è¯­æ³•DELETE FROM table_nameWHERE condition; è¯·æ³¨æ„ åˆ é™¤è¡¨æ ¼ä¸­çš„è®°å½•æ—¶è¦å°å¿ƒï¼ æ³¨æ„SQL DELETE è¯­å¥ä¸­çš„ WHERE å­å¥ï¼ WHEREå­å¥æŒ‡å®šéœ€è¦åˆ é™¤å“ªäº›è®°å½•ã€‚å¦‚æœçœç•¥äº†WHEREå­å¥ï¼Œè¡¨ä¸­æ‰€æœ‰è®°å½•éƒ½å°†è¢«åˆ é™¤ï¼ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯ â€œCustomersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL DELETE å®ä¾‹ å‡è®¾æˆ‘ä»¬æƒ³ä»â€Customersâ€ è¡¨ä¸­åˆ é™¤å®¢æˆ·â€Alfreds Futterkisteâ€ã€‚ æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹SQLè¯­å¥ï¼š ç¤ºä¾‹ï¼š DELETE FROM CustomersWHERE CustomerName=Alfreds Futterkiste; ç°åœ¨ï¼Œâ€Customersâ€ è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š CustomerID CustomerName ContactName Address City PostalCode Country 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden åˆ é™¤æ‰€æœ‰æ•°æ® æ‚¨å¯ä»¥åˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œè€Œä¸éœ€è¦åˆ é™¤è¯¥è¡¨ã€‚è¿™æ„å‘³ç€è¡¨çš„ç»“æ„ã€å±æ€§å’Œç´¢å¼•å°†ä¿æŒä¸å˜ï¼š DELETE FROM table_name; **ã€€æˆ–è€…** DELETE * FROM table_name; **æ³¨æ„ï¼š**åœ¨æ²¡æœ‰å¤‡ä»½çš„æƒ…å†µä¸‹ï¼Œåˆ é™¤è®°å½•è¦æ ¼å¤–å°å¿ƒï¼å› ä¸ºä½ åˆ é™¤äº†ä¸èƒ½æ¢å¤ï¼"},{"title":"SQL é€‰æ‹©ä¸åŒ","path":"/wiki/sql/sentence/distinct.html","content":"SQL SELECT DISTINCT è¯­æ³• SELECT DISTINCTè¯­æ³•ç”¨äºä»…è¿”å›ä¸åŒçš„ï¼ˆdifferentï¼‰å€¼ã€‚ åœ¨ä¸€å¼ è¡¨å†…ï¼Œä¸€åˆ—é€šå¸¸åŒ…å«è®¸å¤šé‡å¤çš„å€¼; æœ‰æ—¶ä½ åªæƒ³åˆ—å‡ºä¸åŒçš„ï¼ˆdifferentï¼‰å€¼ã€‚ SELECT DISTINCTè¯­å¥ç”¨äºä»…è¿”å›ä¸åŒçš„ï¼ˆdifferentï¼‰å€¼ã€‚ SQL SELECT DISTINCTè¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT DISTINCT column1, column2, ...FROM table_name; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯ç½—æ–¯æ–‡ç¤ºä¾‹æ•°æ®åº“ä¸­ â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SELECTå®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä»â€Customersâ€è¡¨ä¸­çš„â€Countryâ€åˆ—ä¸­é€‰æ‹©æ‰€æœ‰ï¼ˆåŒ…æ‹¬é‡å¤ï¼‰å€¼ï¼š**ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT Country FROM Customers; ä»¥ä¸ŠæŸ¥è¯¢çš„ç»“æœï¼š CountryGermanyMexicoMexicoUKSweden ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨ä¸Šé¢çš„SELECTè¯­æ³•ä¸­ä½¿ç”¨DISTINCTå…³é”®å­—å¹¶æŸ¥çœ‹ç»“æœã€‚ SELECT DISTINCT å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä»…ä»â€Customersâ€ è¡¨ä¸­çš„ â€œCountryâ€ åˆ—ä¸­é€‰æ‹©DISTINCTå€¼ï¼š å®ä¾‹1SELECT DISTINCT Country FROM Customers; æŸ¥è¯¢ç»“æœï¼š CountryGermanyMexicoUKSweden ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºäº†ä¸åŒï¼ˆdistinctï¼‰å®¢æˆ·å›½å®¶çš„æ•°é‡ï¼š å®ä¾‹2SELECT COUNT(DISTINCT Country) FROM Customers; **æ³¨æ„ï¼š**ä¸Šè¿°ç¤ºä¾‹åœ¨Firefoxå’ŒMicrosoft Edgeä¸­ä¸èµ·ä½œç”¨ï¼ ç”±äºåœ¨Microsoft Accessæ•°æ®åº“ä¸­ä¸æ”¯æŒCOUNT(DISTINCT column_name)ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­Firefoxå’ŒMicrosoft Edgeä½¿ç”¨Microsoft Accessã€‚"},{"title":"SQL æ’¤é”€ç´¢å¼•/è¡¨/æ•°æ®åº“","path":"/wiki/sql/sentence/drop.html","content":"SQL æ’¤é”€ç´¢å¼•ã€æ’¤é”€è¡¨ä»¥åŠæ’¤é”€æ•°æ®åº“ é€šè¿‡ä½¿ç”¨ DROP è¯­å¥ï¼Œå¯ä»¥è½»æ¾åœ°åˆ é™¤ç´¢å¼•ã€è¡¨å’Œæ•°æ®åº“ã€‚ DROP INDEX è¯­å¥ DROP INDEX è¯­å¥ç”¨äºåˆ é™¤è¡¨ä¸­çš„ç´¢å¼•ã€‚ ç”¨äº MS Access çš„ DROP INDEX è¯­æ³•ï¼šDROP INDEX index_name ON table_name ç”¨äº MS SQL Server çš„ DROP INDEX è¯­æ³•ï¼šDROP INDEX table_name.index_name ç”¨äº DB2Oracle çš„ DROP INDEX è¯­æ³•ï¼šDROP INDEX index_name ç”¨äº MySQL çš„ DROP INDEX è¯­æ³•ï¼šALTER TABLE table_name DROP INDEX index_name DROP TABLE è¯­å¥ DROP TABLE è¯­å¥ç”¨äºåˆ é™¤è¡¨ã€‚ DROP TABLE table_name DROP DATABASE è¯­å¥ DROP DATABASE è¯­å¥ç”¨äºåˆ é™¤æ•°æ®åº“ã€‚ DROP DATABASE database_name TRUNCATE TABLE è¯­å¥ å¦‚æœæˆ‘ä»¬åªéœ€è¦åˆ é™¤è¡¨ä¸­çš„æ•°æ®ï¼Œè€Œä¸åˆ é™¤è¡¨æœ¬èº«ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåšï¼Ÿ ä½¿ç”¨TRUNCATE TABLEè¯­å¥ï¼š TRUNCATE TABLE table_name"},{"title":"SQL è¡¨è¾¾å¼","path":"/wiki/sql/sentence/express.html","content":"SQL è¡¨è¾¾å¼ è¡¨è¾¾å¼æ˜¯è®¡ç®—å€¼çš„ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ã€è¿ç®—ç¬¦å’ŒSQLå‡½æ•°çš„ç»„åˆã€‚è¿™äº›SQLè¡¨è¾¾å¼ç±»ä¼¼äºå…¬å¼ï¼Œå®ƒä»¬æ˜¯ç”¨æŸ¥è¯¢è¯­è¨€ç¼–å†™çš„ã€‚ æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å®ƒä»¬æŸ¥è¯¢æ•°æ®åº“ä¸­çš„ç‰¹å®šæ•°æ®é›†ã€‚ å¥æ³•è€ƒè™‘SELECTè¯­å¥çš„åŸºæœ¬è¯­æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š SELECT column1, column2, columnN FROM table_name WHERE [CONDITION|EXPRESSION]; æœ‰ä¸åŒç±»å‹çš„sqlè¡¨è¾¾å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å¸ƒå°”å‹ æ•°å€¼å‹ æ—¥æœŸ ç°åœ¨è®©æˆ‘ä»¬è¯¦ç»†è®¨è®ºæ¯ä¸€ä¸ªé—®é¢˜ã€‚ å¸ƒå°”è¡¨è¾¾å¼ SQLå¸ƒå°”è¡¨è¾¾å¼åŸºäºåŒ¹é…å•ä¸ªå€¼è·å–æ•°æ®ã€‚ å¥æ³•ï¼š SELECT column1, column2, columnN FROM table_name WHERE SINGLE VALUE MATCHING EXPRESSION; ä½¿ç”¨å…·æœ‰ä»¥ä¸‹è®°å½•çš„Customersè¡¨ï¼š SQL SELECT * FROM CUSTOMERS;+----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+7 rows in set (0.00 sec) ä¸‹è¡¨æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å„ç§sqlå¸ƒå°”è¡¨è¾¾å¼çš„ç”¨æ³•ã€‚ SQL SELECT * FROM CUSTOMERS WHERE SALARY = 10000;+----+-------+-----+---------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+-------+-----+---------+----------+| 7 | Muffy | 24 | Indore | 10000.00 |+----+-------+-----+---------+----------+1 row in set (0.00 sec) æ•°å€¼è¡¨è¾¾å¼ æ•°å€¼è¡¨è¾¾å¼ç”¨äºåœ¨ä»»ä½•æŸ¥è¯¢ä¸­æ‰§è¡Œä»»ä½•æ•°å­¦è¿ç®—ã€‚ å¥æ³•ï¼š SELECT numerical_expression as OPERATION_NAME[FROM table_nameWHERE CONDITION] ; è¿™é‡Œï¼Œæ•°å€¼è¡¨è¾¾å¼ç”¨äºæ•°å­¦è¡¨è¾¾å¼æˆ–ä»»ä½•å…¬å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†SQLNDigiticè¡¨è¾¾å¼çš„ç”¨æ³•ï¼š SQL SELECT (15 + 6) AS ADDITION+----------+| ADDITION |+----------+| 21 |+----------+1 row in set (0.00 sec) æœ‰å‡ ä¸ªå†…ç½®å‡½æ•°ï¼Œå¦‚avg()ã€sum()ã€count()ç­‰ï¼Œç”¨äºå¯¹è¡¨æˆ–ç‰¹å®šè¡¨åˆ—æ‰§è¡Œæ‰€è°“çš„èšåˆæ•°æ®è®¡ç®—ã€‚ SQL SELECT COUNT(*) AS RECORDS FROM CUSTOMERS; +---------+| RECORDS |+---------+| 7 |+---------+1 row in set (0.00 sec) æ—¥æœŸè¡¨è¾¾å¼æ—¥æœŸè¡¨è¾¾å¼è¿”å›å½“å‰ç³»ç»Ÿæ—¥æœŸå’Œæ—¶é—´å€¼ï¼š SQL SELECT CURRENT_TIMESTAMP;+---------------------+| Current_Timestamp |+---------------------+| 2009-11-12 06:40:23 |+---------------------+1 row in set (0.00 sec) å¦ä¸€ä¸ªæ—¥æœŸè¡¨è¾¾å¼å¦‚ä¸‹æ‰€ç¤ºï¼š SQL SELECT GETDATE();;+-------------------------+| GETDATE |+-------------------------+| 2009-10-22 12:07:18.140 |+-------------------------+1 row in set (0.00 sec)"},{"title":"SQL INè¿ç®—ç¬¦","path":"/wiki/sql/sentence/in.html","content":"SQL IN è¿ç®—ç¬¦ IN è¿ç®—ç¬¦å…è®¸æ‚¨åœ¨ WHERE å­å¥ä¸­æŒ‡å®šå¤šä¸ªå€¼ã€‚ IN è¿ç®—ç¬¦æ˜¯å¤šä¸ª OR æ¡ä»¶çš„ç®€å†™ã€‚ SQL IN è¯­æ³•SELECT column_name(s)FROM table_nameWHERE column_name IN (value1, value2, ...); æˆ–è€…SELECT column_name(s)FROM table_nameWHERE column_name IN (SELECT STATEMENT); æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„ Northwind ç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ•°æ®é€‰å–è‡ªâ€Customersâ€ è¡¨ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden IN æ“ä½œç¬¦å®ä¾‹ ä»¥ä¸‹ SQL è¯­å¥é€‰å–ä½äºâ€Germanyâ€ï¼Œâ€Franceâ€å’Œâ€UKâ€çš„æ‰€æœ‰å®¢æˆ·ï¼š ä»£ç ç¤ºä¾‹ï¼šSELECT * FROM CustomersWHERE Country IN (Germany, France, UK); ä»¥ä¸‹ SQL è¯­å¥é€‰å–ä¸åœ¨â€Germanyâ€ï¼Œâ€Franceâ€æˆ–â€UKâ€ä¸­çš„æ‰€æœ‰å®¢æˆ·ï¼š ä»£ç ç¤ºä¾‹ï¼šSELECT * FROM CustomersWHERE Country NOT IN (Germany, France, UK); ä»¥ä¸‹ SQL è¯­å¥é€‰å–æ¥è‡ªåŒä¸€å›½å®¶çš„æ‰€æœ‰å®¢æˆ·ä½œä¸ºä¾›åº”å•†ï¼š ä»£ç ç¤ºä¾‹ï¼šSELECT * FROM CustomersWHERE Country IN (SELECT Country FROM Suppliers);"},{"title":"SQL å†…éƒ¨è¿æ¥","path":"/wiki/sql/sentence/inner.html","content":"SQL INNER JOIN å…³é”®å­—ï¼ˆå†…éƒ¨è¿æ¥ï¼‰ å†…éƒ¨é“¾æ¥INNER JOINå…³é”®å­—é€‰æ‹©ä¸¤ä¸ªè¡¨ä¸­å…·æœ‰åŒ¹é…å€¼çš„è®°å½•ã€‚ SQL INNER JOIN è¯­æ³•SELECT column_name(s)FROM table1INNER JOIN table2 ON table1.column_name = table2.column_name; **ã€€æ³¨é‡Šï¼š**INNER JOIN ä¸ JOIN æ˜¯ç›¸åŒçš„ã€‚ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯ â€œCustomersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico é€‰è‡ª â€œOrdersâ€ è¡¨çš„æ•°æ®ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10308 2 7 1996-09-18 3 10309 37 3 1996-09-19 1 10310 77 8 1996-09-20 2 SQL INNER JOIN å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥å°†è¿”å›æ‰€æœ‰ä¸‹è®¢å•çš„å®¢æˆ·ï¼š ç¤ºä¾‹ï¼š SELECT Customers.CustomerName, Orders.OrderIDFROM CustomersINNER JOIN OrdersON Customers.CustomerID=Orders.CustomerIDORDER BY Customers.CustomerName; **æ³¨é‡Šï¼š**å¦‚æœè¡¨ä¸­è‡³å°‘æœ‰ä¸€ä¸ªåŒ¹é…é¡¹ï¼ŒINNER JOIN å…³é”®å­—å°†è¿”å›ä¸€è¡Œã€‚å¦‚æœ â€œCustomersâ€ è¡¨ä¸­çš„è¡Œä¸â€Ordersâ€ ä¸åŒ¹é…ï¼Œåˆ™ä¸ä¼šåˆ—å‡ºè¡Œã€‚ åŠ å…¥ä¸‰å¼ è¡¨ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©åŒ…å«å®¢æˆ·å’Œè´§è¿å•ä¿¡æ¯çš„æ‰€æœ‰è®¢å•ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT Orders.OrderID, Customers.CustomerName, Shippers.ShipperNameFROM ((OrdersINNER JOIN Customers ON Orders.CustomerID = Customers.CustomerID)INNER JOIN Shippers ON Orders.ShipperID = Shippers.ShipperID);"},{"title":"SQL åœ¨è¡¨ä¸­æ’å…¥","path":"/wiki/sql/sentence/insert.html","content":"SQL INSERT INTO è¯­å¥ INSERT INTO è¯­å¥ç”¨äºå‘è¡¨ä¸­æ’å…¥æ–°çš„æ•°æ®è¡Œã€‚ SQL INSERT INTO è¯­æ³•INSERT INTO è¯­å¥å¯ä»¥ç”¨ä¸¤ç§å½¢å¼ç¼–å†™ã€‚ã€€ç¬¬ä¸€ä¸ªè¡¨å•æ²¡æœ‰æŒ‡å®šè¦æ’å…¥æ•°æ®çš„åˆ—çš„åç§°ï¼Œåªæä¾›è¦æ’å…¥çš„å€¼ï¼Œå³å¯æ·»åŠ ä¸€è¡Œæ–°çš„æ•°æ®ï¼š sql INSERT INTO table_name (column1, column2, column3, ...)VALUES (value1, value2, value3, ...); ç¬¬äºŒç§ï¼Œå¦‚æœè¦ä¸ºè¡¨ä¸­çš„æ‰€æœ‰åˆ—æ·»åŠ å€¼ï¼Œåˆ™ä¸éœ€è¦åœ¨SQLæŸ¥è¯¢ä¸­æŒ‡å®šåˆ—åç§°ã€‚ä½†æ˜¯ï¼Œè¯·ç¡®ä¿å€¼çš„é¡ºåºä¸è¡¨ä¸­çš„åˆ—é¡ºåºç›¸åŒã€‚INSERT INTOè¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š sql INSERT INTO table_nameVALUES (value1, value2, value3, ...); æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„ Northwind ç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 87 Wartian Herkku Pirkko Koskitalo Torikatu 38 Oulu 90110 Finland 88 Wellington Importadora Paula Parente Rua do Mercado, 12 Resende 08737-363 Brazil 89 White Clover Markets Karl Jablonski 305 - 14th Ave. S. Suite 3B Seattle 98128 USA 90 Wilman Kala Matti Karttunen Keskuskatu 45 Helsinki 21240 Finland 91 Wolski Zbyszek ul. Filtrowa 68 Walla 01-012 Poland INSERT INTO å®ä¾‹ å‡è®¾æˆ‘ä»¬æƒ³åœ¨â€Customersâ€è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°è¡Œã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹SQLè¯­å¥ï¼š å®ä¾‹INSERT INTO Customers (CustomerName, ContactName, Address, City, PostalCode, Country)VALUES (â€˜Cardinalâ€™,â€™Tom B. Erichsenâ€™,â€™Skagen 21â€™,â€™Stavangerâ€™,â€™4006â€™,â€™Norwayâ€™); ç°åœ¨ï¼Œé€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š CustomerID CustomerName ContactName Address City PostalCode Country 87 Wartian Herkku Pirkko Koskitalo Torikatu 38 Oulu 90110 Finland 88 Wellington Importadora Paula Parente Rua do Mercado, 12 Resende 08737-363 Brazil 89 White Clover Markets Karl Jablonski 305 - 14th Ave. S. Suite 3B Seattle 98128 USA 90 Wilman Kala Matti Karttunen Keskuskatu 45 Helsinki 21240 Finland 91 Wolski Zbyszek ul. Filtrowa 68 Walla 01-012 Poland 92 Cardinal Tom B. Erichsen Skagen 21 Stavanger 4006 Norway æ³¨æ„åˆ°äº†å—ï¼Ÿ æˆ‘ä»¬æ²¡æœ‰å°†ä»»ä½•å·ç æ’å…¥ CustomerID å­—æ®µã€‚ CustomerIDåˆ—æ˜¯ä¸€ä¸ªå­—æ®µï¼Œåœ¨å°†æ–°è®°å½•æ’å…¥åˆ°è¡¨ä¸­æ—¶è‡ªåŠ¨ç”Ÿæˆã€‚ ä»…åœ¨æŒ‡å®šçš„åˆ—ä¸­æ’å…¥æ•°æ® æˆ‘ä»¬è¿˜å¯ä»¥åªåœ¨æŒ‡å®šçš„åˆ—ä¸­æ’å…¥æ•°æ®ã€‚ ä»¥ä¸‹SQLè¯­å¥æ’å…¥ä¸€ä¸ªæ–°è¡Œï¼Œä½†åªåœ¨â€CustomerNameâ€ã€â€Cityâ€å’Œâ€Countryâ€åˆ—ä¸­æ’å…¥æ•°æ®ï¼ˆCustomerIDå­—æ®µå°†è‡ªåŠ¨æ›´æ–°ï¼‰ï¼š ç¤ºä¾‹ï¼š INSERT INTO Customers (CustomerName, City, Country)VALUES (Cardinal, Stavanger, Norway); ç°åœ¨ï¼Œé€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š CustomerID CustomerName ContactName Address City PostalCode Country 87 Wartian Herkku Pirkko Koskitalo Torikatu 38 Oulu 90110 Finland 88 Wellington Importadora Paula Parente Rua do Mercado, 12 Resende 08737-363 Brazil 89 White Clover Markets Karl Jablonski 305 - 14th Ave. S. Suite 3B Seattle 98128 USA 90 Wilman Kala Matti Karttunen Keskuskatu 45 Helsinki 21240 Finland 91 Wolski Zbyszek ul. Filtrowa 68 Walla 01-012 Poland 92 Cardinal null null Stavanger null Norway ä½¿ç”¨å¦ä¸€ä¸ªè¡¨å¡«å……ä¸€ä¸ªè¡¨ æ‚¨å¯ä»¥é€šè¿‡å¦ä¸€ä¸ªè¡¨ä¸Šçš„SELECTè¯­å¥æŸ¥è¯¢å‡ºæ¥çš„å­—æ®µå€¼ï¼Œç„¶åå°†æ•°æ®å¡«å……åˆ°æœ¬è¡¨ä¸­ï¼Œæ¡ä»¶æ˜¯å¦ä¸€ä¸ªè¡¨æ‰€æŸ¥è¯¢çš„å­—æ®µä¸æœ¬è¡¨è¦æ’å…¥æ•°æ®çš„å­—æ®µæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ INSERT INTO first_table_name [(column1, column2, ... columnN)] SELECT column1, column2, ...columnN FROM second_table_name[WHERE condition];"},{"title":"SQL INSECT INTO SELECTè¯­å¥","path":"/wiki/sql/sentence/instosel.html","content":"SQL INSERT INTO SELECT è¯­å¥ ä½¿ç”¨SQLï¼Œæ‚¨å¯ä»¥å°†ä¿¡æ¯ä»ä¸€ä¸ªè¡¨ä¸­å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¡¨ä¸­ã€‚ INSERT INTO SELECT è¯­å¥ä»è¡¨ä¸­å¤åˆ¶æ•°æ®ï¼Œå¹¶å°†æ•°æ®æ’å…¥ç°æœ‰çš„è¡¨ä¸­ã€‚ç›®æ ‡è¡¨ä¸­çš„ä»»ä½•ç°æœ‰è¡Œéƒ½ä¸ä¼šå—åˆ°å½±å“ã€‚ SQL INSERT INTO SELECT è¯­æ³•æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰åˆ—ä»ä¸€ä¸ªè¡¨ä¸­å¤åˆ¶åˆ°å¦ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è¡¨ä¸­ï¼š INSERT INTO table2 SELECT * FROM table1; æˆ–è€…æˆ‘ä»¬å¯ä»¥æŠŠæƒ³è¦çš„åˆ—å¤åˆ¶åˆ°å¦ä¸€ä¸ªç°æœ‰çš„è¡¨ä¸­ï¼š INSERT INTO table2 (column_name(s)) SELECT column_name(s) FROM table1; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico é€‰è‡ª â€œSuppliersâ€ è¡¨çš„æ•°æ®ï¼š SupplierID SupplierName ContactName Address City Postal Code Country Phone 1 Exotic Liquid Charlotte Cooper 49 Gilbert St. Londona EC1 4SD UK (171) 555-2222 2 New Orleans Cajun Delights Shelley Burke P.O. Box 78934 New Orleans 70117 USA (100) 555-4822 3 Grandma Kellyâ€™s Homestead Regina Murphy 707 Oxford Rd. Ann Arbor 48104 USA (313) 555-5735 SQL INSERT INTO SELECT å®ä¾‹ æŠŠ â€œSuppliersâ€ ä¸€æ å¤åˆ¶åˆ° â€œCustomersâ€ ä¸€æ ï¼š ç¤ºä¾‹ï¼š INSERT INTO Customers (CustomerName, Country)SELECT SupplierName, Country FROM Suppliers; åªå°†å¾·å›½ä¾›åº”å•†çš„å‰¯æœ¬æ’å…¥ â€œCustomersâ€ ï¼š ç¤ºä¾‹ï¼š INSERT INTO Customers (CustomerName, Country)SELECT SupplierName, Country FROM SuppliersWHERE Country=Germany;"},{"title":"SQL æ³¨å…¥","path":"/wiki/sql/sentence/input.html","content":"SQL æ³¨å…¥ å¦‚æœä½ ä»ç½‘é¡µä¸­è·å–ç”¨æˆ·è¾“å…¥ï¼Œå¹¶å°†å…¶æ’å…¥åˆ° SQL æ•°æ®åº“ä¸­çš„è¯ï¼Œé‚£ä¹ˆä½ å¾ˆå¯èƒ½å·²ç»æš´éœ²äºä¸€ç§è¢«ç§°ä½œ SQL æ³¨å…¥çš„å®‰å…¨é£é™©ä¹‹ä¸‹äº†ã€‚ æœ¬èŠ‚å°†ä¼šæ•™ä½ å¦‚ä½•é˜²æ­¢ SQL æ³¨å…¥ï¼Œä»¥åŠå¦‚ä½•ä¿æŠ¤ Perl è¿™æ ·çš„æœåŠ¡å™¨ç«¯è„šæœ¬ä¸­çš„ç¨‹åºå’Œ SQL è¯­å¥ã€‚ æ³¨å…¥é€šå¸¸å‘ç”Ÿåœ¨è·å–ç”¨æˆ·è¾“å…¥çš„æ—¶å€™ï¼Œä¾‹å¦‚é¢„æœŸå¾—åˆ°ç”¨æˆ·çš„åå­—ï¼Œä½†æ˜¯å¾—åˆ°çš„å´æ˜¯ä¸€æ®µå¾ˆå¯èƒ½ä¼šåœ¨ä½ ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¿è¡Œçš„ SQL è¯­å¥ã€‚ ç»å¯¹ä¸è¦ç›¸ä¿¡ç”¨æˆ·æä¾›çš„æ•°æ®ï¼Œå¤„ç†è¿™äº›æ•°æ®ä¹‹å‰å¿…é¡»è¿›è¡ŒéªŒè¯ï¼›é€šå¸¸ï¼ŒéªŒè¯å·¥ä½œç”±æ¨¡å¼åŒ¹é…æ¥å®Œæˆã€‚ ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œname ä»…é™ç”±å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ç»„æˆï¼Œå¹¶ä¸”é•¿åº¦åœ¨ 8 åˆ° 20 ä¹‹é—´ï¼ˆä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è¿™äº›è§„åˆ™ï¼‰ã€‚ if (preg_match(/^\\w8,20$/, $_GET[username], $matches)) $result = mysql_query(SELECT * FROM CUSTOMERS WHERE name=$matches[0]);else echo user name not accepted; ä¸ºäº†å±•ç¤ºé—®é¢˜æ‰€åœ¨ï¼Œè¯·è€ƒè™‘ä¸‹é¢è¿™æ®µä»£ç ï¼š // supposed input$name = Qadir; DELETE FROM CUSTOMERS;;mysql_query(SELECT * FROM CUSTOMSRS WHERE name=$name); ä¸‹é¢çš„å‡½æ•°è°ƒç”¨æœ¬æ¥æ˜¯è¦ä» CUSTOMERS è¡¨ä¸­å–å¾— name å­—æ®µä¸ç”¨æˆ·ç»™å®šçš„è¾“å…¥ç›¸åŒ¹é…çš„è®°å½•ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œ$name åªåŒ…å«å­—æ¯å’Œæ•°å­—ï¼Œæˆ–è®¸è¿˜æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚å­—ç¬¦ä¸² iliaã€‚ä½†æ˜¯ï¼Œè¿™é‡Œé€šè¿‡åœ¨ $name ä¸Šé™„åŠ ä¸€æ®µå…¨æ–°çš„æŸ¥è¯¢è¯­å¥ï¼Œå°†åŸæœ‰çš„å‡½æ•°è°ƒç”¨å˜ä¸ºäº†æ•°æ®åº“çš„ç¾éš¾ï¼šæ³¨å…¥çš„ DELETE è¯­å¥å°†ä¼šåˆ é™¤è¡¨ä¸­æ‰€æœ‰çš„è®°å½•ã€‚ å¹¸è¿çš„æ˜¯ï¼Œå¦‚æœä½ åœ¨ä½¿ç”¨ã€€MySQL çš„è¯ï¼Œmysql_query() å‡½æ•°ä¸å…è®¸æŸ¥è¯¢å †ç§¯ï¼ˆquery stackingï¼‰ï¼Œæˆ–è€…è¯´åœ¨ä¸€æ¬¡å‡½æ•°è°ƒç”¨ä¸­æ‰§è¡Œå¤šæ¬¡ SQL æŸ¥è¯¢ã€‚å¦‚æœä½ è¯•å›¾è¿›è¡Œå †ç§¯å¼æŸ¥è¯¢çš„è¯ï¼Œå‡½æ•°è°ƒç”¨å°†ä¼šå¤±è´¥ã€‚ ç„¶è€Œï¼Œå…¶ä»–çš„ PHP æ•°æ®åº“æ‰©å±•ï¼Œä¾‹å¦‚ SQLite å’Œ PostgreSQL ä¼šæ„‰å¿«åœ°æ¥å—å †ç§¯å¼æŸ¥è¯¢ï¼Œæ‰§è¡Œå­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„æŸ¥è¯¢ï¼Œå¹¶ç”±æ­¤äº§ç”Ÿä¸¥é‡çš„å®‰å…¨é—®é¢˜ã€‚ é˜»æ­¢ SQL æ³¨å…¥ ä½ å¯ä»¥åœ¨ Perl æˆ–è€… PHP ç­‰è„šæœ¬è¯­è¨€ä¸­å·§å¦™åœ°å¤„ç†æ‰€æœ‰çš„è½¬ä¹‰å­—ç¬¦ã€‚PHP çš„ MySQL æ‰©å±•æä¾›äº†ä¸€ä¸ª mysql_real_escape_string() å‡½æ•°ï¼Œæ¥è½¬ä¹‰é‚£äº›å¯¹ MySQL æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ã€‚ if (get_magic_quotes_gpc()) $name = stripslashes($name);$name = mysql_real_escape_string($name);mysql_query(SELECT * FROM CUSTOMERS WHERE name=$name); LIKE å›°å¢ƒ è¦ç ´è§£ LIKE å›°å¢ƒï¼Œå¿…é¡»æœ‰ä¸€ç§ä¸“é—¨çš„è½¬ä¹‰æœºåˆ¶ï¼Œå°†ç”¨æˆ·æä¾›çš„ â€˜%â€™ å’Œ â€˜_â€™ è½¬æ¢ä¸ºå­—é¢å€¼ã€‚ä¸ºæ­¤ä½ å¯ä»¥ä½¿ç”¨ addcslashes() å‡½æ•°ï¼Œè¯¥å‡½æ•°å…è®¸æŒ‡å®šè¦è¿›è¡Œè½¬ä¹‰çš„å­—ç¬¦çš„èŒƒå›´ã€‚ $sub = addcslashes(mysql_real_escape_string(%str), %_);// $sub == \\%str\\_mysql_query(SELECT * FROM messages WHERE subject LIKE $sub%);"},{"title":"SQL Joinè¿æ¥","path":"/wiki/sql/sentence/join.html","content":"SQL JOIN è¿æ¥ SQL join ç”¨äºæŠŠæ¥è‡ªä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨çš„è¡Œç»“åˆèµ·æ¥ã€‚ SQL JOIN SQL JOIN å­å¥ç”¨äºæŠŠæ¥è‡ªä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨çš„è¡Œç»“åˆèµ·æ¥ï¼ŒåŸºäºè¿™äº›è¡¨ä¹‹é—´çš„å…±åŒå­—æ®µã€‚ ç®€å•åœ°è¯´ï¼Œå°±æ˜¯å…ˆç¡®å®šä¸€ä¸ªä¸»è¡¨ä½œä¸ºç»“æœé›†ï¼Œç„¶åï¼ŒæŠŠå…¶ä»–è¡¨çš„è¡Œæœ‰é€‰æ‹©æ€§åœ°â€è¿æ¥â€åœ¨ä¸»è¡¨ç»“æœé›†ä¸Šã€‚ æœ€å¸¸è§çš„ JOIN ç±»å‹ï¼šSQL INNER JOINï¼ˆç®€å•çš„ JOINï¼‰ã€‚ SQL INNER JOIN ä»å¤šä¸ªè¡¨ä¸­è¿”å›æ»¡è¶³ JOIN æ¡ä»¶çš„æ‰€æœ‰è¡Œã€‚ è®©æˆ‘ä»¬çœ‹çœ‹é€‰è‡ª â€œOrdersâ€ è¡¨çš„æ•°æ®ï¼š OrderID CustomerID OrderDate 10308 2 1996-09-18 10309 37 1996-09-19 10310 77 1996-09-20 ç„¶åï¼Œçœ‹çœ‹é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Country 1 Alfreds Futterkiste Maria Anders Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mexico è¯·æ³¨æ„ï¼Œâ€Ordersâ€ è¡¨ä¸­çš„ â€œCustomerIDâ€ åˆ—æŒ‡å‘ â€œCustomersâ€ è¡¨ä¸­çš„å®¢æˆ·ã€‚ä¸Šé¢è¿™ä¸¤ä¸ªè¡¨æ˜¯é€šè¿‡ â€œCustomerIDâ€ åˆ—è”ç³»èµ·æ¥çš„ã€‚ ç„¶åï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œä¸‹é¢çš„ SQL è¯­å¥ï¼ˆåŒ…å« INNER JOINï¼‰ï¼š ç¤ºä¾‹ï¼š SELECT Orders.OrderID, Customers.CustomerName, Orders.OrderDateFROM OrdersINNER JOIN CustomersON Orders.CustomerID=Customers.CustomerID; è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š OrderID CustomerName OrderDate 10308 Ana Trujillo Emparedados y helados 1996-09-18 ä¸åŒçš„ SQL JOIN åœ¨æˆ‘ä»¬ç»§ç»­è®²è§£å®ä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåˆ—å‡ºæ‚¨å¯ä»¥ä½¿ç”¨çš„ä¸åŒçš„ SQL JOIN ç±»å‹ï¼š INNER JOINï¼šå¦‚æœè¡¨ä¸­æœ‰è‡³å°‘ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ LEFT JOINï¼šå³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å·¦è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ RIGHT JOINï¼šå³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œä¹Ÿä»å³è¡¨è¿”å›æ‰€æœ‰çš„è¡Œ FULL JOINï¼šåªè¦å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ SELF JOIN ï¼šç”¨äºå°†è¡¨è¿æ¥åˆ°è‡ªå·±ï¼Œå°±å¥½åƒè¯¥è¡¨æ˜¯ä¸¤ä¸ªè¡¨ä¸€æ ·ï¼Œä¸´æ—¶é‡å‘½åäº†SQLè¯­å¥ä¸­çš„è‡³å°‘ä¸€ä¸ªè¡¨ CARTESIAN JOINï¼šä»ä¸¤ä¸ªæˆ–å¤šä¸ªè¿æ¥è¡¨è¿”å›è®°å½•é›†çš„ç¬›å¡å„¿ç§¯ SQL JOIN è¿æ¥è¯¦ç»†ç”¨æ³• SQL è¿æ¥ï¼ˆJOINï¼‰ å­å¥ç”¨äºå°†æ•°æ®åº“ä¸­ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šè¡¨ä¸­çš„è®°å½•ç»„åˆèµ·æ¥ã€‚è¿æ¥é€šè¿‡å…±æœ‰å€¼å°†ä¸åŒè¡¨ä¸­çš„å­—æ®µç»„åˆåœ¨ä¸€èµ·ã€‚ æˆ‘ä»¬æ¥çœ‹çœ‹â€Ordersâ€è¡¨ä¸­çš„é€‰æ‹©ï¼š OrderID CustomerID OrderDate 10308 2 1996-09-18 10309 37 1996-09-19 10310 77 1996-09-20 ç„¶åï¼ŒæŸ¥çœ‹â€Customersâ€è¡¨ä¸­çš„é€‰æ‹©ï¼š CustomerID CustomerName ContactName Country 1 Alfreds Futterkiste Maria Anders Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mexico è¯·æ³¨æ„ï¼Œâ€Ordersâ€è¡¨ä¸­çš„â€å®¢æˆ·IDâ€åˆ—æ˜¯æŒ‡â€CustomerIDâ€è¡¨ä¸­çš„â€å®¢æˆ·IDâ€ã€‚ä¸Šé¢ä¸¤ä¸ªè¡¨æ ¼ä¹‹é—´çš„å…³ç³»æ˜¯â€CustomerIDâ€åˆ—ã€‚ ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸‹é¢çš„SQLè¯­å¥ï¼ˆåŒ…å«ä¸€ä¸ªINNER JOINï¼‰ï¼Œå®ƒé€‰æ‹©ä¸¤ä¸ªè¡¨ä¸­å…·æœ‰åŒ¹é…å€¼çš„è®°å½•ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT Orders.OrderID, Customers.CustomerName, Orders.OrderDateFROM OrdersINNER JOIN Customers ON Orders.CustomerID=Customers.CustomerID; å®ƒä¼šäº§ç”Ÿè¿™æ ·çš„ä¸œè¥¿ï¼š OrderID CustomerName OrderDate 10308 Ana Trujillo Emparedados y helados 9181996 10365 Antonio Moreno TaquerÃ­a 11271996 10383 Around the Horn 12161996 10355 Around the Horn 11151996 10278 Berglunds snabbkÃ¶p 8121996 è€ƒè™‘ä¸‹é¢ä¸¤ä¸ªè¡¨ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰å¦ä¸€ä¸ªè¡¨æ˜¯ ORDERS è¡¨ï¼š +-----+---------------------+-------------+--------+|OID | DATE | CUSTOMER_ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨ SELECT è¯­å¥å°†è¿™ä¸ªä¸¤å¼ è¡¨è¿æ¥ï¼ˆJOINï¼‰åœ¨ä¸€èµ·ï¼š SQL SELECT ID, NAME, AGE, AMOUNT FROM CUSTOMERS, ORDERS WHERE CUSTOMERS.ID = ORDERS.CUSTOMER_ID; ä¸Šè¿°è¯­å¥çš„è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+--------+| ID | NAME | AGE | AMOUNT | +----+----------+-----+--------+ | 3 | kaushik | 23 | 3000 || 3 | kaushik | 23 | 1500 | | 2 | Khilan | 25 | 1560 || 4 | Chaitali | 25 | 2060 | +----+----------+-----+--------+ ä¸åŒç±»å‹çš„SQLè”æ¥ SQL ä¸­æœ‰å¤šç§ä¸åŒçš„è¿æ¥ï¼š å†…è¿æ¥ï¼ˆINNER JOINï¼‰ï¼šå½“ä¸¤ä¸ªè¡¨ä¸­éƒ½å­˜åœ¨åŒ¹é…æ—¶ï¼Œæ‰è¿”å›è¡Œã€‚ å·¦è¿æ¥ï¼ˆLEFT JOINï¼‰ï¼šè¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œã€‚ å³è¿æ¥ï¼ˆRIGHT JOINï¼‰ï¼šè¿”å›å³è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è¡Œã€‚ å…¨è¿æ¥ï¼ˆFULL JOINï¼‰ï¼šåªè¦æŸä¸€ä¸ªè¡¨å­˜åœ¨åŒ¹é…ï¼Œå°±è¿”å›è¡Œã€‚ ç¬›å¡å°”è¿æ¥ï¼ˆCARTESIAN JOINï¼‰ï¼šè¿”å›ä¸¤ä¸ªæˆ–è€…æ›´å¤šçš„è¡¨ä¸­è®°å½•é›†çš„ç¬›å¡å°”ç§¯ã€‚ å†…è¿æ¥æœ€å¸¸ç”¨ä¹Ÿæœ€é‡è¦çš„è¿æ¥å½¢å¼æ˜¯å†…è¿æ¥ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä½œâ€EQUIJOINâ€ï¼ˆç­‰å€¼è¿æ¥ï¼‰ã€‚ å†…è¿æ¥æ ¹æ®è¿æ¥è°“è¯æ¥ç»„åˆä¸¤ä¸ªè¡¨ä¸­çš„å­—æ®µï¼Œä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç»“æœè¡¨ã€‚SQL æŸ¥è¯¢ä¼šæ¯”è¾ƒé€ä¸ªæ¯”è¾ƒè¡¨ 1 å’Œè¡¨ 2 ä¸­çš„æ¯ä¸€æ¡è®°å½•ï¼Œæ¥å¯»æ‰¾æ»¡è¶³è¿æ¥è°“è¯çš„æ‰€æœ‰è®°å½•å¯¹ã€‚å½“è¿æ¥è°“è¯å¾—ä»¥æ»¡è¶³æ—¶ï¼Œæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è®°å½•å¯¹çš„å­—æ®µå°†ä¼šç»“åˆåœ¨ä¸€èµ·æ„æˆç»“æœè¡¨ã€‚ è¯­æ³•ï¼š**ã€€å†…è¿æ¥**çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š sql SELECT table1.column1, table2.column2...FROM table1INNER JOIN table2ON table1.common_field = table2.common_field; ç¤ºä¾‹ï¼šè€ƒè™‘å¦‚ä¸‹ä¸¤ä¸ªè¡¨æ ¼ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰ORDERS è¡¨ï¼š +-----+---------------------+-------------+--------+| OID | DATE | ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨å†…è¿æ¥å°†è¿™ä¸¤ä¸ªè¡¨è¿æ¥åœ¨ä¸€èµ·ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS INNER JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID; ä¸Šè¿°è¯­å¥å°†ä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š +----+----------+--------+---------------------+| ID | NAME | AMOUNT | DATE | +----+----------+--------+---------------------+ | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 2 | Khilan | 1560 | 2009-11-20 00:00:00 || 4 | Chaitali | 2060 | 2008-05-20 00:00:00 | +----+----------+--------+---------------------+ å·¦è¿æ¥**ã€€å·¦é“¾æ¥**è¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œå³ä½¿å³è¡¨ä¸­æ²¡æœ‰ä»»ä½•æ»¡è¶³åŒ¹é…æ¡ä»¶çš„è®°å½•ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœ ON å­å¥åœ¨å³è¡¨ä¸­åŒ¹é…åˆ°äº† 0 æ¡è®°å½•ï¼Œè¯¥è¿æ¥ä»ç„¶ä¼šè¿”å›è‡³å°‘ä¸€æ¡è®°å½•ï¼Œä¸è¿‡è¿”å›çš„è®°å½•ä¸­æ‰€æœ‰æ¥è‡ªå³è¡¨çš„å­—æ®µéƒ½ä¸º NULLã€‚ è¿™å°±æ„å‘³ç€ï¼Œå·¦è¿æ¥ä¼šè¿”å›å·¦è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼ŒåŠ ä¸Šå³è¡¨ä¸­åŒ¹é…åˆ°çš„è®°å½•ï¼Œæˆ–è€…æ˜¯ NULL ï¼ˆå¦‚æœè¿æ¥è°“è¯æ— æ³•åŒ¹é…åˆ°ä»»ä½•è®°å½•çš„è¯ï¼‰ã€‚ è¯­æ³•ï¼š**ã€€å·¦è¿æ¥**çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT table1.column1, table2.column2...FROM table1LEFT JOIN table2ON table1.common_field = table2.common_field; è¿™é‡Œï¼Œç»™å‡ºçš„æ¡ä»¶å¯ä»¥æ˜¯ä»»ä½•æ ¹æ®ä½ çš„éœ€è¦å†™å‡ºçš„æ¡ä»¶ã€‚ ç¤ºä¾‹ï¼šè€ƒè™‘å¦‚ä¸‹ä¸¤ä¸ªè¡¨æ ¼ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰ORDERS è¡¨ï¼š +-----+---------------------+-------------+--------+| OID | DATE | ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨å·¦è¿æ¥å°†è¿™ä¸¤ä¸ªè¡¨è¿æ¥åœ¨ä¸€èµ·ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS LEFT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID; ä¸Šè¿°è¯­å¥å°†ä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š +----+----------+--------+---------------------+| ID | NAME | AMOUNT | DATE | +----+----------+--------+---------------------+ | 1 | Ramesh | NULL | NULL || 2 | Khilan | 1560 | 2009-11-20 00:00:00 | | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 4 | Chaitali | 2060 | 2008-05-20 00:00:00 || 5 | Hardik | NULL | NULL | | 6 | Komal | NULL | NULL || 7 | Muffy | NULL | NULL | +----+----------+--------+---------------------+ å³è¿æ¥**ã€€å³é“¾æ¥**è¿”å›å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œå³æ˜¯å·¦è¡¨ä¸­æ²¡æœ‰ä»»ä½•æ»¡è¶³åŒ¹é…æ¡ä»¶çš„è®°å½•ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœ ON å­å¥åœ¨å·¦è¡¨ä¸­åŒ¹é…åˆ°äº† 0 æ¡è®°å½•ï¼Œè¯¥è¿æ¥ä»ç„¶ä¼šè¿”å›è‡³å°‘ä¸€æ¡è®°å½•ï¼Œä¸è¿‡è¿”å›çš„è®°å½•ä¸­æ‰€æœ‰æ¥è‡ªå·¦è¡¨çš„å­—æ®µéƒ½ä¸º NULLã€‚ è¿™å°±æ„å‘³ç€ï¼Œå³è¿æ¥ä¼šè¿”å›å³è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼ŒåŠ ä¸Šå·¦è¡¨ä¸­åŒ¹é…åˆ°çš„è®°å½•ï¼Œæˆ–è€…æ˜¯ NULL ï¼ˆå¦‚æœè¿æ¥è°“è¯æ— æ³•åŒ¹é…åˆ°ä»»ä½•è®°å½•çš„è¯ï¼‰ã€‚ è¯­æ³•ï¼š**ã€€å³è¿æ¥**çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT table1.column1, table2.column2...FROM table1RIGHT JOIN table2ON table1.common_field = table2.common_field; è¿™é‡Œï¼Œç»™å‡ºçš„æ¡ä»¶å¯ä»¥æ˜¯ä»»ä½•æ ¹æ®ä½ çš„éœ€è¦å†™å‡ºçš„æ¡ä»¶ã€‚ ç¤ºä¾‹ï¼šè€ƒè™‘å¦‚ä¸‹ä¸¤ä¸ªè¡¨æ ¼ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰ORDERS è¡¨ï¼š +-----+---------------------+-------------+--------+| OID | DATE | ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨å³è¿æ¥å°†è¿™ä¸¤ä¸ªè¡¨è¿æ¥åœ¨ä¸€èµ·ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS RIGHT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID; ä¸Šè¿°è¯­å¥å°†ä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š +------+----------+--------+---------------------+| ID | NAME | AMOUNT | DATE | +------+----------+--------+---------------------+ | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 2 | Khilan | 1560 | 2009-11-20 00:00:00 || 4 | Chaitali | 2060 | 2008-05-20 00:00:00 | +------+----------+--------+---------------------+ å…¨è¿æ¥**ã€€å…¨è¿æ¥**å°†å·¦è¿æ¥å’Œå³è¿æ¥çš„ç»“æœç»„åˆåœ¨ä¸€èµ·ã€‚ è¯­æ³•ï¼šSELECT table1.column1, table2.column2...FROM table1FULL JOIN table2ON table1.common_field = table2.common_field; è¿™é‡Œï¼Œç»™å‡ºçš„æ¡ä»¶å¯ä»¥æ˜¯ä»»ä½•æ ¹æ®ä½ çš„éœ€è¦å†™å‡ºçš„æ¡ä»¶ã€‚ ç¤ºä¾‹ï¼šè€ƒè™‘å¦‚ä¸‹ä¸¤ä¸ªè¡¨æ ¼ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰ORDERS è¡¨ï¼š +-----+---------------------+-------------+--------+| OID | DATE | ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨è®©æˆ‘ä»¬ç”¨å…¨è¿æ¥å°†ä¸¤ä¸ªè¡¨è¿æ¥åœ¨ä¸€èµ·ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS FULL JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID; ä¸Šè¿°è¯­å¥å°†ä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š +------+----------+--------+---------------------+| ID | NAME | AMOUNT | DATE | +------+----------+--------+---------------------+ | 1 | Ramesh | NULL | NULL || 2 | Khilan | 1560 | 2009-11-20 00:00:00 | | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 4 | Chaitali | 2060 | 2008-05-20 00:00:00 || 5 | Hardik | NULL | NULL | | 6 | Komal | NULL | NULL || 7 | Muffy | NULL | NULL | | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 2 | Khilan | 1560 | 2009-11-20 00:00:00 || 4 | Chaitali | 2060 | 2008-05-20 00:00:00 | +------+----------+--------+---------------------+ å¦‚æœä½ æ‰€ç”¨çš„æ•°æ®åº“ä¸æ”¯æŒå…¨è¿æ¥ï¼Œæ¯”å¦‚ MySQLï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ UNION ALLå­å¥æ¥å°†å·¦è¿æ¥å’Œå³è¿æ¥ç»“æœç»„åˆåœ¨ä¸€èµ·ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS LEFT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_IDUNION ALL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS RIGHT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID ç¬›å¡å°”è¿æ¥ï¼ˆäº¤å‰è¿æ¥ï¼‰**ã€€ç¬›å¡å°”è¿æ¥** æˆ–è€…äº¤å‰è¿æ¥è¿”å›ä¸¤ä¸ªæˆ–è€…æ›´å¤šçš„è¿æ¥è¡¨ä¸­è®°å½•çš„ç¬›å¡å°”ä¹˜ç§¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒç›¸å½“äºè¿æ¥è°“è¯æ€»æ˜¯ä¸ºçœŸæˆ–è€…ç¼ºå°‘è¿æ¥è°“è¯çš„å†…è¿æ¥ã€‚ è¯­æ³•ï¼š**ã€€ç¬›å¡å°”è¿æ¥** æˆ–è€…è¯´äº¤å‰è¿æ¥çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT table1.column1, table2.column2...FROM table1, table2 [, table3 ] ç¤ºä¾‹ï¼šè€ƒè™‘å¦‚ä¸‹ä¸¤ä¸ªè¡¨æ ¼ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+ | ID | NAME | AGE | ADDRESS | SALARY | +----+----------+-----+-----------+----------+ | 1 | Ramesh | 32 | Ahmedabad | 2000.00 | | 2 | Khilan | 25 | Delhi | 1500.00 | | 3 | kaushik | 23 | Kota | 2000.00 | | 4 | Chaitali | 25 | Mumbai | 6500.00 | | 5 | Hardik | 27 | Bhopal | 8500.00 | | 6 | Komal | 22 | MP | 4500.00 | | 7 | Muffy | 24 | Indore | 10000.00 | +----+----------+-----+-----------+----------+ï¼ˆbï¼‰ORDERS è¡¨ï¼š +-----+---------------------+-------------+--------+ | OID | DATE | ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 | | 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 | | 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨ï¼Œè®©æˆ‘ç”¨å†…è¿æ¥å°†è¿™ä¸¤ä¸ªè¡¨è¿æ¥åœ¨ä¸€èµ·ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS, ORDERS; ä¸Šè¿°è¯­å¥å°†ä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š +----+----------+--------+---------------------+| ID | NAME | AMOUNT | DATE | +----+----------+--------+---------------------+ | 1 | Ramesh | 3000 | 2009-10-08 00:00:00 || 1 | Ramesh | 1500 | 2009-10-08 00:00:00 | | 1 | Ramesh | 1560 | 2009-11-20 00:00:00 || 1 | Ramesh | 2060 | 2008-05-20 00:00:00 | | 2 | Khilan | 3000 | 2009-10-08 00:00:00 || 2 | Khilan | 1500 | 2009-10-08 00:00:00 | | 2 | Khilan | 1560 | 2009-11-20 00:00:00 || 2 | Khilan | 2060 | 2008-05-20 00:00:00 | | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 3 | kaushik | 1560 | 2009-11-20 00:00:00 || 3 | kaushik | 2060 | 2008-05-20 00:00:00 | | 4 | Chaitali | 3000 | 2009-10-08 00:00:00 || 4 | Chaitali | 1500 | 2009-10-08 00:00:00 | | 4 | Chaitali | 1560 | 2009-11-20 00:00:00 || 4 | Chaitali | 2060 | 2008-05-20 00:00:00 | | 5 | Hardik | 3000 | 2009-10-08 00:00:00 || 5 | Hardik | 1500 | 2009-10-08 00:00:00 | | 5 | Hardik | 1560 | 2009-11-20 00:00:00 || 5 | Hardik | 2060 | 2008-05-20 00:00:00 | | 6 | Komal | 3000 | 2009-10-08 00:00:00 || 6 | Komal | 1500 | 2009-10-08 00:00:00 | | 6 | Komal | 1560 | 2009-11-20 00:00:00 || 6 | Komal | 2060 | 2008-05-20 00:00:00 | | 7 | Muffy | 3000 | 2009-10-08 00:00:00 || 7 | Muffy | 1500 | 2009-10-08 00:00:00 | | 7 | Muffy | 1560 | 2009-11-20 00:00:00 || 7 | Muffy | 2060 | 2008-05-20 00:00:00 | +----+----------+--------+---------------------+"},{"title":"SQL å·¦è¿æ¥","path":"/wiki/sql/sentence/left.html","content":"SQL å·¦è¿æ¥ LEFT JOIN å…³é”®å­— SQLå·¦é“¾æ¥LEFT JOINå…³é”®å­—è¿”å›å·¦è¡¨ï¼ˆè¡¨1ï¼‰ä¸­çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿åœ¨å³è¡¨ï¼ˆè¡¨2ï¼‰ä¸­æ²¡æœ‰åŒ¹é…ã€‚å¦‚æœåœ¨æ­£ç¡®çš„è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œç»“æœæ˜¯NULLã€‚ SQL LEFT JOIN è¯­æ³•SELECT column_name(s) FROM table1 LEFT JOIN table2 ON table1.column_name=table2.column_name; æˆ–ï¼š SELECT column_name(s) FROM table1 LEFT OUTER JOIN table2 ON table1.column_name=table2.column_name; **æ³¨é‡Šï¼š**åœ¨ä¸€äº›æ•°æ®åº“ä¸­ï¼ŒLEFT JOINç§°ä¸ºLEFT OUT ER JOINã€‚ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯ â€œCustomersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico é€‰è‡ª â€œOrdersâ€ è¡¨çš„æ•°æ®ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10308 2 7 1996-09-18 3 10309 37 3 1996-09-19 1 10310 77 8 1996-09-20 2 SQL LEFT JOIN å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥å°†é€‰æ‹©æ‰€æœ‰å®¢æˆ·ä»¥åŠä»–ä»¬å¯èƒ½æ‹¥æœ‰çš„ä»»ä½•è®¢å•ï¼š ç¤ºä¾‹ï¼š SELECT Customers.CustomerName, Orders.OrderIDFROM CustomersLEFT JOIN Orders ON Customers.CustomerID = Orders.CustomerIDORDER BY Customers.CustomerName; **æ³¨é‡Šï¼š**LEFT JOIN å…³é”®å­—è¿”å›å·¦è¡¨ï¼ˆCustomersï¼‰ä¸­çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿åœ¨å³è¾¹è¡¨ï¼ˆOrdersï¼‰ä¸­æ²¡æœ‰åŒ¹é…ã€‚"},{"title":"SQL LIKEè¿ç®—ç¬¦","path":"/wiki/sql/sentence/like.html","content":"SQL LIKE è¿ç®—ç¬¦ åœ¨WHEREå­å¥ä¸­ä½¿ç”¨LIKEè¿ç®—ç¬¦æ¥æœç´¢åˆ—ä¸­çš„æŒ‡å®šæ¨¡å¼ã€‚ æœ‰ä¸¤ä¸ªé€šé…ç¬¦ä¸LIKEè¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ï¼š ï¼… - ç™¾åˆ†å·è¡¨ç¤ºé›¶ä¸ªï¼Œä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ _ - ä¸‹åˆ’çº¿è¡¨ç¤ºå•ä¸ªå­—ç¬¦ **ã€€æ³¨æ„ï¼š** MS Accessä½¿ç”¨é—®å·ï¼ˆ?ï¼‰è€Œä¸æ˜¯ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚ ç™¾åˆ†å·å’Œä¸‹åˆ’çº¿ä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ï¼ SQL LIKE è¯­æ³•SELECT column1, column2, ...FROM table_nameWHERE columnN LIKE pattern; **ã€€æç¤º** ï¼šæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ANDæˆ–ORè¿ç®—ç¬¦ç»„åˆä»»æ„æ•°é‡çš„æ¡ä»¶ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨â€™ï¼…â€™å’Œâ€™_â€™é€šé…ç¬¦æ˜¾ç¤ºä¸åŒLIKEè¿ç®—ç¬¦çš„ä¾‹å­ï¼š LIKE è¿ç®—ç¬¦ æè¿° WHERE CustomerName LIKE â€˜a%â€™ æŸ¥æ‰¾ä»¥â€aâ€å¼€å¤´çš„ä»»ä½•å€¼ WHERE CustomerName LIKE â€˜%aâ€™ æŸ¥æ‰¾ä»¥â€aâ€ç»“å°¾çš„ä»»ä½•å€¼ WHERE CustomerName LIKE â€˜%or%â€™ åœ¨ä»»ä½•ä½ç½®æŸ¥æ‰¾ä»»ä½•å…·æœ‰â€orâ€çš„å€¼ WHERE CustomerName LIKE â€˜_r%â€™ åœ¨ç¬¬äºŒä¸ªä½ç½®æŸ¥æ‰¾ä»»ä½•å…·æœ‰â€râ€çš„å€¼ WHERE CustomerName LIKE â€˜a_%_%â€™ æŸ¥æ‰¾ä»¥â€aâ€å¼€å¤´ä¸”é•¿åº¦è‡³å°‘ä¸º3ä¸ªå­—ç¬¦çš„å€¼ WHERE ContactName LIKE â€˜a%oâ€™ æ‰¾åˆ°ä»¥â€aâ€å¼€å¤´ï¼Œä»¥â€oâ€ç»“å°¾çš„å€¼ æ¼”ç¤ºæ•°æ®åº“åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL LIKE è¿ç®—ç¬¦å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©ä»¥â€aâ€å¼€å¤´çš„CustomerNameçš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE CustomerName LIKE a%; ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å®¢æˆ·åç§°ä»¥â€aâ€ç»“å°¾çš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE CustomerName LIKE %a; ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å®¢æˆ·åç§°åœ¨ä»»ä½•ä½ç½®éƒ½å…·æœ‰â€orâ€çš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE CustomerName LIKE %or%; ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å®¢æˆ·åç§°åœ¨ç¬¬äºŒä½å…·æœ‰â€râ€çš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE CustomerName LIKE _r%; ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å®¢æˆ·åç§°ä»¥â€aâ€å¼€å¤´ä¸”é•¿åº¦è‡³å°‘ä¸º3ä¸ªå­—ç¬¦çš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE CustomerName LIKE a_%_%; ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©è”ç³»äººåç§°ä»¥â€aâ€å¼€å¤´å¹¶ä»¥â€oâ€ç»“å°¾çš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE ContactName LIKE a%o; ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å®¢æˆ·åç§°ä¸ä»¥â€aâ€å¼€å¤´çš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE CustomerName NOT LIKE a%; ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©å®¢æˆ·åç§°ä»¥â€aâ€å¼€å¤´ï¼Œä»¥â€sâ€ç»“å°¾çš„5ä½å­—ç¬¦çš„æ‰€æœ‰å®¢æˆ·ï¼š **ã€€ä»£ç ç¤ºä¾‹ï¼š** SELECT * FROM CustomersWHERE CustomerName LIKE a___s;"},{"title":"SQL TOP/LIMITè¯­å¥","path":"/wiki/sql/sentence/limit.html","content":"SQL SELECT TOP å­å¥ SELECT TOP å­å¥ç”¨äºæŒ‡å®šè¦è¿”å›çš„è®°å½•æ•°é‡ã€‚ SELECT TOPå­å¥åœ¨åŒ…å«æ•°åƒæ¡è®°å½•çš„å¤§å‹è¡¨ä¸Šå¾ˆæœ‰ç”¨ã€‚è¿”å›å¤§é‡è®°å½•ä¼šå½±å“æ€§èƒ½ã€‚ **æ³¨ï¼š**å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ•°æ®åº“ç³»ç»Ÿéƒ½æ”¯æŒSELECT TOPå­å¥ã€‚MySQLæ”¯æŒLIMITå­å¥æ¥é€‰æ‹©æœ‰é™æ•°é‡çš„è®°å½•ï¼Œè€ŒOracleä½¿ç”¨ROWNUMã€‚ SQL Server MS Access è¯­æ³•SELECT TOP number|percent column_name(s)FROM table_nameWHERE condition; MySQL å’Œ Oracle ä¸­çš„ SQL SELECT TOP æ˜¯ç­‰ä»·çš„ MySQLè¯­æ³•ï¼šSELECT column_name(s)FROM table_nameWHERE conditionLIMIT number; å®ä¾‹SELECT *FROM PersonsLIMIT 5; Oracle è¯­æ³•SELECT column_name(s)FROM table_nameWHERE ROWNUM = number; ç¤ºä¾‹ï¼š SELECT *FROM PersonsWHERE ROWNUM =5; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL SELECT TOP å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä»â€Customersâ€ è¡¨ä¸­é€‰æ‹©å‰ä¸¤æ¡è®°å½•ï¼š ç¤ºä¾‹ï¼š SELECT TOP 2 * FROM Customers; SQL SELECT TOP PERCENT å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰æ‹©å‰50%çš„è®°å½•ï¼š ç¤ºä¾‹ï¼š SELECT TOP 50 PERCENT * FROM Customers; SQL TOPï¼ŒLIMITå’ŒROWNUMç¤ºä¾‹ä»¥ä¸‹SQLè¯­å¥ä»â€Customersâ€è¡¨ä¸­é€‰æ‹©å‰ä¸‰ä¸ªè®°å½•ï¼š SELECT TOP 3 * FROM Customers; ä»¥ä¸‹SQLè¯­å¥æ˜¾ç¤ºäº†ä½¿ç”¨LIMITå­å¥çš„ç­‰æ•ˆç¤ºä¾‹ï¼š SELECT * FROM CustomersLIMIT 3; ä»¥ä¸‹SQLè¯­å¥æ˜¾ç¤ºäº†ä½¿ç”¨ROWNUMçš„ç­‰æ•ˆç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE ROWNUM = 3; SQL TOP PERCENTç¤ºä¾‹ä»¥ä¸‹SQLè¯­å¥ä»â€Customersâ€è¡¨ä¸­é€‰æ‹©è®°å½•çš„å‰50ï¼…ï¼šSELECT TOP 50 PERCENT * FROM Customers; æ·»åŠ ä¸€ä¸ªæ¡ä»¶ ä»¥ä¸‹SQLè¯­å¥ä»â€Customersâ€è¡¨ä¸­é€‰æ‹©å›½å®¶ä¸ºâ€Germanyâ€çš„å‰ä¸‰æ¡è®°å½•ï¼š SELECT TOP 3 * FROM CustomersWHERE Country=Germany; ä»¥ä¸‹SQLè¯­å¥æ˜¾ç¤ºäº†ä½¿ç”¨LIMITå­å¥çš„ç­‰æ•ˆç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE Country=GermanyLIMIT 3; ä»¥ä¸‹SQLè¯­å¥æ˜¾ç¤ºäº†ä½¿ç”¨ROWNUMçš„ç­‰æ•ˆç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE Country=Germany AND ROWNUM = 3; ä¸ºä»€ä¹ˆè¦LIMITä½ çš„æŸ¥è¯¢ç»“æœ LIMITä½œä¸ºä¸€ç§ç®€å•çš„åˆ†é¡µæ–¹æ³•ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡å°‘æ•°æ®è¿”å›çš„æ—¶é—´ï¼Œå¦‚æœæ‚¨æŸ¥è¯¢ä¸€ä¸ªéå¸¸å¤§çš„è¡¨(ä¾‹å¦‚ä¸€ä¸ªæœ‰æ•°åä¸‡æˆ–æ•°ç™¾ä¸‡è¡Œçš„è¡¨)è€Œä¸ä½¿ç”¨é™åˆ¶ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½ä¼šç­‰å¾…å¾ˆé•¿æ—¶é—´æ‰èƒ½æ˜¾ç¤ºæ‰€æœ‰çš„ç»“æœï¼Œæ‰€ä»¥ä½¿ç”¨LIMITå¯ä»¥å‡å°‘æŸ¥è¯¢æ•°æ®è¿”å›çš„æ—¶é—´ï¼Œæé«˜æ•ˆç‡ã€‚"},{"title":"SQL æŒ‰å…³é”®å­—æ’åº","path":"/wiki/sql/sentence/order.html","content":"SQL ORDER BY å…³é”®å­— ORDER BY å…³é”®å­—ç”¨äºæŒ‰å‡åºæˆ–é™åºå¯¹ç»“æœé›†è¿›è¡Œæ’åºã€‚ ORDER BY å…³é”®å­—é»˜è®¤æƒ…å†µä¸‹æŒ‰å‡åºæ’åºè®°å½•ã€‚ å¦‚æœéœ€è¦æŒ‰é™åºå¯¹è®°å½•è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨DESCå…³é”®å­—ã€‚ SQL ORDER BY è¯­æ³•SELECT column1, column2, ...FROM table_nameORDER BY column1, column2, ... ASC|DESC; æ‚¨å¯ä»¥åœ¨ORDER BYå­å¥ä¸­ä½¿ç”¨å¤šä¸ªåˆ—ï¼Œä½†è¦ç¡®ä¿ç”¨äºå¯¹è¯¥åˆ—è¿›è¡Œæ’åºçš„åˆ—åº”è¯¥åœ¨åˆ—è¡¨ä¸­ã€‚ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯ â€œCustomersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden ORDER BY å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å–æ‰€æœ‰å®¢æˆ·ï¼Œå¹¶æŒ‰ç…§ â€œCountryâ€ åˆ—æ’åºï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersORDER BY Country; ORDER BY DESC å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å–æ‰€æœ‰å®¢æˆ·ï¼Œå¹¶æŒ‰ç…§ â€œCountryâ€ åˆ—é™åºæ’åºï¼š å®ä¾‹SELECT * FROM CustomersORDER BY Country DESC; ORDER BY å¤šåˆ— å®ä¾‹1 ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å–æ‰€æœ‰å®¢æˆ·ï¼Œå¹¶æŒ‰ç…§ â€œCountryâ€ å’Œ â€œCustomerNameâ€ åˆ—æ’åºï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersORDER BY Country, CustomerName; ORDER BY å¤šåˆ— å®ä¾‹2 ä»¥ä¸‹SQLè¯­å¥ä»â€Customersâ€ è¡¨ä¸­é€‰æ‹©æ‰€æœ‰å®¢æˆ·ï¼ŒæŒ‰ â€œCountryâ€ å‡åºæ’åˆ—ï¼Œå¹¶æŒ‰ â€œCustomerNameâ€ åˆ—é™åºæ’åˆ—ï¼š SELECT * FROM CustomersORDER BY Country ASC, CustomerName DESC;"},{"title":"SQL RBDMSæ¦‚å¿µ","path":"/wiki/sql/sentence/rdbms.html","content":"SQL RDBMS æ¦‚å¿µ RDBMSæ˜¯å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(Relational Database Management System)çš„ç¼©å†™ã€‚ RDBMSæ˜¯SQLçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯æ‰€æœ‰ç°ä»£æ•°æ®åº“ç³»ç»Ÿ(å¦‚MS SQL Serverã€IBMDB2ã€Oracleã€MySQLå’ŒMicrosoftAccess)çš„åŸºç¡€ã€‚ å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(Relational Database Management Systemï¼ŒRDBMS)æ˜¯ä¸€ç§åŸºäºE.F.Coddæå‡ºçš„å…³ç³»æ¨¡å‹çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚ ä»€ä¹ˆæ˜¯è¡¨ï¼Ÿ RDBMSä¸­çš„æ•°æ®å­˜å‚¨åœ¨ç§°ä¸ºè¡¨çš„æ•°æ®åº“å¯¹è±¡ä¸­ã€‚è¿™ä¸ªè¡¨åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªç›¸å…³æ•°æ®æ¡ç›®çš„é›†åˆï¼Œå®ƒç”±è®¸å¤šåˆ—å’Œè¡Œç»„æˆã€‚è¯·è®°ä½ï¼Œè¡¨æ˜¯å…³ç³»æ•°æ®åº“ä¸­æœ€å¸¸è§å’Œæœ€ç®€å•çš„æ•°æ®å­˜å‚¨å½¢å¼ã€‚ ä¸‹é¢çš„ç¨‹åºæ˜¯Customersè¡¨çš„ä¸€ä¸ªç¤ºä¾‹ +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä»€ä¹ˆæ˜¯å­—æ®µï¼Ÿ æ¯ä¸ªè¡¨éƒ½è¢«åˆ†è§£æˆæ›´å°çš„å®ä½“ï¼Œç§°ä¸ºå­—æ®µã€‚Customersè¡¨ä¸­çš„å­—æ®µç”±IDã€å§“åã€å¹´é¾„ã€åœ°å€å’Œè–ªèµ„ç»„æˆã€‚ å­—æ®µæ˜¯è¡¨ä¸­çš„åˆ—ï¼Œç”¨äºç»´æŠ¤æœ‰å…³è¡¨ä¸­æ¯æ¡è®°å½•çš„ç‰¹å®šä¿¡æ¯ã€‚ ä»€ä¹ˆæ˜¯è®°å½•æˆ–è€…è¡Œæ•°æ®ï¼Ÿ è®°å½•ä¹Ÿç§°ä¸ºæ•°æ®è¡Œï¼Œå³è¡¨ä¸­å­˜åœ¨çš„æ¯ä¸ªå•ç‹¬çš„æ¡ç›®ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„Customersè¡¨ä¸­æœ‰7æ¡è®°å½•ã€‚ä¸‹é¢æ˜¯Customersè¡¨ä¸­çš„å•è¡Œæ•°æ®æˆ–è®°å½•ã€‚ +----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 |+----+----------+-----+-----------+----------+ è®°å½•æ˜¯è¡¨ä¸­çš„æ°´å¹³å®ä½“ã€‚ ä»€ä¹ˆæ˜¯åˆ—ï¼Ÿ åˆ—æ˜¯è¡¨ä¸­çš„å‚ç›´å®ä½“ï¼Œå…¶ä¸­åŒ…å«ä¸è¡¨ä¸­ç‰¹å®šå­—æ®µå…³è”çš„æ‰€æœ‰ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼ŒCustomersè¡¨ä¸­çš„ä¸€åˆ—æ˜¯Addressï¼Œå®ƒè¡¨ç¤ºä½ç½®æè¿°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š +-----------+| ADDRESS |+-----------+| Ahmedabad || Delhi || Kota || Mumbai || Bhopal || MP || Indore |+----+------+ ä»€ä¹ˆæ˜¯ç©ºå€¼ï¼Ÿ è¡¨ä¸­çš„ç©ºå€¼æ˜¯æ˜¾ç¤ºä¸ºç©ºçš„å­—æ®µä¸­çš„å€¼ï¼Œè¿™æ„å‘³ç€å…·æœ‰ç©ºå€¼çš„å­—æ®µæ˜¯æ²¡æœ‰å€¼çš„å­—æ®µã€‚ éå¸¸é‡è¦çš„ä¸€ç‚¹æ˜¯ç©ºå€¼ä¸åŒäºé›¶å€¼æˆ–åŒ…å«ç©ºæ ¼çš„å­—æ®µã€‚å…·æœ‰ç©ºå€¼çš„å­—æ®µæ˜¯åœ¨åˆ›å»ºè®°å½•æ—¶ç•™ç©ºçš„å­—æ®µã€‚ SQLçº¦æŸ çº¦æŸæ˜¯åœ¨è¡¨ä¸Šçš„æ•°æ®åˆ—ä¸Šå¼ºåˆ¶æ‰§è¡Œçš„è§„åˆ™ã€‚å®ƒä»¬ç”¨äºé™åˆ¶å¯ä»¥è¿›å…¥è¡¨ä¸­çš„æ•°æ®ç±»å‹ã€‚ è¿™ç¡®ä¿äº†æ•°æ®åº“ä¸­æ•°æ®çš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚ çº¦æŸå¯ä»¥æ˜¯åˆ—çº§åˆ«ï¼Œä¹Ÿå¯ä»¥æ˜¯è¡¨çº§åˆ«ã€‚åˆ—çº§çº¦æŸä»…åº”ç”¨äºä¸€åˆ—ï¼Œè€Œè¡¨çº§çº¦æŸåˆ™åº”ç”¨äºæ•´ä¸ªè¡¨ã€‚ ä»¥ä¸‹æ˜¯sqlâˆ’ä¸­å¯ç”¨çš„ä¸€äº›æœ€å¸¸ç”¨çš„çº¦æŸ ï¼šä¿è¯åˆ—ä¸­æ•°æ®ä¸èƒ½æœ‰ NULL å€¼ ï¼šæä¾›è¯¥åˆ—æ•°æ®æœªæŒ‡å®šæ—¶æ‰€é‡‡ç”¨çš„é»˜è®¤å€¼ ï¼šä¿è¯åˆ—ä¸­çš„æ‰€æœ‰æ•°æ®å„ä¸ç›¸åŒ ï¼šå”¯ä¸€æ ‡è¯†æ•°æ®è¡¨ä¸­çš„è¡Œè®°å½• ï¼šå”¯ä¸€æ ‡è¯†å…¶ä»–è¡¨ä¸­çš„ä¸€æ¡è¡Œè®°å½• ï¼šæ­¤çº¦æŸä¿è¯åˆ—ä¸­çš„æ‰€æœ‰å€¼æ»¡è¶³æŸä¸€æ¡ä»¶ ï¼šç”¨äºåœ¨æ•°æ®åº“ä¸­å¿«é€Ÿåˆ›å»ºæˆ–æ£€ç´¢æ•°æ® çº¦æŸå¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶è§„å®šï¼ˆé€šè¿‡ CREATE TABLE è¯­å¥ï¼‰ï¼Œæˆ–è€…åœ¨è¡¨åˆ›å»ºä¹‹åè§„å®šï¼ˆé€šè¿‡ ALTER TABLE è¯­å¥ï¼‰ã€‚ æ•°æ®å®Œæ•´æ€§ æ¯ä¸ªå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿéƒ½å­˜åœ¨ä»¥ä¸‹ç±»å‹çš„æ•°æ®å®Œæ•´æ€§ï¼š å®ä½“å®Œæ•´æ€§âˆ’è¡¨ä¸­æ²¡æœ‰é‡å¤è¡Œã€‚åŸŸå®Œæ•´æ€§âˆ’é€šè¿‡é™åˆ¶å€¼çš„ç±»å‹ã€æ ¼å¼æˆ–èŒƒå›´æ¥å¼ºåˆ¶æ‰§è¡Œç»™å®šåˆ—çš„æœ‰æ•ˆæ¡ç›®ã€‚å¼•ç”¨å®Œæ•´æ€§âˆ’ä¸èƒ½åˆ é™¤å…¶ä»–è®°å½•ä½¿ç”¨çš„è¡Œã€‚ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§âˆ’å¼ºåˆ¶æ‰§è¡Œä¸€äº›ä¸å±äºå®ä½“ã€åŸŸæˆ–å¼•ç”¨å®Œæ•´æ€§çš„ç‰¹å®šä¸šåŠ¡è§„åˆ™ã€‚ æ•°æ®åº“è§„èŒƒåŒ– æ•°æ®åº“è§„èŒƒåŒ–æ˜¯åœ¨æ•°æ®åº“ä¸­æœ‰æ•ˆåœ°ç»„ç»‡æ•°æ®çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè§„èŒƒåŒ–è¿‡ç¨‹æœ‰ä¸¤ä¸ªåŸå› ï¼š æ¶ˆé™¤å†—ä½™æ•°æ®ï¼Œä¾‹å¦‚ï¼Œå°†ç›¸åŒçš„æ•°æ®å­˜å‚¨åœ¨å¤šä¸ªè¡¨ä¸­ã€‚ ç¡®ä¿æ•°æ®ä¾èµ–å…³ç³»æ˜¯æœ‰æ„ä¹‰çš„ã€‚ è¿™ä¸¤ä¸ªåŸå› éƒ½æ˜¯å€¼å¾—è¿½æ±‚çš„ç›®æ ‡ï¼Œå› ä¸ºå®ƒä»¬å‡å°‘äº†æ•°æ®åº“æ¶ˆè€—çš„ç©ºé—´é‡ï¼Œå¹¶ç¡®ä¿äº†æ•°æ®çš„é€»è¾‘å­˜å‚¨ã€‚ è§„èŒƒåŒ–ç”±ä¸€ç³»åˆ—æŒ‡å¯¼åŸåˆ™ç»„æˆï¼Œæœ‰åŠ©äºæŒ‡å¯¼æ‚¨åˆ›å»ºè‰¯å¥½çš„æ•°æ®åº“ç»“æ„ã€‚ è§„èŒƒåŒ–æŒ‡å¯¼åŸåˆ™ç§°ä¸ºèŒƒå¼ï¼ŒèŒƒå¼çš„ç›®çš„æ˜¯ç»„ç»‡æ•°æ®åº“ç»“æ„ï¼Œä½¿å…¶ç¬¦åˆç¬¬ä¸€èŒƒå¼ã€ç¬¬äºŒèŒƒå¼å’Œç¬¬ä¸‰èŒƒå¼çš„è§„åˆ™ã€‚ ä½ å¯ä»¥æ›´é•¿è¿œçš„å»é€‰æ‹©ç¬¬å››èŒƒå¼ï¼Œç¬¬äº”èŒƒå¼ï¼Œç­‰ç­‰ï¼Œä½†ä¸€èˆ¬æ¥è¯´ï¼Œç¬¬ä¸‰èŒƒå¼å·²ç»è¶³å¤Ÿäº†ã€‚ ç¬¬ä¸€èŒƒå¼(1NF)ç¬¬äºŒèŒƒå¼(2NF)ç¬¬ä¸‰èŒƒå¼(3NF)"},{"title":"SQL å¤„ç†é‡å¤æ•°æ®","path":"/wiki/sql/sentence/repeat.html","content":"SQL å¤„ç†é‡å¤æ•°æ® æœ‰æ—¶å€™ï¼Œæ•°æ®è¡¨ä¸­ä¼šå­˜åœ¨ç›¸åŒçš„è®°å½•ã€‚åœ¨è·å–è¡¨ä¸­è®°å½•æ—¶ï¼Œç›¸è¾ƒäºå–å¾—é‡å¤è®°å½•æ¥è¯´ï¼Œå–å¾—å”¯ä¸€çš„è®°å½•æ˜¾ç„¶æ›´æœ‰æ„ä¹‰ã€‚ æˆ‘ä»¬ä¹‹å‰è®¨è®ºè¿‡çš„ SQL DISTINCT å…³é”®å­—ï¼Œä¸ SELECT è¯­å¥ä¸€èµ·ä½¿ç”¨å¯ä»¥æ—¶ï¼Œå¯ä»¥è¾¾åˆ°æ¶ˆé™¤æ‰€æœ‰é‡å¤è®°å½•ï¼Œåªè¿”å›å”¯ä¸€è®°å½•çš„ç›®çš„ã€‚ è¯­æ³• åˆ©ç”¨ DISTINCT å…³é”®å­—æ¥æ¶ˆé™¤é‡å¤è®°å½•çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT DISTINCT column1, column2,.....columnN FROM table_nameWHERE [condition] ç¤ºä¾‹ï¼š è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ é¦–å…ˆï¼Œè®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ SELECT è¯­å¥æ˜¯å¦‚ä½•è¿”å›é‡å¤çš„è–ªæ°´è®°å½•çš„ï¼š SQL SELECT SALARY FROM CUSTOMERS ORDER BY SALARY; è¿è¡Œä¸Šè¿°è¯­å¥å°†ä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœï¼Œå…¶ä¸­ SALARY ä¸º 2000 çš„è®°å½•å‡ºç°äº†ä¸¤æ¬¡ï¼Œå³æ¥è‡ªåŸå§‹æ•°æ®è¡¨çš„é‡å¤è®°å½•ï¼š +----------+| SALARY |+----------+| 1500.00 || 2000.00 || 2000.00 || 4500.00 || 6500.00 || 8500.00 || 10000.00 |+----------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨ä¸Šé¢çš„ SELECT æŸ¥è¯¢ä¸­ä½¿ç”¨ DISTINCT å…³é”®å­—ï¼Œç„¶åè§‚å¯Ÿå°†ä¼šå¾—åˆ°ä»€ä¹ˆç»“æœï¼š SQL SELECT DISTINCT SALARY FROM CUSTOMERS ORDER BY SALARY; ä¸Šè¿°è¯­å¥å°†ä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼Œè¿™ä¸€å†æ²¡æœ‰ä»»ä½•é‡å¤çš„æ¡ç›®äº†ï¼š +----------+| SALARY |+----------+| 1500.00 || 2000.00 || 4500.00 || 6500.00 || 8500.00 || 10000.00 |+----------+"},{"title":"SQL å®Œæ•´å¤–éƒ¨è¿æ¥","path":"/wiki/sql/sentence/outer.html","content":"SQL FULL OUTER JOIN å…³é”®å­— å½“å·¦ï¼ˆè¡¨1ï¼‰æˆ–å³ï¼ˆè¡¨2ï¼‰è¡¨è®°å½•åŒ¹é…æ—¶ï¼ŒFULL OUTER JOINå…³é”®å­—å°†è¿”å›æ‰€æœ‰è®°å½•ã€‚ **ã€€æ³¨æ„ï¼š** FULL OUTER JOINå¯èƒ½ä¼šè¿”å›éå¸¸å¤§çš„ç»“æœé›†ï¼ SQL FULL OUTER JOIN è¯­æ³•SELECT column_name(s)FROM table1FULL OUTER JOIN table2 ON table1.column_name = table2.column_name; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico é€‰è‡ª â€œOrdersâ€ è¡¨çš„æ•°æ®ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10308 2 7 1996-09-18 3 10309 3 3 1996-09-19 1 10310 77 8 1996-09-20 2 SQL FULL OUTER JOIN å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©æ‰€æœ‰å®¢æˆ·å’Œæ‰€æœ‰è®¢å•ï¼š SELECT Customers.CustomerName, Orders.OrderIDFROM CustomersFULL OUTER JOIN Orders ON Customers.CustomerID=Orders.CustomerIDORDER BY Customers.CustomerName; ä»è¿™å¥—ç»“æœä¸­é€‰æ‹©çš„æ•°æ®å¦‚ä¸‹ï¼š CustomerName OrderID Alfreds Futterkiste Ana Trujillo Emparedados y helados 10308 Antonio Moreno TaquerÃ­a 10309 10310 æ³¨æ„ï¼š FULL OUTER JOINå…³é”®å­—è¿”å›å·¦è¡¨ï¼ˆCustomersï¼‰ä¸­çš„æ‰€æœ‰è¡Œï¼Œä»¥åŠå³è¡¨ï¼ˆOrdersï¼‰ä¸­çš„æ‰€æœ‰è¡Œã€‚å¦‚æœ â€œCustomersâ€ä¸­çš„è¡Œä¸­æ²¡æœ‰â€Ordersâ€ä¸­çš„åŒ¹é…é¡¹ï¼Œæˆ–è€…â€Ordersâ€ä¸­çš„è¡Œä¸­æ²¡æœ‰ â€œCustomersâ€ä¸­çš„åŒ¹é…é¡¹ï¼Œé‚£ä¹ˆè¿™äº›è¡Œä¹Ÿä¼šåˆ—å‡ºã€‚"},{"title":"SQL å³è¿æ¥","path":"/wiki/sql/sentence/right.html","content":"SQLå³è¿æ¥ RIGHT JOIN å…³é”®å­— SQLå³é“¾æ¥ RIGHT JOIN å…³é”®å­—è¿”å›å³è¡¨ï¼ˆtable2ï¼‰çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿åœ¨å·¦è¡¨ï¼ˆtable1ï¼‰ä¸Šæ²¡æœ‰åŒ¹é…ã€‚å¦‚æœå·¦è¡¨æ²¡æœ‰åŒ¹é…ï¼Œåˆ™ç»“æœä¸ºNULLã€‚ SQL RIGHT JOIN è¯­æ³•SELECT column_name(s)FROM table1RIGHT JOIN table2 ON table1.column_name = table2.column_name; **æ³¨é‡Šï¼š**åœ¨ä¸€äº›æ•°æ®åº“ä¸­ï¼ŒRIGHT JOIN ç§°ä¸º RIGHT OUTER JOINã€‚ æ¼”ç¤ºæ•°æ®åº“åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç€åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Ordersâ€è¡¨ä¸­çš„ä¸€ä¸ªé€‰é¡¹ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10308 2 7 1996-09-18 3 10309 37 3 1996-09-19 1 10310 77 8 1996-09-20 2 å¹¶ä»â€Employeesâ€ tè¡¨ä¸­é€‰æ‹©ï¼š EmployeeID LastName FirstName BirthDate Photo 1 Davolio Nancy 1281968 EmpID1.pic 2 Fuller Andrew 2191952 EmpID2.pic 3 Leverling Janet 8301963 EmpID3.pic SQL RIGHT JOIN å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥å°†è¿”å›æ‰€æœ‰é›‡å‘˜ä»¥åŠä»–ä»¬å¯èƒ½å·²ç»æ”¾ç½®çš„ä»»ä½•è®¢å•ï¼š ç¤ºä¾‹ï¼š SELECT Orders.OrderID, Employees.LastName, Employees.FirstNameFROM OrdersRIGHT JOIN Employees ON Orders.EmployeeID = Employees.EmployeeIDORDER BY Orders.OrderID; **æ³¨é‡Šï¼š**RIGHT JOIN å…³é”®å­—è¿”å›å³è¡¨ï¼ˆEmployeesï¼‰çš„æ‰€æœ‰è¡Œï¼Œå³ä½¿åœ¨å·¦è¡¨ï¼ˆOrdersï¼‰ä¸­æ²¡æœ‰åŒ¹é…ã€‚"},{"title":"SQL è‡ªè¿æ¥","path":"/wiki/sql/sentence/self.html","content":"SQLè‡ªè¿æ¥ è‡ªè”æ¥æ˜¯ä¸€ç§å¸¸è§„è”æ¥ï¼Œä½†è¡¨æœ¬èº«æ˜¯è¿æ¥çš„ã€‚ Self JOINè¯­æ³•SELECT column_name(s)FROM table1 T1, table1 T2WHERE condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç€åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€è¡¨ä¸­çš„é€‰æ‹©ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico SQL Self JOINç¤ºä¾‹ ä»¥ä¸‹SQLè¯­å¥åŒ¹é…æ¥è‡ªåŒä¸€åŸå¸‚çš„å®¢æˆ·ï¼š ç¤ºä¾‹ SELECT A.CustomerName AS CustomerName1, B.CustomerName AS CustomerName2, A.CityFROM Customers A, Customers BWHERE A.CustomerID B.CustomerIDAND A.City = B.City ORDER BY A.City;"},{"title":"SQL è¯­å¥å¿«é€Ÿå‚è€ƒ","path":"/wiki/sql/sentence/refer.html","content":"SQLè¯­å¥å¿«é€Ÿå‚è€ƒ SQL è¯­å¥ è¯­æ³• AND OR SELECT column_name(s) FROM table_name WHERE condition AND|OR condition ALTER TABLE ALTER TABLE table_name ADD column_name datatype or ALTER TABLE table_name DROP COLUMN column_name AS (alias) SELECT column_name AS column_alias FROM table_name or SELECT column_name FROM table_name AS table_alias BETWEEN SELECT column_name(s) FROM table_name WHERE column_name BETWEEN value1 AND value2 CREATE DATABASE CREATE DATABASE database_name CREATE TABLE CREATE TABLE table_name ( column_name1 data_type, column_name2 data_type, column_name2 data_type, â€¦ ) CREATE INDEX CREATE INDEX index_name ON table_name (column_name) or CREATE UNIQUE INDEX index_name ON table_name (column_name) CREATE VIEW CREATE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition DELETE DELETE FROM table_name WHERE some_columnsome_value or DELETE FROM table_name (**Note:**Deletes the entire table!!) DELETE * FROM table_name (**Note:**Deletes the entire table!!) DROP DATABASE DROP DATABASE database_name DROP INDEX DROP INDEX table_name.index_name (SQL Server) DROP INDEX index_name ON table_name (MS Access) DROP INDEX index_name (DB2Oracle) ALTER TABLE table_name DROP INDEX index_name (MySQL) DROP TABLE DROP TABLE table_name GROUP BY SELECT column_name, aggregate_function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name HAVING SELECT column_name, aggregate_function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name HAVING aggregate_function(column_name) operator value IN SELECT column_name(s) FROM table_name WHERE column_name IN (value1,value2,..) INSERT INTO INSERT INTO table_name VALUES (value1, value2, value3,â€¦.) or INSERT INTO table_name (column1, column2, column3,â€¦) VALUES (value1, value2, value3,â€¦.) INNER JOIN SELECT column_name(s) FROM table_name1 INNER JOIN table_name2 ON table_name1.column_nametable_name2.column_name LEFT JOIN SELECT column_name(s) FROM table_name1 LEFT JOIN table_name2 ON table_name1.column_nametable_name2.column_name RIGHT JOIN SELECT column_name(s) FROM table_name1 RIGHT JOIN table_name2 ON table_name1.column_nametable_name2.column_name FULL JOIN SELECT column_name(s) FROM table_name1 FULL JOIN table_name2 ON table_name1.column_nametable_name2.column_name LIKE SELECT column_name(s) FROM table_name WHERE column_nameLIKE pattern ORDER BY SELECT column_name(s) FROM table_name ORDER BY column_name [ASC|DESC] SELECT SELECT column_name(s) FROM table_name SELECT * SELECT * FROM table_name SELECT DISTINCT SELECT DISTINCT column_name(s) FROM table_name SELECT INTO SELECT * INTO new_table_name [IN externaldatabase] FROM old_table_name or SELECT column_name(s) INTO new_table_name [IN externaldatabase] FROM old_table_name SELECT TOP SELECT TOP number|percent column_name(s) FROM table_name TRUNCATE TABLE TRUNCATE TABLE table_name UNION SELECT column_name(s) FROM table_name1 UNION SELECT column_name(s) FROM table_name2 UNION ALL SELECT column_name(s) FROM table_name1 UNION ALL SELECT column_name(s) FROM table_name2 UPDATE UPDATE table_name SET column1value, column2value,â€¦ WHERE some_columnsome_value WHERE SELECT column_name(s) FROM table_name WHERE column_name operator value"},{"title":"SQL ä½¿ç”¨åºåˆ—","path":"/wiki/sql/sentence/sequence.html","content":"SQL ä½¿ç”¨åºåˆ— åºåˆ—æ˜¯æ ¹æ®éœ€è¦äº§ç”Ÿçš„ä¸€ç»„æœ‰åºæ•´æ•°ï¼š1, 2, 3 â€¦ åºåˆ—åœ¨æ•°æ®åº“ä¸­ç»å¸¸ç”¨åˆ°ï¼Œå› ä¸ºè®¸å¤šåº”ç”¨è¦æ±‚æ•°æ®è¡¨ä¸­çš„çš„æ¯ä¸€è¡Œéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼Œåºåˆ—ä¸ºæ­¤æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•ã€‚ æœ¬èŠ‚é˜è¿°åœ¨ MySQL ä¸­å¦‚ä½•ä½¿ç”¨åºåˆ—ã€‚ ä½¿ç”¨ AUTO_INCREMENT åˆ— åœ¨ MySQL ä¸­ä½¿ç”¨åºåˆ—æœ€ç®€å•çš„æ–¹å¼æ˜¯ï¼ŒæŠŠæŸåˆ—å®šä¹‰ä¸º AUTO_INCREMENTï¼Œç„¶åå°†å‰©ä¸‹çš„äº‹æƒ…äº¤ç”± MySQL å¤„ç†ï¼š ç¤ºä¾‹ è¯•ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼Œè¯¥ä¾‹å°†ä¼šåˆ›å»ºä¸€å¼ æ–°è¡¨ï¼Œç„¶åå†é‡Œé¢æ’å…¥å‡ æ¡è®°å½•ï¼Œæ·»åŠ è®°å½•æ—¶å¹¶ä¸éœ€è¦æŒ‡å®šè®°å½•çš„ IDï¼Œå› ä¸ºè¯¥åˆ—çš„å€¼ç”± MySQL è‡ªåŠ¨å¢åŠ ã€‚ mysql CREATE TABLE INSECT - ( - id INT UNSIGNED NOT NULL AUTO_INCREMENT, - PRIMARY KEY (id), - name VARCHAR(30) NOT NULL, # type of insect - date DATE NOT NULL, # date collected - origin VARCHAR(30) NOT NULL # where collected);Query OK, 0 rows affected (0.02 sec)mysql INSERT INTO INSECT (id,name,date,origin) VALUES - (NULL,housefly,2001-09-10,kitchen), - (NULL,millipede,2001-09-10,driveway), - (NULL,grasshopper,2001-09-10,front yard);Query OK, 3 rows affected (0.02 sec)Records: 3 Duplicates: 0 Warnings: 0mysql SELECT * FROM INSECT ORDER BY id;+----+-------------+------------+------------+| id | name | date | origin |+----+-------------+------------+------------+| 1 | housefly | 2001-09-10 | kitchen || 2 | millipede | 2001-09-10 | driveway || 3 | grasshopper | 2001-09-10 | front yard |+----+-------------+------------+------------+3 rows in set (0.00 sec) è·å– AUTO_INCREMENT å€¼ LAST_INSERT_ID() æ˜¯ä¸€ä¸ª SQL å‡½æ•°ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•èƒ½å¤Ÿæ‰§è¡Œ SQL è¯­å¥åœ°æ–¹ã€‚å¦å¤–ï¼ŒPerl å’Œ PHP å„è‡ªæä¾›äº†å…¶ç‹¬æœ‰çš„å‡½æ•°ï¼Œç”¨äºè·å¾—æœ€åä¸€æ¡è®°å½•çš„ AUTO_INCREMENT å€¼ã€‚ Perl ç¤ºä¾‹ ä½¿ç”¨ mysql_insertid å±æ€§æ¥è·å– SQL æŸ¥è¯¢äº§ç”Ÿçš„ AUTO_INCREMENT å€¼ã€‚æ ¹æ®æ‰§è¡ŒæŸ¥è¯¢çš„æ–¹å¼ä¸åŒï¼Œè¯¥å±æ€§å¯ä»¥é€šè¿‡æ•°æ®åº“å¥æŸ„æˆ–è€…è¯­å¥å¥æŸ„æ¥è®¿é—®ã€‚ä¸‹é¢çš„ç¤ºä¾‹é€šè¿‡æ•°æ®åº“å¥æŸ„å–å¾—è‡ªå¢å€¼ï¼š $dbh-do (INSERT INTO INSECT (name,date,origin)VALUES(moth,2001-09-14,windowsill));my $seq = $dbh-mysql_insertid; PHP ç¤ºä¾‹ åœ¨æ‰§è¡Œå®Œä¼šäº§ç”Ÿè‡ªå¢å€¼çš„æŸ¥è¯¢åï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ mysql_insert_id() æ¥è·å–æ­¤å€¼ï¼š mysql_query (INSERT INTO INSECT (name,date,origin)VALUES(moth,2001-09-14,windowsill), $conn_id);$seq = mysql_insert_id ($conn_id); é‡æ–°ç¼–å·ç°æœ‰åºåˆ— å½“ä½ ä»è¡¨ä¸­åˆ é™¤äº†å¾ˆå¤šè®°å½•åï¼Œå¯èƒ½ä¼šæƒ³è¦å¯¹æ‰€æœ‰çš„è®°å½•é‡æ–°å®šåºã€‚åªè¦ç•¥æ–½å°è®¡å°±èƒ½è¾¾åˆ°æ­¤ç›®çš„ï¼Œä¸è¿‡å¦‚æœä½ çš„è¡¨ä¸å…¶ä»–è¡¨ä¹‹é—´å­˜åœ¨è¿æ¥çš„è¯ï¼Œè¯·åƒä¸‡å°å¿ƒã€‚ å½“ä½ è§‰å¾—ä¸å¾—ä¸å¯¹ AUTO_INCREMENT åˆ—é‡æ–°å®šåºæ—¶ï¼Œä»è¡¨ä¸­åˆ é™¤è¯¥åˆ—ï¼Œç„¶åå†å°†å…¶æ·»åŠ å›æ¥ï¼Œå°±å¯ä»¥è¾¾åˆ°ç›®çš„äº†ã€‚ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä¸º INSECT è¡¨ä¸­çš„ ID å€¼é‡æ–°å®šåºï¼š mysql ALTER TABLE INSECT DROP id;mysql ALTER TABLE insect - ADD id INT UNSIGNED NOT NULL AUTO_INCREMENT FIRST, - ADD PRIMARY KEY (id); ä»ç‰¹å®šå€¼çš„åºåˆ— é»˜è®¤æƒ…å†µä¸‹ï¼ŒMySQL ä¸­åºåˆ—çš„èµ·å§‹å€¼ä¸º 1ï¼Œä¸è¿‡ä½ å¯ä»¥åœ¨åˆ›å»ºæ•°æ®è¡¨çš„æ—¶å€™ï¼ŒæŒ‡å®šä»»æ„å…¶ä»–å€¼ã€‚ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒMySQL å°†åºåˆ—çš„èµ·å§‹å€¼è®¾ä¸º 100ï¼š mysql CREATE TABLE INSECT - ( - id INT UNSIGNED NOT NULL AUTO_INCREMENT = 100, - PRIMARY KEY (id), - name VARCHAR(30) NOT NULL, # type of insect - date DATE NOT NULL, # date collected - origin VARCHAR(30) NOT NULL # where collected); æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆåˆ›å»ºæ•°æ®è¡¨ï¼Œç„¶åä½¿ç”¨ ALTER TABLE æ¥è®¾ç½®åºåˆ—çš„èµ·å§‹å€¼ï¼š mysql ALTER TABLE t AUTO_INCREMENT = 100;"},{"title":"SQL å„ç§æ•°æ®åº“çš„æ•°æ®ç±»å‹","path":"/wiki/sql/sentence/summary.html","content":"SQL å„ç§æ•°æ®åº“çš„æ•°æ®ç±»å‹ Microsoft Accessã€MySQL å’Œ SQL Server æ‰€ä½¿ç”¨çš„æ•°æ®ç±»å‹å’ŒèŒƒå›´ã€‚ Microsoft Access æ•°æ®ç±»å‹ æ•°æ®ç±»å‹ æè¿° å­˜å‚¨ Text ç”¨äºæ–‡æœ¬æˆ–æ–‡æœ¬ä¸æ•°å­—çš„ç»„åˆã€‚æœ€å¤š 255 ä¸ªå­—ç¬¦ã€‚ Memo Memo ç”¨äºæ›´å¤§æ•°é‡çš„æ–‡æœ¬ã€‚æœ€å¤šå­˜å‚¨ 65,536 ä¸ªå­—ç¬¦ã€‚**æ³¨é‡Šï¼š**æ— æ³•å¯¹ memo å­—æ®µè¿›è¡Œæ’åºã€‚ä¸è¿‡å®ƒä»¬æ˜¯å¯æœç´¢çš„ã€‚ Byte å…è®¸ 0 åˆ° 255 çš„æ•°å­—ã€‚ 1 å­—èŠ‚ Integer å…è®¸ä»‹äº -32,768 ä¸ 32,767 ä¹‹é—´çš„å…¨éƒ¨æ•°å­—ã€‚ 2 å­—èŠ‚ Long å…è®¸ä»‹äº -2,147,483,648 ä¸ 2,147,483,647 ä¹‹é—´çš„å…¨éƒ¨æ•°å­—ã€‚ 4 å­—èŠ‚ Single å•ç²¾åº¦æµ®ç‚¹ã€‚å¤„ç†å¤§å¤šæ•°å°æ•°ã€‚ 4 å­—èŠ‚ Double åŒç²¾åº¦æµ®ç‚¹ã€‚å¤„ç†å¤§å¤šæ•°å°æ•°ã€‚ 8 å­—èŠ‚ Currency ç”¨äºè´§å¸ã€‚æ”¯æŒ 15 ä½çš„å…ƒï¼Œå¤–åŠ  4 ä½å°æ•°ã€‚**æç¤ºï¼š**æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªä¸ªå›½å®¶çš„è´§å¸ã€‚ 8 å­—èŠ‚ AutoNumber AutoNumber å­—æ®µè‡ªåŠ¨ä¸ºæ¯æ¡è®°å½•åˆ†é…æ•°å­—ï¼Œé€šå¸¸ä» 1 å¼€å§‹ã€‚ 4 å­—èŠ‚ DateTime ç”¨äºæ—¥æœŸå’Œæ—¶é—´ 8 å­—èŠ‚ YesNo é€»è¾‘å­—æ®µï¼Œå¯ä»¥æ˜¾ç¤ºä¸º YesNoã€TrueFalse æˆ– OnOffã€‚åœ¨ä»£ç ä¸­ï¼Œä½¿ç”¨å¸¸é‡ True å’Œ False ï¼ˆç­‰ä»·äº 1 å’Œ 0ï¼‰ã€‚**æ³¨é‡Šï¼š**YesNo å­—æ®µä¸­ä¸å…è®¸ Null å€¼ 1 æ¯”ç‰¹ Ole Object å¯ä»¥å­˜å‚¨å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘æˆ–å…¶ä»– BLOBsï¼ˆBinary Large OBjectsï¼‰ã€‚ æœ€å¤š 1GB Hyperlink åŒ…å«æŒ‡å‘å…¶ä»–æ–‡ä»¶çš„é“¾æ¥ï¼ŒåŒ…æ‹¬ç½‘é¡µã€‚ Lookup Wizard å…è®¸æ‚¨åˆ›å»ºä¸€ä¸ªå¯ä»ä¸‹æ‹‰åˆ—è¡¨ä¸­è¿›è¡Œé€‰æ‹©çš„é€‰é¡¹åˆ—è¡¨ã€‚ 4 å­—èŠ‚ MySQL æ•°æ®ç±»å‹ åœ¨ MySQL ä¸­ï¼Œæœ‰ä¸‰ç§ä¸»è¦çš„ç±»å‹ï¼šTextï¼ˆæ–‡æœ¬ï¼‰ã€Numberï¼ˆæ•°å­—ï¼‰å’Œ DateTimeï¼ˆæ—¥æœŸæ—¶é—´ï¼‰ç±»å‹ã€‚ **ã€€Text ç±»å‹ï¼š** æ•°æ®ç±»å‹ æè¿° CHAR(size) ä¿å­˜å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼ˆå¯åŒ…å«å­—æ¯ã€æ•°å­—ä»¥åŠç‰¹æ®Šå­—ç¬¦ï¼‰ã€‚åœ¨æ‹¬å·ä¸­æŒ‡å®šå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æœ€å¤š 255 ä¸ªå­—ç¬¦ã€‚ VARCHAR(size) ä¿å­˜å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ï¼ˆå¯åŒ…å«å­—æ¯ã€æ•°å­—ä»¥åŠç‰¹æ®Šå­—ç¬¦ï¼‰ã€‚åœ¨æ‹¬å·ä¸­æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ã€‚æœ€å¤š 255 ä¸ªå­—ç¬¦ã€‚**æ³¨é‡Šï¼š**å¦‚æœå€¼çš„é•¿åº¦å¤§äº 255ï¼Œåˆ™è¢«è½¬æ¢ä¸º TEXT ç±»å‹ã€‚ TINYTEXT å­˜æ”¾æœ€å¤§é•¿åº¦ä¸º 255 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚ TEXT å­˜æ”¾æœ€å¤§é•¿åº¦ä¸º 65,535 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚ BLOB ç”¨äº BLOBsï¼ˆBinary Large OBjectsï¼‰ã€‚å­˜æ”¾æœ€å¤š 65,535 å­—èŠ‚çš„æ•°æ®ã€‚ MEDIUMTEXT å­˜æ”¾æœ€å¤§é•¿åº¦ä¸º 16,777,215 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚ MEDIUMBLOB ç”¨äº BLOBsï¼ˆBinary Large OBjectsï¼‰ã€‚å­˜æ”¾æœ€å¤š 16,777,215 å­—èŠ‚çš„æ•°æ®ã€‚ LONGTEXT å­˜æ”¾æœ€å¤§é•¿åº¦ä¸º 4,294,967,295 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚ LONGBLOB ç”¨äº BLOBs (Binary Large OBjects)ã€‚å­˜æ”¾æœ€å¤š 4,294,967,295 å­—èŠ‚çš„æ•°æ®ã€‚ ENUM(x,y,z,etc.) å…è®¸æ‚¨è¾“å…¥å¯èƒ½å€¼çš„åˆ—è¡¨ã€‚å¯ä»¥åœ¨ ENUM åˆ—è¡¨ä¸­åˆ—å‡ºæœ€å¤§ 65535 ä¸ªå€¼ã€‚å¦‚æœåˆ—è¡¨ä¸­ä¸å­˜åœ¨æ’å…¥çš„å€¼ï¼Œåˆ™æ’å…¥ç©ºå€¼ã€‚ **æ³¨é‡Šï¼š**è¿™äº›å€¼æ˜¯æŒ‰ç…§æ‚¨è¾“å…¥çš„é¡ºåºæ’åºçš„ã€‚ å¯ä»¥æŒ‰ç…§æ­¤æ ¼å¼è¾“å…¥å¯èƒ½çš„å€¼ï¼š ENUM(â€˜Xâ€™,â€™Yâ€™,â€™Zâ€™) SET ä¸ ENUM ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼ŒSET æœ€å¤šåªèƒ½åŒ…å« 64 ä¸ªåˆ—è¡¨é¡¹ä¸” SET å¯å­˜å‚¨ä¸€ä¸ªä»¥ä¸Šçš„é€‰æ‹©ã€‚ **ã€€Number ç±»å‹ï¼š** æ•°æ®ç±»å‹ æè¿° TINYINT(size) -128 åˆ° 127 å¸¸è§„ã€‚0 åˆ° 255 æ— ç¬¦å·*ã€‚åœ¨æ‹¬å·ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚ SMALLINT(size) -32768 åˆ° 32767 å¸¸è§„ã€‚0 åˆ° 65535 æ— ç¬¦å·*ã€‚åœ¨æ‹¬å·ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚ MEDIUMINT(size) -8388608 åˆ° 8388607 æ™®é€šã€‚0 to 16777215 æ— ç¬¦å·*ã€‚åœ¨æ‹¬å·ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚ INT(size) -2147483648 åˆ° 2147483647 å¸¸è§„ã€‚0 åˆ° 4294967295 æ— ç¬¦å·*ã€‚åœ¨æ‹¬å·ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚ BIGINT(size) -9223372036854775808 åˆ° 9223372036854775807 å¸¸è§„ã€‚0 åˆ° 18446744073709551615 æ— ç¬¦å·*ã€‚åœ¨æ‹¬å·ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚ FLOAT(size,d) å¸¦æœ‰æµ®åŠ¨å°æ•°ç‚¹çš„å°æ•°å­—ã€‚åœ¨ size å‚æ•°ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚åœ¨ d å‚æ•°ä¸­è§„å®šå°æ•°ç‚¹å³ä¾§çš„æœ€å¤§ä½æ•°ã€‚ DOUBLE(size,d) å¸¦æœ‰æµ®åŠ¨å°æ•°ç‚¹çš„å¤§æ•°å­—ã€‚åœ¨ size å‚æ•°ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚åœ¨ d å‚æ•°ä¸­è§„å®šå°æ•°ç‚¹å³ä¾§çš„æœ€å¤§ä½æ•°ã€‚ DECIMAL(size,d) ä½œä¸ºå­—ç¬¦ä¸²å­˜å‚¨çš„ DOUBLE ç±»å‹ï¼Œå…è®¸å›ºå®šçš„å°æ•°ç‚¹ã€‚åœ¨ size å‚æ•°ä¸­è§„å®šæœ€å¤§ä½æ•°ã€‚åœ¨ d å‚æ•°ä¸­è§„å®šå°æ•°ç‚¹å³ä¾§çš„æœ€å¤§ä½æ•°ã€‚ **æ³¨æ„ï¼š**è¿™äº›æ•´æ•°ç±»å‹æ‹¥æœ‰é¢å¤–çš„é€‰é¡¹ UNSIGNEDã€‚é€šå¸¸ï¼Œæ•´æ•°å¯ä»¥æ˜¯è´Ÿæ•°æˆ–æ­£æ•°ã€‚å¦‚æœæ·»åŠ  UNSIGNED å±æ€§ï¼Œé‚£ä¹ˆèŒƒå›´å°†ä» 0 å¼€å§‹ï¼Œè€Œä¸æ˜¯æŸä¸ªè´Ÿæ•°ã€‚ **ã€€Date ç±»å‹ï¼š** æ•°æ®ç±»å‹ æè¿° DATE() æ—¥æœŸã€‚æ ¼å¼ï¼šYYYY-MM-DD **æ³¨é‡Šï¼š**æ”¯æŒçš„èŒƒå›´æ˜¯ä» â€˜1000-01-01â€™ åˆ° â€˜9999-12-31â€™ DATETIME() *æ—¥æœŸå’Œæ—¶é—´çš„ç»„åˆã€‚æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS **æ³¨é‡Šï¼š**æ”¯æŒçš„èŒƒå›´æ˜¯ä» â€˜1000-01-01 00:00:00â€™ åˆ° â€˜9999-12-31 23:59:59â€™ TIMESTAMP() *æ—¶é—´æˆ³ã€‚TIMESTAMP å€¼ä½¿ç”¨ Unix çºªå…ƒ(â€˜1970-01-01 00:00:00â€™ UTC) è‡³ä»Šçš„ç§’æ•°æ¥å­˜å‚¨ã€‚æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS **æ³¨é‡Šï¼š**æ”¯æŒçš„èŒƒå›´æ˜¯ä» â€˜1970-01-01 00:00:01â€™ UTC åˆ° â€˜2038-01-09 03:14:07â€™ UTC TIME() æ—¶é—´ã€‚æ ¼å¼ï¼šHH:MM:SS **æ³¨é‡Šï¼š**æ”¯æŒçš„èŒƒå›´æ˜¯ä» â€˜-838:59:59â€™ åˆ° â€˜838:59:59â€™ YEAR() 2 ä½æˆ– 4 ä½æ ¼å¼çš„å¹´ã€‚ **æ³¨é‡Šï¼š**4 ä½æ ¼å¼æ‰€å…è®¸çš„å€¼ï¼š1901 åˆ° 2155ã€‚2 ä½æ ¼å¼æ‰€å…è®¸çš„å€¼ï¼š70 åˆ° 69ï¼Œè¡¨ç¤ºä» 1970 åˆ° 2069ã€‚ **æ³¨æ„ï¼š**å³ä¾¿ DATETIME å’Œ TIMESTAMP è¿”å›ç›¸åŒçš„æ ¼å¼ï¼Œå®ƒä»¬çš„å·¥ä½œæ–¹å¼å¾ˆä¸åŒã€‚åœ¨ INSERT æˆ– UPDATE æŸ¥è¯¢ä¸­ï¼ŒTIMESTAMP è‡ªåŠ¨æŠŠè‡ªèº«è®¾ç½®ä¸ºå½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ã€‚TIMESTAMP ä¹Ÿæ¥å—ä¸åŒçš„æ ¼å¼ï¼Œæ¯”å¦‚ YYYYMMDDHHMMSSã€YYMMDDHHMMSSã€YYYYMMDD æˆ– YYMMDDã€‚ SQL Server æ•°æ®ç±»å‹ **ã€€String ç±»å‹ï¼š** æ•°æ®ç±»å‹ æè¿° å­˜å‚¨ char(n) å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ã€‚æœ€å¤š 8,000 ä¸ªå­—ç¬¦ã€‚ Defined width varchar(n) å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚æœ€å¤š 8,000 ä¸ªå­—ç¬¦ã€‚ 2 bytes + number of chars varchar(max) å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚æœ€å¤š 1,073,741,824 ä¸ªå­—ç¬¦ã€‚ 2 bytes + number of chars text å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚æœ€å¤š 2GB æ–‡æœ¬æ•°æ®ã€‚ 4 bytes + number of chars nchar å›ºå®šé•¿åº¦çš„ Unicode å­—ç¬¦ä¸²ã€‚æœ€å¤š 4,000 ä¸ªå­—ç¬¦ã€‚ Defined width x 2 nvarchar å¯å˜é•¿åº¦çš„ Unicode å­—ç¬¦ä¸²ã€‚æœ€å¤š 4,000 ä¸ªå­—ç¬¦ã€‚ nvarchar(max) å¯å˜é•¿åº¦çš„ Unicode å­—ç¬¦ä¸²ã€‚æœ€å¤š 536,870,912 ä¸ªå­—ç¬¦ã€‚ ntext å¯å˜é•¿åº¦çš„ Unicode å­—ç¬¦ä¸²ã€‚æœ€å¤š 2GB æ–‡æœ¬æ•°æ®ã€‚ bit å…è®¸ 0ã€1 æˆ– NULL binary(n) å›ºå®šé•¿åº¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚æœ€å¤š 8,000 å­—èŠ‚ã€‚ varbinary å¯å˜é•¿åº¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚æœ€å¤š 8,000 å­—èŠ‚ã€‚ varbinary(max) å¯å˜é•¿åº¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚æœ€å¤š 2GBã€‚ image å¯å˜é•¿åº¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚æœ€å¤š 2GBã€‚ **ã€€Number ç±»å‹ï¼š** æ•°æ®ç±»å‹ æè¿° å­˜å‚¨ tinyint å…è®¸ä» 0 åˆ° 255 çš„æ‰€æœ‰æ•°å­—ã€‚ 1 å­—èŠ‚ smallint å…è®¸ä»‹äº -32,768 ä¸ 32,767 çš„æ‰€æœ‰æ•°å­—ã€‚ 2 å­—èŠ‚ int å…è®¸ä»‹äº -2,147,483,648 ä¸ 2,147,483,647 çš„æ‰€æœ‰æ•°å­—ã€‚ 4 å­—èŠ‚ bigint å…è®¸ä»‹äº -9,223,372,036,854,775,808 ä¸ 9,223,372,036,854,775,807 ä¹‹é—´çš„æ‰€æœ‰æ•°å­—ã€‚ 8 å­—èŠ‚ decimal(p,s) å›ºå®šç²¾åº¦å’Œæ¯”ä¾‹çš„æ•°å­—ã€‚ å…è®¸ä» -10^38 +1 åˆ° 10^38 -1 ä¹‹é—´çš„æ•°å­—ã€‚ p å‚æ•°æŒ‡ç¤ºå¯ä»¥å­˜å‚¨çš„æœ€å¤§ä½æ•°ï¼ˆå°æ•°ç‚¹å·¦ä¾§å’Œå³ä¾§ï¼‰ã€‚p å¿…é¡»æ˜¯ 1 åˆ° 38 ä¹‹é—´çš„å€¼ã€‚é»˜è®¤æ˜¯ 18ã€‚ s å‚æ•°æŒ‡ç¤ºå°æ•°ç‚¹å³ä¾§å­˜å‚¨çš„æœ€å¤§ä½æ•°ã€‚s å¿…é¡»æ˜¯ 0 åˆ° p ä¹‹é—´çš„å€¼ã€‚é»˜è®¤æ˜¯ 0ã€‚ 5-17 å­—èŠ‚ numeric(p,s) å›ºå®šç²¾åº¦å’Œæ¯”ä¾‹çš„æ•°å­—ã€‚ å…è®¸ä» -10^38 +1 åˆ° 10^38 -1 ä¹‹é—´çš„æ•°å­—ã€‚ p å‚æ•°æŒ‡ç¤ºå¯ä»¥å­˜å‚¨çš„æœ€å¤§ä½æ•°ï¼ˆå°æ•°ç‚¹å·¦ä¾§å’Œå³ä¾§ï¼‰ã€‚p å¿…é¡»æ˜¯ 1 åˆ° 38 ä¹‹é—´çš„å€¼ã€‚é»˜è®¤æ˜¯ 18ã€‚ s å‚æ•°æŒ‡ç¤ºå°æ•°ç‚¹å³ä¾§å­˜å‚¨çš„æœ€å¤§ä½æ•°ã€‚s å¿…é¡»æ˜¯ 0 åˆ° p ä¹‹é—´çš„å€¼ã€‚é»˜è®¤æ˜¯ 0ã€‚ 5-17 å­—èŠ‚ smallmoney ä»‹äº -214,748.3648 ä¸ 214,748.3647 ä¹‹é—´çš„è´§å¸æ•°æ®ã€‚ 4 å­—èŠ‚ money ä»‹äº -922,337,203,685,477.5808 ä¸ 922,337,203,685,477.5807 ä¹‹é—´çš„è´§å¸æ•°æ®ã€‚ 8 å­—èŠ‚ float(n) ä» -1.79E + 308 åˆ° 1.79E + 308 çš„æµ®åŠ¨ç²¾åº¦æ•°å­—æ•°æ®ã€‚ n å‚æ•°æŒ‡ç¤ºè¯¥å­—æ®µä¿å­˜ 4 å­—èŠ‚è¿˜æ˜¯ 8 å­—èŠ‚ã€‚float(24) ä¿å­˜ 4 å­—èŠ‚ï¼Œè€Œ float(53) ä¿å­˜ 8 å­—èŠ‚ã€‚n çš„é»˜è®¤å€¼æ˜¯ 53ã€‚ 4 æˆ– 8 å­—èŠ‚ real ä» -3.40E + 38 åˆ° 3.40E + 38 çš„æµ®åŠ¨ç²¾åº¦æ•°å­—æ•°æ®ã€‚ 4 å­—èŠ‚ **ã€€Date ç±»å‹ï¼š** æ•°æ®ç±»å‹ æè¿° å­˜å‚¨ datetime ä» 1753 å¹´ 1 æœˆ 1 æ—¥ åˆ° 9999 å¹´ 12 æœˆ 31 æ—¥ï¼Œç²¾åº¦ä¸º 3.33 æ¯«ç§’ã€‚ 8 å­—èŠ‚ datetime2 ä» 1753 å¹´ 1 æœˆ 1 æ—¥ åˆ° 9999 å¹´ 12 æœˆ 31 æ—¥ï¼Œç²¾åº¦ä¸º 100 çº³ç§’ã€‚ 6-8 å­—èŠ‚ smalldatetime ä» 1900 å¹´ 1 æœˆ 1 æ—¥ åˆ° 2079 å¹´ 6 æœˆ 6 æ—¥ï¼Œç²¾åº¦ä¸º 1 åˆ†é’Ÿã€‚ 4 å­—èŠ‚ date ä»…å­˜å‚¨æ—¥æœŸã€‚ä» 0001 å¹´ 1 æœˆ 1 æ—¥ åˆ° 9999 å¹´ 12 æœˆ 31 æ—¥ã€‚ 3 bytes time ä»…å­˜å‚¨æ—¶é—´ã€‚ç²¾åº¦ä¸º 100 çº³ç§’ã€‚ 3-5 å­—èŠ‚ datetimeoffset ä¸ datetime2 ç›¸åŒï¼Œå¤–åŠ æ—¶åŒºåç§»ã€‚ 8-10 å­—èŠ‚ timestamp å­˜å‚¨å”¯ä¸€çš„æ•°å­—ï¼Œæ¯å½“åˆ›å»ºæˆ–ä¿®æ”¹æŸè¡Œæ—¶ï¼Œè¯¥æ•°å­—ä¼šæ›´æ–°ã€‚timestamp å€¼åŸºäºå†…éƒ¨æ—¶é’Ÿï¼Œä¸å¯¹åº”çœŸå®æ—¶é—´ã€‚æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ª timestamp å˜é‡ã€‚ **ã€€å…¶ä»–æ•°æ®ç±»å‹ï¼š** æ•°æ®ç±»å‹ æè¿° sql_variant å­˜å‚¨æœ€å¤š 8,000 å­—èŠ‚ä¸åŒæ•°æ®ç±»å‹çš„æ•°æ®ï¼Œé™¤äº† textã€ntext ä»¥åŠ timestampã€‚ uniqueidentifier å­˜å‚¨å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ (GUID)ã€‚ xml å­˜å‚¨ XML æ ¼å¼åŒ–æ•°æ®ã€‚æœ€å¤š 2GBã€‚ cursor å­˜å‚¨å¯¹ç”¨äºæ•°æ®åº“æ“ä½œçš„æŒ‡é’ˆçš„å¼•ç”¨ã€‚ table å­˜å‚¨ç»“æœé›†ï¼Œä¾›ç¨åå¤„ç†ã€‚"},{"title":"SQL å­æŸ¥è¯¢","path":"/wiki/sql/sentence/subquery.html","content":"SQL å­æŸ¥è¯¢ å­æŸ¥è¯¢ï¼ˆSub Queryï¼‰æˆ–è€…è¯´å†…æŸ¥è¯¢ï¼ˆInner Queryï¼‰ï¼Œä¹Ÿå¯ä»¥ç§°ä½œåµŒå¥—æŸ¥è¯¢ï¼ˆNested Queryï¼‰ï¼Œæ˜¯ä¸€ç§åµŒå¥—åœ¨å…¶ä»– SQL æŸ¥è¯¢çš„ WHERE å­å¥ä¸­çš„æŸ¥è¯¢ã€‚ å­æŸ¥è¯¢ç”¨äºä¸ºä¸»æŸ¥è¯¢è¿”å›å…¶æ‰€éœ€æ•°æ®ï¼Œæˆ–è€…å¯¹æ£€ç´¢æ•°æ®è¿›è¡Œè¿›ä¸€æ­¥çš„é™åˆ¶ã€‚ å­æŸ¥è¯¢å¯ä»¥åœ¨ SELECTã€INSERTã€UPDATE å’Œ DELETE è¯­å¥ä¸­ï¼ŒåŒ ã€ã€ã€ã€ã€INã€BETWEEN ç­‰è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚ ä½¿ç”¨å­æŸ¥è¯¢å¿…é¡»éµå¾ªä»¥ä¸‹å‡ ä¸ªè§„åˆ™ï¼š å­æŸ¥è¯¢å¿…é¡»æ‹¬åœ¨åœ†æ‹¬å·ä¸­ã€‚ å­æŸ¥è¯¢çš„ SELECT å­å¥ä¸­åªèƒ½æœ‰ä¸€ä¸ªåˆ—ï¼Œé™¤éä¸»æŸ¥è¯¢ä¸­æœ‰å¤šä¸ªåˆ—ï¼Œç”¨äºä¸å­æŸ¥è¯¢é€‰ä¸­çš„åˆ—ç›¸æ¯”è¾ƒã€‚ å­æŸ¥è¯¢ä¸èƒ½ä½¿ç”¨ ORDER BYï¼Œä¸è¿‡ä¸»æŸ¥è¯¢å¯ä»¥ã€‚åœ¨å­æŸ¥è¯¢ä¸­ï¼ŒGROUP BY å¯ä»¥èµ·åˆ°åŒ ORDER BY ç›¸åŒçš„ä½œç”¨ã€‚ è¿”å›å¤šè¡Œæ•°æ®çš„å­æŸ¥è¯¢åªèƒ½åŒå¤šå€¼æ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œæ¯”å¦‚ IN æ“ä½œç¬¦ã€‚ SELECT åˆ—è¡¨ä¸­ä¸èƒ½åŒ…å«ä»»ä½•å¯¹ BLOBã€ARRAYã€CLOB æˆ–è€… NCLOB ç±»å‹å€¼çš„å¼•ç”¨ã€‚ å­æŸ¥è¯¢ä¸èƒ½ç›´æ¥ç”¨åœ¨èšåˆå‡½æ•°ä¸­ã€‚ BETWEEN æ“ä½œç¬¦ä¸èƒ½åŒå­æŸ¥è¯¢ä¸€èµ·ä½¿ç”¨ï¼Œä½†æ˜¯ BETWEEN æ“ä½œç¬¦å¯ä»¥ç”¨åœ¨å­æŸ¥è¯¢ä¸­ã€‚ SELECT è¯­å¥ä¸­çš„å­æŸ¥è¯¢ é€šå¸¸æƒ…å†µä¸‹å­æŸ¥è¯¢éƒ½ä¸ SELECT è¯­å¥ä¸€èµ·ä½¿ç”¨ï¼Œå…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT column_name [, column_name ]FROM table1 [, table2 ]WHERE column_name OPERATOR (SELECT column_name [, column_name ] FROM table1 [, table2 ] [WHERE]) ç¤ºä¾‹ï¼š è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 35 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¯•ä¸€ä¸‹åœ¨ SELECT è¯­å¥ä¸­è¿›è¡Œå­æŸ¥è¯¢ï¼š SQL SELECT * FROM CUSTOMERS WHERE ID IN (SELECT ID FROM CUSTOMERS WHERE SALARY 4500) ; ä¸Šè¿°è¯­å¥çš„æ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+---------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+---------+----------+| 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+---------+----------+ INSERT è¯­å¥ä¸­çš„å­æŸ¥è¯¢ï¼š å­æŸ¥è¯¢è¿˜å¯ä»¥ç”¨åœ¨ INSERT è¯­å¥ä¸­ã€‚INSERT è¯­å¥å¯ä»¥å°†å­æŸ¥è¯¢è¿”å›çš„æ•°æ®æ’å…¥åˆ°å…¶ä»–è¡¨ä¸­ã€‚å­æŸ¥è¯¢ä¸­é€‰å–çš„æ•°æ®å¯ä»¥è¢«ä»»ä½•å­—ç¬¦ã€æ—¥æœŸæˆ–è€…æ•°å€¼å‡½æ•°æ‰€ä¿®é¥°ã€‚ å…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š INSERT INTO table_name [ (column1 [, column2 ]) ] SELECT [ *|column1 [, column2 ] FROM table1 [, table2 ] [ WHERE VALUE OPERATOR ] ç¤ºä¾‹ï¼š è€ƒè™‘ä¸ CUSTOMERS è¡¨æ‹¥æœ‰ç›¸ä¼¼ç»“æ„çš„ CUSTOMERS_BKP è¡¨ã€‚ç°åœ¨è¦å°† CUSTOMER è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®å¤åˆ¶åˆ° CUSTOMERS_BKP è¡¨ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š SQL INSERT INTO CUSTOMERS_BKP SELECT * FROM CUSTOMERS WHERE ID IN (SELECT ID FROM CUSTOMERS) ; UPDATE è¯­å¥ä¸­çš„å­æŸ¥è¯¢ï¼š å­æŸ¥è¯¢å¯ä»¥ç”¨åœ¨ UPDATE è¯­å¥ä¸­ã€‚å½“å­æŸ¥è¯¢åŒ UPDATE ä¸€èµ·ä½¿ç”¨çš„æ—¶å€™ï¼Œæ—¢å¯ä»¥æ›´æ–°å•ä¸ªåˆ—ï¼Œä¹Ÿå¯æ›´æ–°å¤šä¸ªåˆ—ã€‚ å…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š UPDATE tableSET column_name = new_value[ WHERE OPERATOR [ VALUE ] (SELECT COLUMN_NAME FROM TABLE_NAME) [ WHERE) ] ç¤ºä¾‹ï¼š å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä»½ CUSTOMERS_BKP è¡¨ä½œä¸º CUSTOMERS è¡¨çš„å¤‡ä»½ã€‚ ä¸‹é¢çš„ç¤ºä¾‹å°† CUSTOMERS è¡¨ä¸­æ‰€æœ‰ AGE å¤§äºæˆ–è€…ç­‰äº 27 çš„å®¢æˆ·çš„ SALARY å­—æ®µéƒ½å˜ä¸ºäº†åŸæ¥çš„ 0.25 å€ï¼š SQL UPDATE CUSTOMERS SET SALARY = SALARY * 0.25 WHERE AGE IN (SELECT AGE FROM CUSTOMERS_BKP WHERE AGE = 27 ); è¿™å°†å½±å“ä¸¤è¡Œæ•°æ®ï¼Œéšå CUSTOMERS è¡¨ä¸­çš„è®°å½•å°†å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 35 | Ahmedabad | 125.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 2125.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ DELETE è¯­å¥ä¸­çš„å­æŸ¥è¯¢ï¼š å¦‚åŒå‰é¢æåˆ°çš„å…¶ä»–è¯­å¥ä¸€æ ·ï¼Œå­æŸ¥è¯¢è¿˜å¯ä»¥åŒ DELETE è¯­å¥ä¸€èµ·ä½¿ç”¨ã€‚ å…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š DELETE FROM TABLE_NAME[ WHERE OPERATOR [ VALUE ] (SELECT COLUMN_NAME FROM TABLE_NAME) [ WHERE) ] ç¤ºä¾‹ï¼š å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä»½ CUSTOMERS_BKP è¡¨ä½œä¸º CUSTOMERS è¡¨çš„å¤‡ä»½ã€‚ ä¸‹é¢çš„ç¤ºä¾‹å°†ä» CUSTOMERS è¡¨ä¸­åˆ é™¤æ‰€æœ‰ AGE å¤§äºæˆ–è€…ç­‰äº 27 çš„è®°å½•ï¼š SQL DELETE FROM CUSTOMERS WHERE AGE IN (SELECT AGE FROM CUSTOMERS_BKP WHERE AGE 27 ); è¿™å°†å½±å“ä¸¤è¡Œæ•°æ®ï¼Œéšå CUSTOMERS è¡¨ä¸­çš„è®°å½•å°†å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+---------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+---------+----------+| 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+---------+----------+"},{"title":"SQL SELECT INTOè¯­å¥","path":"/wiki/sql/sentence/selectinto.html","content":"SQL SELECT INTO è¯­å¥ ä½¿ç”¨ SQLï¼Œæ‚¨å¯ä»¥å°†ä¿¡æ¯ä»ä¸€ä¸ªè¡¨ä¸­å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¡¨ä¸­ã€‚ SELECT INTO è¯­å¥ä»ä¸€ä¸ªè¡¨ä¸­å¤åˆ¶æ•°æ®ï¼Œç„¶åå°†æ•°æ®æ’å…¥åˆ°å¦ä¸€ä¸ªæ–°è¡¨ä¸­ã€‚ SQL SELECT INTO è¯­æ³•æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„åˆ—éƒ½å¤åˆ¶åˆ°æ–°è¡¨ä¸­ï¼š SELECT *INTO newtable [IN externaldb]FROM table1; æˆ–è€…åªå¤åˆ¶å¸Œæœ›çš„åˆ—æ’å…¥åˆ°æ–°è¡¨ä¸­ï¼š SELECT column_name(s)INTO newtable [IN externaldb]FROM table1; **æç¤ºï¼š**å°†ä½¿ç”¨SELECTè¯­å¥ä¸­å®šä¹‰çš„åˆ—åå’Œç±»å‹åˆ›å»ºæ–°è¡¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ASå­å¥æ¥åº”ç”¨ä¸€ä¸ªæ–°åç§°ã€‚ SQL SELECT INTO å®ä¾‹ åˆ›å»º Customers çš„å¤‡ä»½å¤ä»¶ï¼š SELECT *INTO CustomersBackup2013FROM Customers; è¯·ä½¿ç”¨ IN å­å¥æ¥å¤åˆ¶è¡¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼š SELECT *INTO CustomersBackup2013 IN Backup.mdbFROM Customers; åªå¤åˆ¶ä¸€äº›åˆ—æ’å…¥åˆ°æ–°è¡¨ä¸­ï¼š SELECT CustomerName,ContactNameINTO CustomersBackup2013FROM Customers; åªå¤åˆ¶å¾·å›½çš„å®¢æˆ·æ’å…¥åˆ°æ–°è¡¨ä¸­ï¼š SELECT *INTO CustomersBackup2013FROM CustomersWHERE Country=Germany; å¤åˆ¶å¤šä¸ªè¡¨ä¸­çš„æ•°æ®æ’å…¥åˆ°æ–°è¡¨ä¸­ï¼š SELECT Customers.CustomerName, Orders.OrderIDINTO CustomersOrderBackup2013FROM CustomersLEFT JOIN OrdersON Customers.CustomerID=Orders.CustomerID; **ã€€æç¤ºï¼š**SELECT INTO è¯­å¥å¯ä»¥ç”¨äºåœ¨å¦ä¸€ç§æ¨¡å¼ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºè¡¨ã€‚åªéœ€æ·»åŠ WHEREå­å¥ï¼Œä½¿æŸ¥è¯¢è¿”å›æ—¶æ²¡æœ‰æ•°æ®ï¼š SELECT *INTO newtableFROM table1WHERE 1=0;"},{"title":"SQL TRUNCATE TABLE å‘½ä»¤","path":"/wiki/sql/sentence/truncate.html","content":"SQL TRUNCATE TABLE å‘½ä»¤ SQL TRUNCATE TABLE å‘½ä»¤ç”¨äºåˆ é™¤ç°æœ‰æ•°æ®è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ DROP TABLE å‘½ä»¤æ¥åˆ é™¤æ•´ä¸ªæ•°æ®è¡¨ï¼Œä¸è¿‡ DROP TABLE å‘½ä»¤ä¸ä½†ä¼šåˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®ï¼Œè¿˜ä¼šå°†æ•´ä¸ªè¡¨ç»“æ„ä»æ•°æ®åº“ä¸­ç§»é™¤ã€‚å¦‚æœæƒ³è¦é‡æ–°å‘è¡¨ä¸­å­˜å‚¨æ•°æ®çš„è¯ï¼Œå¿…é¡»é‡å»ºè¯¥æ•°æ®è¡¨ã€‚ è¯­æ³• **ã€€TRUNCATE TABLE** çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š TRUNCATE TABLE table_name; ç¤ºä¾‹ï¼š è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº† TRUNCATE å‘½ä»¤çš„ç”¨æ³•ï¼š TRUNCATE TABLE CUSTOMERS; ç°åœ¨ï¼ŒCUSTOMERS è¡¨å·²ç»è¢«æ¸…ç©ºäº†ï¼ŒSELECT è¯­å¥çš„è¾“å‡ºåº”å½“å¦‚ä¸‹æ‰€ç¤ºï¼š SQL SELECT * FROM CUSTOMERS;Empty set (0.00 sec)"},{"title":"SQL UNIONè¿ç®—ç¬¦","path":"/wiki/sql/sentence/union.html","content":"SQL UNION è¿ç®—ç¬¦ UNIONè¿ç®—ç¬¦ç”¨äºç»„åˆä¸¤ä¸ªæˆ–æ›´å¤šSELECTè¯­å¥çš„ç»“æœé›†ï¼Œè€Œä¸è¿”å›ä»»ä½•é‡å¤çš„è¡Œã€‚ UNIONä¸­çš„æ¯ä¸ªSELECTè¯­å¥å¿…é¡»å…·æœ‰ç›¸åŒçš„åˆ—æ•° è¿™äº›åˆ—ä¹Ÿå¿…é¡»å…·æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ æ¯ä¸ªSELECTè¯­å¥ä¸­çš„åˆ—ä¹Ÿå¿…é¡»ä»¥ç›¸åŒçš„é¡ºåºæ’åˆ— æ¯ä¸ªSELECTè¯­å¥å¿…é¡»æœ‰ç›¸åŒæ•°ç›®çš„åˆ—è¡¨è¾¾å¼ ä½†æ˜¯æ¯ä¸ªSELECTè¯­å¥çš„é•¿åº¦ä¸å¿…ç›¸åŒ SQL UNION è¯­æ³•1SELECT column_name(s) FROM table1UNIONSELECT column_name(s) FROM table2; **æ³¨é‡Šï¼š**é»˜è®¤æƒ…å†µä¸‹ï¼ŒUNION è¿ç®—ç¬¦é€‰æ‹©ä¸€ä¸ªä¸åŒçš„å€¼ã€‚å¦‚æœå…è®¸é‡å¤å€¼ï¼Œè¯·ä½¿ç”¨ UNION ALLã€‚ SQL UNION è¯­æ³•2SELECT column_name(s) FROM table1[WHERE condition]UNIONSELECT column_name(s) FROM table2[WHERE condition]; ç»™å®šçš„æ¡ä»¶å¯ä»¥æ˜¯åŸºäºæ‚¨çš„éœ€æ±‚çš„ä»»ä½•ç»™å®šè¡¨è¾¾å¼ã€‚ SQL UNION ALL è¯­æ³•1UNION Allè¿ç®—ç¬¦ç”¨äºç»„åˆä¸¤ä¸ªSELECTè¯­å¥(åŒ…æ‹¬é‡å¤è¡Œ)çš„ç»“æœã€‚ é€‚ç”¨äºUNIONå­å¥çš„ç›¸åŒè§„åˆ™å°†é€‚ç”¨äºUNION Allæ“ä½œç¬¦ã€‚ SELECT column_name(s) FROM table1UNION ALLSELECT column_name(s) FROM table2; **æ³¨é‡Šï¼š**UNIONç»“æœé›†ä¸­çš„åˆ—åæ€»æ˜¯ç­‰äºUNIONä¸­ç¬¬ä¸€ä¸ªSELECTè¯­å¥ä¸­çš„åˆ—åã€‚ SQL UNION ALL è¯­æ³•2SELECT column_name(s) FROM table1[WHERE condition]UNION ALLSELECT column_name(s) FROM table2[WHERE condition]; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯â€Customersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico é€‰è‡ª â€œSuppliersâ€ è¡¨çš„æ•°æ®ï¼š SupplierID SupplierName ContactName Address City PostalCode Country 1 Exotic Liquid Charlotte Cooper 49 Gilbert St. Londona EC1 4SD UK 2 New Orleans Cajun Delights Shelley Burke P.O. Box 78934 New Orleans 70117 USA 3 Grandma Kellyâ€™s Homestead Regina Murphy 707 Oxford Rd. Ann Arbor 48104 USA SQL UNION å®ä¾‹ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ å’Œ â€œSuppliersâ€ è¡¨ä¸­é€‰å–æ‰€æœ‰ä¸åŒçš„åŸå¸‚ï¼ˆåªæœ‰ä¸åŒçš„å€¼ï¼‰ï¼š ç¤ºä¾‹ï¼š SELECT City FROM CustomersUNIONSELECT City FROM SuppliersORDER BY City; **æ³¨é‡Šï¼š**ä¸èƒ½ç”¨ UNION æ¥åˆ—å‡ºä¸¤ä¸ªè¡¨ä¸­çš„æ‰€æœ‰åŸå¸‚ã€‚å¦‚æœä¸€äº›å®¢æˆ·å’Œä¾›åº”å•†æ¥è‡ªåŒä¸€ä¸ªåŸå¸‚ï¼Œæ¯ä¸ªåŸå¸‚å°†åªè¢«åˆ—å…¥ä¸€ä¸ªåˆ—è¡¨ã€‚UNIONå°†åªé€‰æ‹©ä¸åŒçš„å€¼ã€‚è¯·ä½¿ç”¨UNION ALLé€‰æ‹©é‡å¤å€¼! SQL UNION ALL å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä½¿ç”¨ UNION ALL ä» â€œCustomersâ€å’Œâ€Suppliersâ€ è¡¨ä¸­é€‰æ‹©æ‰€æœ‰åŸå¸‚ï¼ˆä¹Ÿæ˜¯é‡å¤çš„å€¼ï¼‰ï¼š ç¤ºä¾‹ï¼š SELECT City FROM CustomersUNION ALLSELECT City FROM SuppliersORDER BY City; å¸¦æœ‰ WHERE çš„ SQL UNION ALL ä»¥ä¸‹SQLè¯­å¥ä½¿ç”¨UNIONALLä»â€Customersâ€å’Œ â€œSuppliersâ€ è¡¨ä¸­é€‰æ‹©æ‰€æœ‰å¾·å›½åŸå¸‚ï¼ˆä¹Ÿæ˜¯é‡å¤æ•°å€¼ï¼‰ï¼š ç¤ºä¾‹ï¼š SELECT City, Country FROM CustomersWHERE Country=GermanyUNION ALLSELECT City, Country FROM SuppliersWHERE Country=GermanyORDER BY City; SQL UNIONä¸WHERE ä»¥ä¸‹SQLè¯­å¥ä»â€å®¢æˆ·â€å’Œâ€ä¾›åº”å•†â€ä¸­é€‰æ‹©æ‰€æœ‰ä¸åŒçš„å¾·å›½åŸå¸‚ï¼ˆåªæœ‰ä¸åŒçš„å€¼ï¼‰ï¼š SELECT City, Country FROM CustomersWHERE Country=GermanyUNIONSELECT City, Country FROM SuppliersWHERE Country=GermanyORDER BY City; å¦ä¸€ä¸ªUNIONç¤ºä¾‹ ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºäº†æ‰€æœ‰å®¢æˆ·å’Œä¾›åº”å•†ï¼š SELECT Customer As Type, ContactName, City, CountryFROM CustomersUNIONSELECT Supplier, ContactName, City, CountryFROM Suppliers; è¿˜æœ‰å¦å¤–ä¸¤ä¸ªå­å¥(å³è¿ç®—ç¬¦)ï¼Œå®ƒä»¬ç±»ä¼¼äºUNIONå­å¥ï¼š SQL INTERSECTå­å¥ç”¨äºç»„åˆä¸¤ä¸ªSELECTè¯­å¥ï¼Œä½†åªè¿”å›ä¸ç¬¬äºŒä¸ªSELECTè¯­å¥ä¸­çš„ä¸€è¡Œç›¸åŒçš„ç¬¬ä¸€ä¸ªSELECTè¯­å¥ä¸­çš„è¡Œã€‚ SQL EXCEPTå­å¥ç”¨äºç»„åˆä¸¤ä¸ªSELECTè¯­å¥ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªSELECTè¯­å¥ä¸­æ²¡æœ‰ç”±ç¬¬äºŒä¸ªSELECTè¯­å¥è¿”å›çš„è¡Œã€‚"},{"title":"SQL UNIONå­å¥","path":"/wiki/sql/sentence/unionziju.html","content":"SQL UNION å­å¥ SQL UNION å­å¥è¿ç®—ç¬¦ç”¨äºå°†ä¸¤ä¸ªæˆ–è€…æ›´å¤šçš„ SELECT è¯­å¥çš„è¿ç®—ç»“æœç»„åˆèµ·æ¥ã€‚ åœ¨ä½¿ç”¨ UNION çš„æ—¶å€™ï¼Œæ¯ä¸ª SELECT è¯­å¥å¿…é¡»æœ‰ç›¸åŒæ•°é‡çš„é€‰ä¸­åˆ—ã€ç›¸åŒæ•°é‡çš„åˆ—è¡¨è¾¾å¼ã€ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”å®ƒä»¬å‡ºç°çš„æ¬¡åºè¦ä¸€è‡´ï¼Œä¸è¿‡é•¿åº¦ä¸ä¸€å®šè¦ç›¸åŒã€‚ è¯­æ³•**ã€€UNION** å­å¥çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT column1 [, column2 ]FROM table1 [, table2 ][WHERE condition]UNIONSELECT column1 [, column2 ]FROM table1 [, table2 ][WHERE condition] è¿™é‡Œçš„æ¡ä»¶å¯ä»¥æ˜¯ä»»ä½•æ ¹æ®ä½ çš„éœ€è¦è€Œè®¾çš„æ¡ä»¶ã€‚ ç¤ºä¾‹ è€ƒè™‘å¦‚ä¸‹ä¸¤å¼ è¡¨ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰å¦ä¸€å¼ è¡¨æ˜¯ ORDERS è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š +-----+---------------------+-------------+--------+|OID | DATE | CUSTOMER_ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨ SELECT è¯­å¥å°†è¿™ä¸¤å¼ è¡¨è¿æ¥èµ·æ¥ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS LEFT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_IDUNION SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS RIGHT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID; ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +------+----------+--------+---------------------+| ID | NAME | AMOUNT | DATE | +------+----------+--------+---------------------+ | 1 | Ramesh | NULL | NULL || 2 | Khilan | 1560 | 2009-11-20 00:00:00 | | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 4 | Chaitali | 2060 | 2008-05-20 00:00:00 || 5 | Hardik | NULL | NULL | | 6 | Komal | NULL | NULL || 7 | Muffy | NULL | NULL | +------+----------+--------+---------------------+ UNION ALL å­å¥ï¼š UNION ALL è¿ç®—ç¬¦ç”¨äºå°†ä¸¤ä¸ª SELECT è¯­å¥çš„ç»“æœç»„åˆåœ¨ä¸€èµ·ï¼Œé‡å¤è¡Œä¹ŸåŒ…å«åœ¨å†…ã€‚ UNION ALL è¿ç®—ç¬¦æ‰€éµä»çš„è§„åˆ™ä¸ UNION ä¸€è‡´ã€‚ è¯­æ³•ï¼š**ã€€UNION ALL**çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š SELECT column1 [, column2 ]FROM table1 [, table2 ][WHERE condition]UNION ALLSELECT column1 [, column2 ]FROM table1 [, table2 ][WHERE condition] ç¤ºä¾‹ï¼šè€ƒè™‘å¦‚ä¸‹ä¸¤å¼ è¡¨ï¼Œï¼ˆaï¼‰CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ï¼ˆbï¼‰å¦ä¸€å¼ è¡¨æ˜¯ ORDERS è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š +-----+---------------------+-------------+--------+|OID | DATE | CUSTOMER_ID | AMOUNT | +-----+---------------------+-------------+--------+ | 102 | 2009-10-08 00:00:00 | 3 | 3000 || 100 | 2009-10-08 00:00:00 | 3 | 1500 | | 101 | 2009-11-20 00:00:00 | 2 | 1560 || 103 | 2008-05-20 00:00:00 | 4 | 2060 | +-----+---------------------+-------------+--------+ ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç”¨ SELECT è¯­å¥å°†è¿™ä¸¤å¼ è¡¨è¿æ¥èµ·æ¥ï¼š SQL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS LEFT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_IDUNION ALL SELECT ID, NAME, AMOUNT, DATE FROM CUSTOMERS RIGHT JOIN ORDERS ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID; ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +------+----------+--------+---------------------+| ID | NAME | AMOUNT | DATE | +------+----------+--------+---------------------+ | 1 | Ramesh | NULL | NULL || 2 | Khilan | 1560 | 2009-11-20 00:00:00 | | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 4 | Chaitali | 2060 | 2008-05-20 00:00:00 || 5 | Hardik | NULL | NULL | | 6 | Komal | NULL | NULL || 7 | Muffy | NULL | NULL | | 3 | kaushik | 3000 | 2009-10-08 00:00:00 || 3 | kaushik | 1500 | 2009-10-08 00:00:00 | | 2 | Khilan | 1560 | 2009-11-20 00:00:00 || 4 | Chaitali | 2060 | 2008-05-20 00:00:00 | +------+----------+--------+---------------------+ å¦å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªå­å¥ï¼ˆäº¦å³è¿ç®—æ³•ï¼‰ä¸ UNION å­å¥éå¸¸ç›¸åƒï¼š SQL INTERSECT å­å¥ï¼šç”¨äºç»„åˆä¸¤ä¸ª SELECT è¯­å¥ï¼Œä½†æ˜¯åªè¿”å›ä¸¤ä¸ª SELECT è¯­å¥çš„ç»“æœä¸­éƒ½æœ‰çš„è¡Œã€‚ SQL EXCEPT å­å¥ï¼šç»„åˆä¸¤ä¸ª SELECT è¯­å¥ï¼Œå¹¶å°†ç¬¬ä¸€ä¸ª SELECT è¯­å¥çš„ç»“æœä¸­å­˜åœ¨ï¼Œä½†æ˜¯ç¬¬äºŒä¸ª SELECT è¯­å¥çš„ç»“æœä¸­ä¸å­˜åœ¨çš„è¡Œè¿”å›ã€‚"},{"title":"SQL ä¸´æ—¶è¡¨","path":"/wiki/sql/sentence/temp.html","content":"SQL ä¸´æ—¶è¡¨ æŸäº›å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ”¯æŒä¸´æ—¶è¡¨ã€‚ä¸´æ—¶è¡¨æ˜¯ä¸€é¡¹å¾ˆæ£’çš„ç‰¹æ€§ï¼Œèƒ½å¤Ÿè®©ä½ åƒæ“ä½œæ™®é€šçš„ SQL æ•°æ®è¡¨ä¸€æ ·ï¼Œä½¿ç”¨ SELECTã€UPDATE å’Œ JOIN ç­‰åŠŸèƒ½æ¥å­˜å‚¨æˆ–è€…æ“ä½œä¸­é—´ç»“æœã€‚ ä¸´æ—¶è¡¨æœ‰æ—¶å€™å¯¹äºä¿å­˜ä¸´æ—¶æ•°æ®éå¸¸æœ‰ç”¨ã€‚æœ‰å…³ä¸´æ—¶è¡¨ä½ éœ€è¦çŸ¥é“çš„æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œå®ƒä»¬ä¼šåœ¨å½“å‰çš„ç»ˆç«¯ä¼šè¯ç»“æŸåè¢«åˆ é™¤ã€‚ ä¸´æ—¶è¡¨è‡ª MySQL 3.23 èµ·å—åˆ°æ”¯æŒã€‚å¦‚æœä½ çš„ MySQL ç‰ˆæœ¬æ¯” 3.23 è¿˜è€ï¼Œé‚£ä¹ˆä½ å°±ä¸èƒ½ä½¿ç”¨ä¸´æ—¶è¡¨äº†ï¼Œä¸è¿‡ä½ å¯ä»¥ä½¿ç”¨å †è¡¨ï¼ˆheap tableï¼‰ã€‚ å¦‚å…ˆå‰æ‰€è¨€ï¼Œä¸´æ—¶è¡¨åªåœ¨ä¼šè¯æœŸé—´å­˜åœ¨ã€‚å¦‚æœä½ åœ¨ PHP è„šæœ¬ä¸­æ“ä½œæ•°æ®åº“ï¼Œé‚£ä¹ˆä¸´æ—¶è¡¨å°†åœ¨è„šæœ¬æ‰§è¡Œå®Œæ¯•æ—¶è¢«è‡ªåŠ¨é”€æ¯ã€‚å¦‚æœä½ æ˜¯é€šè¿‡ MySQL çš„å®¢æˆ·ç«¯ç¨‹åºè¿æ¥åˆ° MySQL æ•°æ®åº“æœåŠ¡å™¨çš„ï¼Œé‚£ä¹ˆä¸´æ—¶è¡¨å°†ä¼šå­˜åœ¨åˆ°ä½ å…³é—­å®¢æˆ·ç«¯æˆ–è€…æ‰‹åŠ¨å°†å…¶åˆ é™¤ã€‚ ç¤ºä¾‹ ä¸‹é¢çš„ç¤ºä¾‹å‘ä½ å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ä¸´æ—¶è¡¨ï¼š mysql CREATE TEMPORARY TABLE SALESSUMMARY ( - product_name VARCHAR(50) NOT NULL - , total_sales DECIMAL(12,2) NOT NULL DEFAULT 0.00 - , avg_unit_price DECIMAL(7,2) NOT NULL DEFAULT 0.00 - , total_units_sold INT UNSIGNED NOT NULL DEFAULT 0);Query OK, 0 rows affected (0.00 sec)mysql INSERT INTO SALESSUMMARY - (product_name, total_sales, avg_unit_price, total_units_sold) - VALUES - (cucumber, 100.25, 90, 2);mysql SELECT * FROM SALESSUMMARY;+--------------+-------------+----------------+------------------+| product_name | total_sales | avg_unit_price | total_units_sold |+--------------+-------------+----------------+------------------+| cucumber | 100.25 | 90.00 | 2 |+--------------+-------------+----------------+------------------+1 row in set (0.00 sec) å½“ä½ ä¸‹è¾¾ SHOW TABLES å‘½ä»¤çš„æ—¶å€™ï¼Œä¸´æ—¶è¡¨æ˜¯ä¸ä¼šå‡ºç°åœ¨ç»“æœåˆ—è¡¨å½“ä¸­çš„ã€‚ç°åœ¨ï¼Œå¦‚æœä½ é€€å‡º MySQL ä¼šè¯ï¼Œç„¶åå†æ‰§è¡Œ SELECT å‘½ä»¤çš„è¯ï¼Œä½ å°†ä¸èƒ½ä»æ•°æ®åº“ä¸­å–å›ä»»ä½•æ•°æ®ï¼Œä½ çš„ä¸´æ—¶è¡¨ä¹Ÿå·²ç»ä¸å¤å­˜åœ¨äº†ã€‚ åˆ é™¤ä¸´æ—¶è¡¨ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„ä¸´æ—¶è¡¨éƒ½ç”± MySQL åœ¨æ•°æ®åº“è¿æ¥å…³é—­æ—¶åˆ é™¤ã€‚ä¸è¿‡ï¼Œæœ‰æ—¶å€™ä½ è¿˜æ˜¯ä¼šæƒ³è¦åœ¨ä¼šè¯æœŸé—´å°†å…¶åˆ é™¤ï¼Œæ­¤æ—¶ä½ éœ€è¦ä½¿ç”¨ DROP TABLE å‘½ä»¤æ¥è¾¾åˆ°ç›®çš„ã€‚ ä¸‹é¢æ˜¯åˆ é™¤ä¸´æ—¶è¡¨çš„ç¤ºä¾‹ï¼š mysql CREATE TEMPORARY TABLE SALESSUMMARY ( - product_name VARCHAR(50) NOT NULL - , total_sales DECIMAL(12,2) NOT NULL DEFAULT 0.00 - , avg_unit_price DECIMAL(7,2) NOT NULL DEFAULT 0.00 - , total_units_sold INT UNSIGNED NOT NULL DEFAULT 0);Query OK, 0 rows affected (0.00 sec)mysql INSERT INTO SALESSUMMARY - (product_name, total_sales, avg_unit_price, total_units_sold) - VALUES - (cucumber, 100.25, 90, 2);mysql SELECT * FROM SALESSUMMARY;+--------------+-------------+----------------+------------------+| product_name | total_sales | avg_unit_price | total_units_sold |+--------------+-------------+----------------+------------------+| cucumber | 100.25 | 90.00 | 2 |+--------------+-------------+----------------+------------------+1 row in set (0.00 sec)mysql DROP TABLE SALESSUMMARY;mysql SELECT * FROM SALESSUMMARY;ERROR 1146: Table TUTORIALS.SALESSUMMARY doesnt exist"},{"title":"SQL æ›´æ–°","path":"/wiki/sql/sentence/update.html","content":"SQL UPDATE è¯­å¥ UPDATE è¯­å¥ç”¨äºæ›´æ–°è¡¨ä¸­å·²å­˜åœ¨çš„è®°å½•ã€‚ è¿˜å¯ä»¥ä½¿ç”¨ANDæˆ–ORè¿ç®—ç¬¦ç»„åˆå¤šä¸ªæ¡ä»¶ã€‚ SQL UPDATE è¯­æ³•å…·æœ‰WHEREå­å¥çš„UPDATEæŸ¥è¯¢çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š UPDATE table_nameSET column1 = value1, column2 = value2, ...WHERE condition; è¯·æ³¨æ„ æ›´æ–°è¡¨ä¸­çš„è®°å½•æ—¶è¦å°å¿ƒï¼ è¦æ³¨æ„SQL UPDATE è¯­å¥ä¸­çš„ WHERE å­å¥ï¼ WHEREå­å¥æŒ‡å®šå“ªäº›è®°å½•éœ€è¦æ›´æ–°ã€‚å¦‚æœçœç•¥WHEREå­å¥ï¼Œæ‰€æœ‰è®°å½•éƒ½å°†æ›´æ–°ï¼ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯ â€œCustomersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL UPDATE å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä¸ºç¬¬ä¸€ä¸ªå®¢æˆ·ï¼ˆCustomerID 1ï¼‰æ›´æ–°äº†â€ContactNameâ€å’Œâ€Cityâ€ï¼š ç¤ºä¾‹ï¼š UPDATE CustomersSET ContactName = Alfred Schmidt, City= FrankfurtWHERE CustomerID = 1; ç°åœ¨ï¼Œé€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Alfred Schmidt Obere Str. 57 Frankfurt 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden æ›´æ–°å¤šä¸ªè®°å½• WHEREå­å¥å†³å®šäº†å°†è¦æ›´æ–°çš„è®°å½•æ•°é‡ã€‚ ä»¥ä¸‹SQLè¯­å¥å°†æŠŠå›½å®¶åœ°åŒºä¸ºâ€Mexicoâ€çš„æ‰€æœ‰è®°å½•çš„è”ç³»äººå§“åæ›´æ–°ä¸ºâ€Juanâ€ï¼š UPDATE CustomersSET ContactName=JuanWHERE Country=Mexico; â€œCustomersâ€è¡¨ä¸­çš„é€‰æ‹©ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Alfred Schmidt Obere Str. 57 Frankfurt 12209 Germany 2 Ana Trujillo Emparedados y helados Juan Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Juan Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden Update è­¦å‘Šï¼ æ›´æ–°è®°å½•æ—¶è¦å°å¿ƒã€‚å¦‚æœæ‚¨çœç•¥WHEREå­å¥ï¼Œæ‰€æœ‰è®°å½•å°†è¢«æ›´æ–°ï¼ UPDATE CustomersSET ContactName=Juan; â€œCustomersâ€ è¡¨å°†å¦‚ä¸‹æ‰€ç¤ºï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Juan Obere Str. 57 Frankfurt 12209 Germany 2 Ana Trujillo Emparedados y helados Juan Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Juan Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Juan 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Juan BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22"},{"title":"SQL USEè¯­å¥","path":"/wiki/sql/sentence/use.html","content":"SQL é€‰æ‹©æ•°æ®åº“ USEè¯­å¥ å½“SQL Schemaä¸­æœ‰å¤šä¸ªæ•°æ®åº“æ—¶ï¼Œåœ¨å¼€å§‹æ“ä½œä¹‹å‰ï¼Œéœ€è¦é€‰æ‹©ä¸€ä¸ªæ‰§è¡Œæ‰€æœ‰æ“ä½œçš„æ•°æ®åº“ã€‚ SQL USEè¯­å¥ç”¨äºé€‰æ‹©SQLæ¶æ„ä¸­çš„ä»»ä½•ç°æœ‰æ•°æ®åº“ã€‚ å¥æ³•USEè¯­å¥çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤º : USE DatabaseName; æ•°æ®åº“åç§°åœ¨RDBMSä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚ å®ä¾‹ æ‚¨å¯ä»¥æŸ¥çœ‹å¯ç”¨çš„æ•°æ®åº“ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š SQL SHOW DATABASES;+--------------------+| Database |+--------------------+| information_schema || AMROOD || TUTORIALSPOINT || mysql || orig || test |+--------------------+6 rows in set (0.00 sec) ç°åœ¨ï¼Œå¦‚æœæ‚¨æƒ³ä½¿ç”¨AMROODæ•°æ®åº“ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥æ‰§è¡Œä»¥ä¸‹SQLå‘½ä»¤å¹¶å¼€å§‹ä½¿ç”¨AMROODæ•°æ®åº“ã€‚ SQL USE AMROOD;"},{"title":"SQL ä½¿ç”¨è§†å›¾","path":"/wiki/sql/sentence/useview.html","content":"SQL ä½¿ç”¨è§†å›¾ è§†å›¾æ— éå°±æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­å¹¶å…·æœ‰åå­—çš„ SQL è¯­å¥ï¼Œæˆ–è€…è¯´æ˜¯ä»¥é¢„å®šä¹‰çš„ SQL æŸ¥è¯¢çš„å½¢å¼å­˜åœ¨çš„æ•°æ®è¡¨çš„æˆåˆ†ã€‚ è§†å›¾å¯ä»¥åŒ…å«è¡¨ä¸­çš„æ‰€æœ‰åˆ—ï¼Œæˆ–è€…ä»…åŒ…å«é€‰å®šçš„åˆ—ã€‚è§†å›¾å¯ä»¥åˆ›å»ºè‡ªä¸€ä¸ªæˆ–è€…å¤šä¸ªè¡¨ï¼Œè¿™å–å†³äºåˆ›å»ºè¯¥è§†å›¾çš„ SQL è¯­å¥çš„å†™æ³•ã€‚ è§†å›¾ï¼Œä¸€ç§è™šæ‹Ÿçš„è¡¨ï¼Œå…è®¸ç”¨æˆ·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š ä»¥ç”¨æˆ·æˆ–è€…æŸäº›ç±»å‹çš„ç”¨æˆ·æ„Ÿè§‰è‡ªç„¶æˆ–è€…ç›´è§‚çš„æ–¹å¼æ¥ç»„ç»‡æ•°æ®ï¼› é™åˆ¶å¯¹æ•°æ®çš„è®¿é—®ï¼Œä»è€Œä½¿å¾—ç”¨æˆ·ä»…èƒ½å¤Ÿçœ‹åˆ°æˆ–è€…ä¿®æ”¹ï¼ˆæŸäº›æƒ…å†µä¸‹ï¼‰ä»–ä»¬éœ€è¦çš„æ•°æ®ï¼› ä»å¤šä¸ªè¡¨ä¸­æ±‡æ€»æ•°æ®ï¼Œä»¥äº§ç”ŸæŠ¥è¡¨ã€‚ åˆ›å»ºè§†å›¾ åœ¨ SQL ä¸­ï¼Œè§†å›¾æ˜¯åŸºäº SQL è¯­å¥çš„ç»“æœé›†çš„å¯è§†åŒ–è¡¨ã€‚ æ•°æ®åº“è§†å›¾ç”± CREATE VIEW è¯­å¥åˆ›å»ºã€‚è§†å›¾å¯ä»¥åˆ›å»ºè‡ªå•ä¸ªè¡¨ã€å¤šä¸ªè¡¨æˆ–è€…å…¶ä»–è§†å›¾ã€‚ è§†å›¾ä¸­çš„å­—æ®µæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ä¸­çœŸå®è¡¨ä¸­çš„å­—æ®µã€‚ åœ¨ä½¿ç”¨æ—¶è§†å›¾å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªâ€è™šæ‹Ÿè¡¨â€ã€‚ è¦åˆ›å»ºè§†å›¾çš„è¯ï¼Œç”¨æˆ·å¿…é¡»æœ‰é€‚å½“çš„ç³»ç»Ÿæƒé™ã€‚å…·ä½“éœ€è¦ä½•ç§æƒé™éšæ•°æ®åº“ç³»ç»Ÿå®ç°çš„ä¸åŒè€Œä¸åŒã€‚ CREATE VIEW è¯­å¥çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š CREATE VIEW view_name ASSELECT column1, column2.....FROM table_nameWHERE [condition]; å’Œæ™®é€šçš„ SQL SELECT æŸ¥è¯¢ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨ä¸Šé¢çš„ SELECT è¯­å¥ä¸­åŒ…å«å¤šä¸ªæ•°æ®è¡¨ã€‚ æ³¨é‡Šï¼šè§†å›¾æ€»æ˜¯æ˜¾ç¤ºæœ€æ–°æ•°æ®ï¼æ¯å½“ç”¨æˆ·æŸ¥è¯¢è§†å›¾æ—¶ï¼Œæ•°æ®åº“å¼•æ“å°±ä½¿ç”¨è§†å›¾çš„ SQL è¯­å¥é‡æ–°æ„å»ºæ•°æ®ã€‚ SQL CREATE VIEW ç¤ºä¾‹ ç¤ºä¾‹ä¸€è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢æ˜¯ç”± CUSTOMERS è¡¨åˆ›å»ºè§†å›¾çš„ä¾‹å­ã€‚è¯¥è§†å›¾åŒ…å«æ¥è‡ª CUSTOMERS è¡¨çš„é¡¾å®¢çš„åå­—ï¼ˆnameï¼‰å’Œå¹´é¾„ï¼ˆageï¼‰ï¼š SQL CREATE VIEW CUSTOMERS_VIEW ASSELECT name, ageFROM CUSTOMERS; ç°åœ¨ï¼Œä½ å°±å¯ä»¥åƒæŸ¥è¯¢æ™®é€šçš„æ•°æ®è¡¨ä¸€æ ·æŸ¥è¯¢ CUSTOMERS_VIEW äº†ï¼š SQL SELECT * FROM CUSTOMERS_VIEW; ä¸Šè¿°è¯­å¥å°†ä¼šäº§ç”Ÿå¦‚ä¸‹è¿è¡Œç»“æœï¼š +----------+-----+| name | age |+----------+-----+| Ramesh | 32 || Khilan | 25 || kaushik | 23 || Chaitali | 25 || Hardik | 27 || Komal | 22 || Muffy | 24 |+----------+-----+ ç¤ºä¾‹ï¼’ä¸‹é¢æ˜¯ç”± CUSTOMERS è¡¨åˆ›å»ºè§†å›¾çš„ä¾‹å­ã€‚è¯¥è§†å›¾åŒ…å«æ¥è‡ª CUSTOMERS è¡¨ä¸­å¹´é¾„ï¼ˆageï¼‰ä¸º25çš„é¡¾å®¢çš„ADDRESSä¿¡æ¯ï¼š SQL CREATE VIEW CUSTOMERS_ADDRESS ASSELECT ADDRESSFROM CUSTOMERS;WHERE AGE=25; æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·æŸ¥è¯¢ä¸Šé¢è¿™ä¸ª CUSTOMERS_ADDRESS è§†å›¾ï¼š SQL SELECT * FROM CUSTOMERS_ADDRESS; æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘æŸ¥è¯¢æ·»åŠ æ¡ä»¶ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦æŸ¥çœ‹ â€œDelhiâ€ çš„æ•°æ®ï¼š SELECT * FROM CUSTOMERS_ADDRESSWHERE ADDRESS=Delhi; WITH CHECK OPTION WITH CHECK OPTION æ˜¯ CREATE VIEW è¯­å¥çš„ä¸€ä¸ªå¯é€‰é¡¹ã€‚ WITH CHECK OPTION ç”¨äºä¿è¯æ‰€æœ‰çš„ UPDATE å’Œ INSERT è¯­å¥éƒ½æ»¡è¶³è§†å›¾å®šä¹‰ä¸­çš„æ¡ä»¶ã€‚ å¦‚æœä¸èƒ½æ»¡è¶³è¿™äº›æ¡ä»¶ï¼ŒUPDATE æˆ– INSERT å°±ä¼šè¿”å›é”™è¯¯ã€‚ ä¸‹é¢çš„ä¾‹å­åˆ›å»ºçš„ä¹Ÿæ˜¯ CUSTOMERS_VIEW è§†å›¾ï¼Œä¸è¿‡è¿™æ¬¡ WITH CHECK OPTION æ˜¯æ‰“å¼€çš„ï¼š CREATE VIEW CUSTOMERS_VIEW ASSELECT name, ageFROM CUSTOMERSWHERE age IS NOT NULLWITH CHECK OPTION; è¿™é‡Œ WITH CHECK OPTION ä½¿å¾—è§†å›¾æ‹’ç»ä»»ä½• AGE å­—æ®µä¸º NULL çš„æ¡ç›®ï¼Œå› ä¸ºè§†å›¾çš„å®šä¹‰ä¸­ï¼ŒAGE å­—æ®µä¸èƒ½ä¸ºç©ºã€‚ æ›´æ–°è§†å›¾ åœ¨SQLè§†å›¾ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨ä¿®æ”¹æ•°æ®çš„DMLè¯­å¥ï¼Œå¦‚ INSERTã€UPDATEå’ŒDELETEã€‚ è§†å›¾å¯ä»¥åœ¨ç‰¹å®šçš„æƒ…å†µä¸‹æ›´æ–°ï¼š SELECT å­å¥ä¸èƒ½åŒ…å« DISTINCT å…³é”®å­— SELECT å­å¥ä¸èƒ½åŒ…å«ä»»ä½•æ±‡æ€»å‡½æ•°ï¼ˆsummary functionsï¼‰ SELECT å­å¥ä¸èƒ½åŒ…å«ä»»ä½•é›†åˆå‡½æ•°ï¼ˆset functionsï¼‰ SELECT å­å¥ä¸èƒ½åŒ…å«ä»»ä½•é›†åˆè¿ç®—ç¬¦ï¼ˆset operatorsï¼‰ SELECT å­å¥ä¸èƒ½åŒ…å« ORDER BY å­å¥ è§†å›¾ä¸èƒ½åŒ…å«è¿æ¥æ“ä½œç¬¦ è§†å›¾ä¸èƒ½åŒ…å«ä¼ªåˆ—æˆ–è¡¨è¾¾å¼ FROM å­å¥ä¸­ä¸èƒ½æœ‰å¤šä¸ªæ•°æ®è¡¨ WHERE å­å¥ä¸èƒ½åŒ…å«å­æŸ¥è¯¢ï¼ˆsubqueryï¼‰ æŸ¥è¯¢è¯­å¥ä¸­ä¸èƒ½æœ‰ GROUP BY æˆ–è€… HAVING è®¡ç®—å¾—å‡ºçš„åˆ—ä¸èƒ½æ›´æ–° è§†å›¾å¿…é¡»åŒ…å«åŸå§‹æ•°æ®è¡¨ä¸­æ‰€æœ‰çš„ NOT NULL åˆ—ï¼Œä»è€Œä½¿ INSERT æŸ¥è¯¢ç”Ÿæ•ˆã€‚ å¦‚æœè§†å›¾æ»¡è¶³ä»¥ä¸Šæ‰€æœ‰çš„æ¡ä»¶ï¼Œè¯¥è§†å›¾å°±å¯ä»¥è¢«æ›´æ–°ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒRamesh çš„å¹´é¾„è¢«æ›´æ–°äº†ï¼š SQL UPDATE CUSTOMERS_VIEW SET AGE = 35 WHERE name=Ramesh; æœ€ç»ˆæ›´æ–°çš„è¿˜æ˜¯åŸå§‹æ•°æ®è¡¨ï¼Œåªæ˜¯å…¶ç»“æœååº”åœ¨äº†è§†å›¾ä¸Šã€‚ç°åœ¨æŸ¥è¯¢åŸå§‹æ•°æ®è¡¨ï¼ŒSELECT è¯­å¥å°†ä¼šäº§ç”Ÿä»¥ä¸‹ç»“æœï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 35 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ å‘è§†å›¾ä¸­æ’å…¥æ–°è¡Œ å¯ä»¥å‘è§†å›¾ä¸­æ’å…¥æ–°è¡Œï¼Œå…¶è§„åˆ™åŒï¼ˆä½¿ç”¨ UPDATE å‘½ä»¤ï¼‰æ›´æ–°è§†å›¾æ‰€éµå¾ªçš„è§„åˆ™ç›¸åŒã€‚ è¿™é‡Œæˆ‘ä»¬ä¸èƒ½å‘ CUSTOMERS_VIEW è§†å›¾ä¸­æ·»åŠ æ–°è¡Œï¼Œå› ä¸ºè¯¥è§†å›¾æ²¡æœ‰åŒ…å«åŸå§‹æ•°æ®è¡¨ä¸­æ‰€æœ‰ NOT NULL çš„åˆ—ã€‚å¦åˆ™çš„è¯ï¼Œä½ å°±å¯ä»¥åƒåœ¨æ•°æ®è¡¨ä¸­æ’å…¥æ–°è¡Œä¸€æ ·ï¼Œå‘è§†å›¾ä¸­æ’å…¥æ–°è¡Œã€‚ å¥æ³•ï¼š INSERT INTO view_nameVALUES (value1, value2, value3, ...); åˆ é™¤è§†å›¾ä¸­çš„è¡Œ è§†å›¾ä¸­çš„æ•°æ®è¡Œå¯ä»¥è¢«åˆ é™¤ã€‚åˆ é™¤æ•°æ®è¡Œä¸æ›´æ–°è§†å›¾å’Œå‘è§†å›¾ä¸­æ’å…¥æ–°è¡Œéµå¾ªç›¸åŒçš„è§„åˆ™ã€‚ ä¸‹é¢çš„ä¾‹å­å°†åˆ é™¤ CUSTOMERS_VIEW è§†å›¾ä¸­ AGE22 çš„æ•°æ®è¡Œï¼š SQL DELETE FROM CUSTOMERS_VIEW WHERE age = 22; è¯¥è¯­å¥æœ€ç»ˆä¼šå°†åŸå§‹æ•°æ®è¡¨ä¸­å¯¹åº”çš„æ•°æ®è¡Œåˆ é™¤ï¼Œåªä¸è¿‡å…¶ç»“æœååº”åœ¨äº†è§†å›¾ä¸Šã€‚ç°åœ¨æŸ¥è¯¢åŸå§‹æ•°æ®è¡¨ï¼ŒSELECT è¯­å¥å°†ä¼šäº§ç”Ÿä»¥ä¸‹ç»“æœï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 35 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ åˆ é™¤è§†å›¾ å¾ˆæ˜æ˜¾ï¼Œå½“æˆ‘ä»¬ä¸å†éœ€è¦æŸä¸ªè§†å›¾çš„æ—¶å€™ï¼Œéœ€è¦æœ‰ä¸€ç§æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬å°†å…¶åˆ é™¤ã€‚åˆ é™¤è§†å›¾çš„è¯­æ³•éå¸¸ç®€å•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š DROP VIEW view_name; ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä» CUSTOMERS è¡¨ä¸­åˆ é™¤ CUSTOMERS_VIEW è§†å›¾ï¼š DROP VIEW CUSTOMERS_VIEW;"},{"title":"SQL NULLå€¼å¤„ç†","path":"/wiki/sql/sentence/valuenull.html","content":"SQL NULL å€¼ NULL ç©ºå€¼ä»£è¡¨ä¸¢å¤±çš„æœªçŸ¥æ•°æ®ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè¡¨åˆ—å¯ä»¥ä¿å­˜ NULL å€¼ã€‚ æœ¬ç« è§£é‡Š IS NULL å’Œ IS NOT NULL æ“ä½œç¬¦ã€‚ SQL NULL å€¼ å¦‚æœè¡¨ä¸­çš„åˆ—æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ’å…¥ä¸€ä¸ªæ–°è®°å½•æˆ–æ›´æ–°ä¸€ä¸ªç°æœ‰è®°å½•ï¼Œè€Œæ— éœ€å‘åˆ—æ·»åŠ ä¸€ä¸ªå€¼ã€‚è¿™æ„å‘³ç€è¯¥å­—æ®µå°†å­˜å‚¨ä¸º NULL ã€‚ NULL å€¼çš„å¤„ç†ä¸å…¶ä»–å€¼ä¸åŒã€‚ NULL ä¸ºæœªçŸ¥æˆ–ä¸é€‚å½“å€¼çš„å ä½ç¬¦ã€‚ **æ³¨é‡Šï¼š**æ— æ³•æ¯”è¾ƒ NULL å’Œ 0ï¼›å®ƒä»¬æ˜¯ä¸ç­‰ä»·çš„ã€‚ SQL çš„ NULL å€¼å¤„ç† è¯·çœ‹ä¸‹é¢çš„ â€œPersonsâ€ è¡¨ï¼š P_Id LastName FirstName Address City 1 Hansen Ola Sandnes 2 Svendson Tove Borgvn 23 Sandnes 3 Pettersen Kari Stavanger å¦‚æœ â€œPersonsâ€ è¡¨ â€œAddressâ€ ä¸€æ æ˜¯å¯é€‰çš„ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœåœ¨ â€œAddressâ€ åˆ—ä¸­æ’å…¥ä¸€ä¸ªæ²¡æœ‰å€¼çš„è®°å½•ï¼Œåˆ™ â€œAddressâ€ åˆ—å°†ç”¨ NULL å€¼ä¿å­˜ã€‚ é‚£ä¹ˆå¦‚ä½•æµ‹è¯•nullçš„å€¼å‘¢ï¼Ÿ æ‚¨ä¸èƒ½ä½¿ç”¨æ¯”è¾ƒæ“ä½œç¬¦æµ‹è¯• NULL å€¼ï¼Œä¾‹å¦‚ã€æˆ–ã€‚ æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ IS NULL å’Œ IS NOT NULL æ“ä½œç¬¦ã€‚ SQL IS NULL æˆ‘ä»¬å¦‚ä½•æ‰èƒ½é€‰æ‹© â€œAddressâ€ åˆ—ä¸­æœ‰ NULL å€¼çš„è®°å½•ï¼Ÿ æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ IS NULL æ“ä½œç¬¦ï¼š SELECT LastName,FirstName,Address FROM PersonsWHERE Address IS NULL ç»“æœé›†å¦‚ä¸‹æ‰€ç¤ºï¼š LastName FirstName Address Hansen Ola Pettersen Kari **æç¤ºï¼š**æ€»æ˜¯ä½¿ç”¨ IS NULL æ¥æŸ¥æ‰¾ NULL å€¼ã€‚ SQL IS NOT NULL æˆ‘ä»¬å¦‚ä½•æ‰èƒ½é€‰æ‹© â€œAddressâ€ åˆ—ä¸­æ²¡æœ‰ NULL å€¼çš„è®°å½•ï¼Ÿ æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ IS NOT NULL æ“ä½œç¬¦ï¼š SELECT LastName,FirstName,Address FROM PersonsWHERE Address IS NOT NULL ç»“æœé›†å¦‚ä¸‹æ‰€ç¤ºï¼š LastName FirstName Address Svendson Tove Borgvn 23 åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ ISNULL()ã€NVL()ã€IFNULL() å’Œ COALESCE() å‡½æ•°ã€‚"},{"title":"SQL VIEWè¯­å¥","path":"/wiki/sql/sentence/view.html","content":"SQL è§†å›¾ï¼ˆViewsï¼‰ è§†å›¾æ˜¯å¯è§†åŒ–çš„è¡¨ã€‚ æœ¬ç« è®²è§£å¦‚ä½•åˆ›å»ºã€æ›´æ–°å’Œåˆ é™¤è§†å›¾ã€‚ SQL CREATE VIEW è¯­å¥ åœ¨ SQL ä¸­ï¼Œè§†å›¾æ˜¯åŸºäº SQL è¯­å¥çš„ç»“æœé›†çš„å¯è§†åŒ–è¡¨ã€‚ è§†å›¾åŒ…å«è¡Œå’Œåˆ—ï¼Œå°±åƒçœŸæ­£çš„è¡¨ä¸€æ ·ã€‚è§†å›¾ä¸­çš„å­—æ®µæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ä¸­çœŸå®è¡¨ä¸­çš„å­—æ®µã€‚ æ‚¨å¯ä»¥æ·»åŠ  SQL å‡½æ•°ï¼Œåœ¨å“ªé‡Œæ·»åŠ ï¼Œå¹¶å°†è¯­å¥è¿æ¥åˆ°è§†å›¾ï¼Œæˆ–è€…æ‚¨å¯ä»¥å‘ˆç°æ•°æ®ï¼Œå°±åƒæ•°æ®æ¥è‡ªå•ä¸ªè¡¨ä¸€æ ·ã€‚ SQL CREATE VIEW è¯­æ³•CREATE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition **ã€€æ³¨é‡Šï¼š**è§†å›¾æ€»æ˜¯æ˜¾ç¤ºæœ€æ–°æ•°æ®ï¼æ¯å½“ç”¨æˆ·æŸ¥è¯¢è§†å›¾æ—¶ï¼Œæ•°æ®åº“å¼•æ“å°±ä½¿ç”¨è§†å›¾çš„ SQL è¯­å¥é‡æ–°æ„å»ºæ•°æ®ã€‚ SQL CREATE VIEW å®ä¾‹ ç¤ºä¾‹æ•°æ®åº“ Northwind é»˜è®¤å®‰è£…äº†ä¸€äº›è§†å›¾ã€‚ â€œCurrent Product Listâ€(å½“å‰äº§å“åˆ—è¡¨)è§†å›¾ä»â€Productsâ€è¡¨ä¸­åˆ—å‡ºäº†æ‰€æœ‰æ­£åœ¨ä½¿ç”¨çš„äº§å“ï¼ˆæœªåœäº§çš„äº§å“ï¼‰ã€‚è¿™ä¸ªè§†å›¾ä½¿ç”¨ä¸‹é¢çš„ SQL åˆ›å»ºï¼š CREATE VIEW [Current Product List] AS SELECT ProductID,ProductName FROM Products WHERE Discontinued=No æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·æŸ¥è¯¢ä¸Šé¢è¿™ä¸ªè§†å›¾ï¼š SELECT * FROM [Current Product List] Northwind æ ·æœ¬æ•°æ®åº“çš„å¦ä¸€ä¸ªè§†å›¾ä¼šé€‰å– â€œProductsâ€ è¡¨ä¸­æ‰€æœ‰å•ä½ä»·æ ¼é«˜äºå¹³å‡å•ä½ä»·æ ¼çš„äº§å“ï¼š CREATE VIEW [Products Above Average Price] AS SELECT ProductName,UnitPrice FROM Products WHERE UnitPrice(SELECT AVG(UnitPrice) FROM Products) æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·æŸ¥è¯¢ä¸Šé¢è¿™ä¸ªè§†å›¾ï¼š SELECT * FROM [Products Above Average Price] Northwind æ ·æœ¬æ•°æ®åº“çš„å¦ä¸€ä¸ªè§†å›¾ä¼šè®¡ç®—åœ¨ 1997 å¹´æ¯ä¸ªç§ç±»çš„é”€å”®æ€»æ•°ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ªè§†å›¾ä¼šä»å¦ä¸€ä¸ªåä¸º â€œProduct Sales for 1997â€ çš„è§†å›¾é‚£é‡Œé€‰å–æ•°æ®ï¼š CREATE VIEW [Category Sales For 1997] AS SELECT DISTINCT CategoryName,Sum(ProductSales) AS CategorySales FROM [Product Sales for 1997] GROUP BY CategoryName æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·æŸ¥è¯¢ä¸Šé¢è¿™ä¸ªè§†å›¾ï¼š SELECT * FROM [Category Sales For 1997] æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘æŸ¥è¯¢æ·»åŠ æ¡ä»¶ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦æŸ¥çœ‹ â€œBeveragesâ€ ç±»çš„é”€å”®æ€»æ•°ï¼š SELECT * FROM [Category Sales For 1997] WHERE CategoryName=Beverages SQL æ›´æ–°è§†å›¾ æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•æ¥æ›´æ–°è§†å›¾ï¼š SQL CREATE OR REPLACE VIEW è¯­æ³•CREATE OR REPLACE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition ç°åœ¨ï¼Œæˆ‘ä»¬å¸Œæœ›å‘ â€œCurrent Product Listâ€ è§†å›¾æ·»åŠ  â€œCategoryâ€ åˆ—ã€‚æˆ‘ä»¬å°†é€šè¿‡ä¸‹åˆ— SQL æ›´æ–°è§†å›¾ï¼š CREATE OR REPLACE VIEW [Current Product List] AS SELECT ProductID,ProductName,Category FROM Products WHERE Discontinued=No SQL æ’¤é”€è§†å›¾ æ‚¨å¯ä»¥é€šè¿‡ DROP VIEW å‘½ä»¤æ¥åˆ é™¤è§†å›¾ã€‚ SQL DROP VIEW è¯­æ³•DROP VIEW view_name"},{"title":"SQL é€šé…ç¬¦","path":"/wiki/sql/sentence/wild.html","content":"SQL é€šé…ç¬¦ æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ SQL çš„ LIKE æ“ä½œç¬¦äº†ï¼Œå®ƒå¯ä»¥åˆ©ç”¨é€šé…ç¬¦æ¥å¯¹ä¸¤ä¸ªç›¸ä¼¼çš„å€¼ä½œæ¯”è¾ƒã€‚ SQL æ”¯æŒä»¥ä¸‹ä¸¤ä¸ªé€šé…ç¬¦ä¸ LIKE æ“ä½œç¬¦ä¸€èµ·ä½¿ç”¨ï¼š |â€”â€”â€“|â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-| | é€šé…ç¬¦ | æè¿° | | ç™¾åˆ†å·ï¼ˆ%ï¼‰ | åŒ¹é…ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦ã€‚æ³¨æ„ï¼šMS Access ä½¿ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰ä½œä¸ºåŒ¹é…ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦çš„é€šé…ç¬¦ï¼Œè€Œä¸æ˜¯ç™¾åˆ†å·ï¼ˆ%ï¼‰ã€‚ | | ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ | åŒ¹é…ä¸€ä¸ªå­—ç¬¦ã€‚æ³¨æ„ï¼šMS Access ä½¿ç”¨é—®å·ï¼ˆ?ï¼‰ï¼Œè€Œä¸æ˜¯ä¸‹åˆ’çº¿ï¼Œæ¥åŒ¹é…ä»»ä¸€å­—ç¬¦ã€‚ | ç™¾åˆ†å·ä»£è¡¨é›¶ä¸ªã€ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦ã€‚ä¸‹åˆ’çº¿ä»£è¡¨å•ä¸€çš„å­—ç¬¦ã€‚è¿™äº›ç¬¦å·å¯ä»¥ç»„åˆåœ¨ä¸€èµ·ä½¿ç”¨ã€‚ è¯­æ³•â€œ%â€ å’Œ â€œ_â€ çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT FROM table_nameWHERE column LIKE XXXX%or SELECT FROM table_nameWHERE column LIKE %XXXX%orSELECT FROM table_nameWHERE column LIKE XXXX_orSELECT FROM table_nameWHERE column LIKE _XXXXorSELECT FROM table_nameWHERE column LIKE _XXXX_ ä½ å¯ä»¥ç”¨ AND æˆ– OR æ“ä½œç¬¦å°†å¤šä¸ªæ¡ä»¶åˆå¹¶åœ¨ä¸€èµ·ã€‚è¿™é‡Œï¼ŒXXXX å¯ä»¥ä¸ºä»»ä½•æ•°å€¼æˆ–è€…å­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ |â€”â€”â€”â€”â€”â€”â€”â€”â€”|â€”â€”â€”â€”â€”â€”â€”â€”â€“| | è¯­å¥ | æè¿° | | WHERE SALARY LIKE â€˜200%â€™ | æ‰¾å‡ºä»»ä½•ä»¥ 200 å¼€å¤´çš„å€¼ã€‚ | | WHERE SALARY LIKE â€˜%200%â€™ | æ‰¾å‡ºä»»ä½•å­˜åœ¨ 200 çš„å€¼ã€‚ | | WHERE SALARY LIKE â€˜00%â€™ | æ‰¾å‡ºä»»ä½•ç¬¬äºŒä¸ªä½ç½®å’Œç¬¬ä¸‰ä¸ªä½ç½®ä¸º 0 çš„å€¼ã€‚ | | WHERE SALARY LIKE â€˜2%_%â€™ | æ‰¾å‡ºä»»ä½•ä»¥ 2 å¼€å§‹ï¼Œå¹¶ä¸”é•¿åº¦è‡³å°‘ä¸º 3 çš„å€¼ã€‚ | | WHERE SALARY LIKE â€˜%2â€™ | æ‰¾å‡ºä»»ä½•ä»¥ 2 ç»“å°¾çš„å€¼ã€‚ | | WHERE SALARY LIKE â€˜_2%3â€™ | æ‰¾å‡ºä»»ä½•ç¬¬äºŒä¸ªä½ç½®ä¸º 2ï¼Œå¹¶ä¸”ä»¥ 3 ç»“æŸçš„å€¼ã€‚ | | WHERE SALARY LIKE â€˜2___3â€™ | æ‰¾å‡ºä»»ä½•ä»¥ 2 å¼€å§‹ï¼Œä»¥ 3 ç»“æŸçš„äº”ä½æ•°ã€‚ | è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼Œè€ƒè™‘æ‹¥æœ‰å¦‚ä¸‹è®°å½•çš„ CUSTOMERS è¡¨ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢çš„ç¤ºä¾‹å°†ä¼šæ‰¾åˆ° CUSTOMER è¡¨ä¸­æ‰€æœ‰ SALARY ä»¥ 200 å¼€å¤´çš„è®°å½•ï¼Œå¹¶æ˜¾ç¤ºå‡ºæ¥ï¼š SQL SELECT * FROM CUSTOMERSWHERE SALARY LIKE 200%; ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 3 | kaushik | 23 | Kota | 2000.00 |+----+----------+-----+-----------+----------+"},{"title":"SQL Wildcardsé€šé…ç¬¦","path":"/wiki/sql/sentence/wildcards.html","content":"SQL Wildcards é€šé…ç¬¦ é€šé…ç¬¦ç”¨äºæ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚ é€šé…ç¬¦ä¸ è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚åœ¨ WHERE å­å¥ä¸­ä½¿ç”¨LIKEè¿ç®—ç¬¦æ¥æœç´¢åˆ—ä¸­çš„æŒ‡å®šæ¨¡å¼ã€‚ æœ‰ä¸¤ä¸ªé€šé…ç¬¦ä¸ LIKE è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ï¼š ï¼… - ç™¾åˆ†å·è¡¨ç¤ºé›¶ä¸ªï¼Œä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ _ - ä¸‹åˆ’çº¿è¡¨ç¤ºå•ä¸ªå­—ç¬¦ **ã€€æ³¨æ„ï¼š** MS Access ä½¿ç”¨æ˜Ÿå·(*ï¼‰é€šé…ç¬¦è€Œä¸æ˜¯ç™¾åˆ†æ¯”ç¬¦å·(%)é€šé…ç¬¦ã€‚ MS Access ä½¿ç”¨é—®å·ï¼ˆ?ï¼‰è€Œä¸æ˜¯ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚ åœ¨MS Accesså’ŒSQL Serverä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š [ charlist ] - å®šä¹‰è¦åŒ¹é…çš„å­—ç¬¦çš„é›†åˆå’ŒèŒƒå›´ [^ charlist ]æˆ–[ï¼charlist ] - å®šä¹‰ä¸åŒ¹é…å­—ç¬¦çš„é›†åˆå’ŒèŒƒå›´ é€šé…ç¬¦ä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ï¼ ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨â€™ï¼…â€˜å’Œâ€™_â€˜é€šé…ç¬¦æ˜¾ç¤ºä¸åŒLIKEè¿ç®—ç¬¦çš„ä¾‹å­ï¼š LIKEè¿ç®—ç¬¦ æè¿° WHERE CustomerName LIKE â€˜a%â€™ æŸ¥æ‰¾ä»¥â€aâ€å¼€å¤´çš„ä»»ä½•å€¼ WHERE CustomerName LIKE â€˜%aâ€™ æŸ¥æ‰¾ä»¥â€aâ€ç»“å°¾çš„ä»»ä½•å€¼ WHERE CustomerName LIKE â€˜%or%â€™ åœ¨ä»»ä½•ä½ç½®æŸ¥æ‰¾ä»»ä½•å…·æœ‰â€orâ€çš„å€¼ WHERE CustomerName LIKE â€˜_r%â€™ åœ¨ç¬¬äºŒä¸ªä½ç½®æŸ¥æ‰¾ä»»ä½•å…·æœ‰â€râ€çš„å€¼ WHERE CustomerName LIKE â€˜a_%_%â€™ æŸ¥æ‰¾ä»¥â€aâ€å¼€å¤´å¹¶ä¸”é•¿åº¦è‡³å°‘ä¸º3ä¸ªå­—ç¬¦çš„å€¼ WHERE ContactName LIKE â€˜a%oâ€™ æŸ¥æ‰¾ä»¥â€aâ€å¼€å§‹å¹¶ä»¥â€oâ€ç»“å°¾çš„ä»»ä½•å€¼ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„ Northwind ç¤ºä¾‹æ•°æ®åº“ã€‚ ä»¥ä¸‹æ˜¯ â€œCustomersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden ä½¿ç”¨ SQL % é€šé…ç¬¦ ä»¥ä¸‹ SQL è¯­å¥é€‰æ‹©æ‰€æœ‰å®¢æˆ· City ä»¥å­—æ¯â€berâ€å¼€å¤´ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE ber%; ä»¥ä¸‹ SQL è¯­å¥é€‰æ‹© City ä¸­åŒ…å«â€esâ€æ¨¡å¼çš„æ‰€æœ‰å®¢æˆ·ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE %es%; ä½¿ç”¨ SQL _ é€šé…ç¬¦ ä»¥ä¸‹ SQL è¯­å¥é€‰æ‹© City ä»¥ä»»æ„å­—ç¬¦å¼€å¤´ï¼Œç„¶åæ˜¯â€erlinâ€çš„æ‰€æœ‰å®¢æˆ·ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE _erlin; ä»¥ä¸‹ SQL è¯­å¥é€‰æ‹© City å¼€å¤´ä¸ºâ€Lâ€ï¼Œåé¢æ˜¯ä»»æ„å­—ç¬¦ï¼Œåé¢æ˜¯â€nâ€ï¼Œåé¢æ˜¯ä»»æ„å­—ç¬¦ï¼ŒåŠ â€onâ€çš„æ‰€æœ‰å®¢æˆ·ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE L_n_on; ä½¿ç”¨ SQL [charlist] é€šé…ç¬¦ ä»¥ä¸‹ SQL è¯­å¥é€‰æ‹©æ‰€æœ‰å®¢æˆ· City ä»¥â€bâ€ã€â€sâ€æˆ–â€pâ€å¼€å¤´ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE [bsp]%; ä»¥ä¸‹ SQL è¯­å¥é€‰æ‹©â€Cityâ€ä»¥â€aâ€ã€â€bâ€æˆ–â€câ€å¼€å¤´çš„æ‰€æœ‰å®¢æˆ·ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE [a-c]%; ä»¥ä¸‹ SQL è¯­å¥é€‰æ‹©æ‰€æœ‰å®¢æˆ· City ä¸ä»¥â€bâ€ã€â€sâ€æˆ–â€pâ€å¼€å¤´ï¼š ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE [!bsp]%; ä½¿ç”¨[ï¼charlist]é€šé…ç¬¦ ä»¥ä¸‹ä¸¤ä¸ª SQL è¯­å¥é€‰æ‹©æ‰€æœ‰å®¢æˆ·çš„åŸå¸‚ä¸ä»¥â€bâ€ï¼Œâ€sâ€æˆ–â€pâ€å¼€å¤´ï¼š ä»£ç ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City LIKE [!bsp]%; è¦ä¹ˆï¼š ä»£ç ç¤ºä¾‹ï¼š SELECT * FROM CustomersWHERE City NOT LIKE [bsp]%;"},{"title":"SQL è¯­æ³•","path":"/wiki/sql/sentence/yufa.html","content":"SQL è¯­æ³•è§„åˆ™ SQLè¯­å¥æ€»æ˜¯ä»¥å…³é”®å­—å¼€å§‹ï¼Œå¦‚SELECTã€INSERTã€UPDATEã€DELETEã€DROPã€CREATEã€‚ SQLè¯­å¥ä»¥åˆ†å·ç»“å°¾ã€‚ SQLä¸åŒºåˆ†å¤§å°å†™ï¼Œæ„å‘³ç€updateä¸UPDATEç›¸åŒã€‚ æ•°æ®åº“è¡¨ æ•°æ®åº“é€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ã€‚æ¯ä¸ªè¡¨éƒ½ç”¨ä¸€ä¸ªåç§°æ ‡è¯†ï¼ˆä¾‹å¦‚ï¼Œâ€Customersâ€æˆ–â€Ordersâ€ï¼‰ã€‚è¯¥è¡¨åŒ…å«å¸¦æœ‰æ•°æ®ï¼ˆè¡Œï¼‰çš„è®°å½•ã€‚ã€€åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ï¼ˆåŒ…æ‹¬MSAccesså’ŒMSSQLServerï¼‰ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden ä¸Šé¢çš„è¡¨åŒ…å«äº”æ¡è®°å½•ï¼ˆæ¯ä¸€æ¡å¯¹åº”ä¸€ä¸ªå®¢æˆ·ï¼‰å’Œä¸ƒä¸ªåˆ—ï¼ˆCustomerIDã€CustomerNameã€ContactNameã€Addressã€Cityã€PostalCode å’Œ Countryï¼‰ã€‚ SQL è¯­å¥ æ‚¨éœ€è¦åœ¨æ•°æ®åº“ä¸Šæ‰§è¡Œçš„å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯ä½¿ç”¨SQLè¯­å¥å®Œæˆçš„ã€‚ ä»¥ä¸‹SQLè¯­å¥é€‰æ‹©â€Customersâ€è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ï¼š å®ä¾‹SELECT * FROM Customers; åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å‘æ‚¨è§£é‡Šå„ç§ä¸åŒçš„SQLè¯­å¥ã€‚ è¯·è®°ä½â€¦ SQL å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼šSELECT ä¸ select æ˜¯ç›¸åŒçš„ã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥å¤§å†™å½¢å¼ç¼–å†™æ‰€æœ‰SQLå…³é”®å­—ã€‚ SQL è¯­å¥åé¢çš„åˆ†å·ï¼Ÿ ä¸€äº›æ•°æ®åº“ç³»ç»Ÿéœ€è¦åœ¨æ¯ä¸ªSQLè¯­å¥çš„æœ«å°¾ä½¿ç”¨åˆ†å·ã€‚ åˆ†å·æ˜¯åˆ†ç¦»æ•°æ®åº“ç³»ç»Ÿä¸­æ¯ä¸ªSQLè¯­å¥çš„æ ‡å‡†æ–¹æ³•ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥åœ¨å¯¹æœåŠ¡å™¨çš„åŒä¸€è¯·æ±‚ä¸­æ‰§è¡Œå¤šä¸ªSQLè¯­å¥ã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨æ¯ä¸ªSQLè¯­å¥çš„æœ«å°¾ä½¿ç”¨åˆ†å·ã€‚ ä¸€äº›æœ€é‡è¦çš„ SQL å‘½ä»¤ SELECT - ä»æ•°æ®åº“ä¸­æå–æ•°æ® UPDATE - æ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ® DELETE - ä»æ•°æ®åº“ä¸­åˆ é™¤æ•°æ® INSERT INTO - å‘æ•°æ®åº“ä¸­æ’å…¥æ–°æ•°æ® CREATE DATABASE - åˆ›å»ºæ–°æ•°æ®åº“ ALTER DATABASE - ä¿®æ”¹æ•°æ®åº“ CREATE TABLE - åˆ›å»ºæ–°è¡¨ ALTER TABLE - å˜æ›´ï¼ˆæ”¹å˜ï¼‰æ•°æ®åº“è¡¨ DROP TABLE - åˆ é™¤è¡¨ CREATE INDEX - åˆ›å»ºç´¢å¼•ï¼ˆæœç´¢é”®ï¼‰ DROP INDEX - åˆ é™¤ç´¢å¼• SELECTè¯­å¥å¥æ³•ï¼š SELECT column_name(s) FROM table_name SELECTè¯­å¥å’ŒWHEREå­å¥å¥æ³•ï¼š SELECT [*] FROM [TableName] WHERE [condition1] SELECTè¯­å¥ä¸WHEREå’Œæˆ–å­å¥[å¥æ³•ï¼š SELECT [*] FROM [TableName] WHERE [condition1] [AND [OR]] [condition2]... SELECTè¯­å¥ä¸ORDER BYå¥æ³•ï¼š SELECT column_name()FROM table_nameORDER BY column_name() ASC or DESC SELECT DISTINCT(åŒºåˆ†)å­å¥å¥æ³•ï¼š SELECT DISTINCT column1, column2....columnNFROM table_name; SELECT INå­å¥å¥æ³•ï¼š SELECT column1, column2....columnNFROM table_nameWHERE column_name IN (val-1, val-2,...val-N); SELECT LIKE (ç±»)å­å¥å¥æ³•ï¼š SELECT column1, column2....columnNFROM table_nameWHERE column_name LIKE PATTERN ; SELECT COUNT(è®¡æ•°)å­å¥å¥æ³•ï¼š SELECT COUNT(column_name)FROM table_nameWHERE CONDITION; SELECTä¸HAVINGå­å¥å¥æ³•ï¼š SELECT SUM(column_name)FROM table_nameWHERE CONDITIONGROUP BY column_nameHAVING (arithematic function condition); INSERT INTOè¯­å¥å¥æ³•ï¼š INSERT INTO table_name (column, column1, column2, column3, ...)VALUES (value, value1, value2, value3 ...) UPDATEè¯­å¥å¥æ³•ï¼š UPDATE table_nameSET column=value, column1=value1,...WHERE someColumn=someValue DELETEè¯­å¥å¥æ³•ï¼š DELETE FROM tableNameWHERE someColumn = someValue CREATE è¯­å¥å¥æ³•ï¼š CREATE TABLE table_name(column1 datatype,column2 datatype,column3 datatype,.....columnN datatype,PRIMARY KEY( one or more columns )); DROP è¯­å¥å¥æ³•ï¼š DROP TABLE table_name; CREATE INDEXè¯­å¥å¥æ³•ï¼š CREATE UNIQUE INDEX index_nameON table_name ( column1, column2,...columnN); DROP INDEXè¯­å¥å¥æ³•ï¼š ALTER TABLE table_nameDROP INDEX index_name; DESCè¯­å¥å¥æ³•ï¼š DESC table_name; TRUNCATE æˆªæ–­è¡¨è¯­å¥å¥æ³•ï¼š TRUNCATE TABLE table_name; ALTER TABLEè¯­å¥å¥æ³•ï¼š sql ALTER TABLE table_name ADD|DROP|MODIFY column_name data_ype; ALTER TABLEè¯­å¥(å¯¹è¡¨åé‡å‘½å)å¥æ³•ï¼š ALTER TABLE table_name RENAME TO new_table_name; Useè¯­å¥å¥æ³•ï¼š USE database_name; COMMITè¯­å¥å¥æ³•ï¼š COMMIT; ROLLBACKè¯­å¥å¥æ³•ï¼š ROLLBACK;"},{"title":"SQL è¿ç®—ç¬¦","path":"/wiki/sql/sentence/yunsf.html","content":"SQL è¿ç®—ç¬¦ è¿ç®—ç¬¦æ˜¯ä¿ç•™å­—æˆ–ä¸»è¦ç”¨äº SQL è¯­å¥çš„ ä¸­çš„å­—ç¬¦ï¼Œç”¨äºæ‰§è¡Œæ“ä½œï¼Œä¾‹å¦‚ï¼šæ¯”è¾ƒå’Œç®—æœ¯è¿ç®—ã€‚ è¿™äº›è¿ç®—ç¬¦ç”¨äºæŒ‡å®š SQL è¯­å¥ä¸­çš„æ¡ä»¶ï¼Œå¹¶ç”¨ä½œè¯­å¥ä¸­å¤šä¸ªæ¡ä»¶çš„è¿è¯ã€‚ å¸¸è§è¿ç®—ç¬¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š ç®—æœ¯è¿ç®—ç¬¦ æ¯”è¾ƒè¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ å¦å®šæ¡ä»¶è¿ç®—ç¬¦ SQL ç®—æœ¯è¿ç®—ç¬¦ å‡è®¾å˜é‡ a çš„å€¼æ˜¯ï¼š10ï¼Œå˜é‡ b çš„å€¼æ˜¯ï¼š20ï¼Œä»¥ä¸‹ä¸ºå„è¿ç®—ç¬¦æ‰§è¡Œç»“æœï¼š è¿ç®—ç¬¦ æè¿° ä¾‹å­ + åŠ æ³•ï¼Œæ‰§è¡ŒåŠ æ³•è¿ç®—ã€‚ a + b å¾—åˆ° 30 - å‡æ³•ï¼Œæ‰§è¡Œå‡æ³•è¿ç®—ã€‚ a - b å¾—åˆ° -10 * ä¹˜æ³•ï¼Œæ‰§è¡Œä¹˜æ³•è¿ç®—ã€‚ a * b å¾—åˆ° 200 ç”¨å·¦æ“ä½œæ•°é™¤ä»¥å³æ“ä½œæ•°ã€‚ b a å¾—åˆ° 2 % ç”¨å·¦æ“ä½œæ•°é™¤ä»¥å³æ“ä½œæ•°å¹¶è¿”å›ä½™æ•°ã€‚ b % a å¾—åˆ° 0 SQL æ¯”è¾ƒè¿ç®—ç¬¦ å‡è®¾å˜é‡ a çš„å€¼æ˜¯ï¼š10ï¼Œå˜é‡ b çš„å€¼æ˜¯ï¼š20ï¼Œä»¥ä¸‹ä¸ºå„è¿ç®—ç¬¦æ‰§è¡Œç»“æœï¼š è¿ç®—ç¬¦ æè¿° ä¾‹å­ æ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¡ä»¶ä¸ºçœŸ(true)ã€‚ (a b) is false. ! æ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå€¼ä¸ç›¸ç­‰åˆ™æ¡ä»¶ä¸ºçœŸ(true)ã€‚ (a ! b) is true. æ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå€¼ä¸ç›¸ç­‰åˆ™æ¡ä»¶ä¸ºçœŸ(true)ã€‚ (a b) is true. æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å¤§äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¡ä»¶ä¸ºçœŸ(true)ã€‚ (a b) is false. æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å°äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¡ä»¶ä¸ºçœŸ(true)ã€‚ (a b) is true. æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å¤§äºæˆ–ç­‰äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¡ä»¶ä¸ºçœŸ(true)ã€‚ (a b) is false æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å°äºæˆ–ç­‰äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¡ä»¶ä¸ºçœŸ(true)ã€‚ (a b) is true. ! æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦ä¸å°äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¡ä»¶å˜ä¸ºçœŸ(true)ã€‚ (a ! b) is false. ! æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦ä¸å¤§äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ¡ä»¶å˜ä¸ºçœŸ(true)ã€‚ (a ! b) is true. SQL é€»è¾‘è¿ç®—ç¬¦ï¼š è¿™æ˜¯åœ¨ SQL æ‰€æœ‰çš„é€»è¾‘è¿ç®—ç¬¦çš„åˆ—è¡¨ã€‚ è¿ç®—ç¬¦ æè¿° ALL ALLè¿ç®—ç¬¦ç”¨äºå°†å€¼ä¸å¦ä¸€ä¸ªå€¼é›†ä¸­çš„æ‰€æœ‰å€¼è¿›è¡Œæ¯”è¾ƒã€‚ AND ANDè¿ç®—ç¬¦å…è®¸åœ¨SQLè¯­å¥çš„WHEREå­å¥ä¸­æŒ‡å®šå¤šä¸ªæ¡ä»¶ã€‚ ANY ANYè¿ç®—ç¬¦ç”¨äºæ ¹æ®æ¡ä»¶å°†å€¼ä¸åˆ—è¡¨ä¸­çš„ä»»ä½•é€‚ç”¨å€¼è¿›è¡Œæ¯”è¾ƒã€‚ BETWEEN BETWEENè¿ç®—ç¬¦ç”¨äºæœç´¢åœ¨ç»™å®šæœ€å°å€¼å’Œæœ€å¤§å€¼å†…çš„å€¼ã€‚ EXISTS EXISTSè¿ç®—ç¬¦ç”¨äºæœç´¢æŒ‡å®šè¡¨ä¸­æ˜¯å¦å­˜åœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„è¡Œã€‚ INè¿ç®—ç¬¦ç”¨äºå°†å€¼ä¸å·²æŒ‡å®šçš„æ–‡å­—å€¼åˆ—è¡¨è¿›è¡Œæ¯”è¾ƒã€‚ LIKE LIKEè¿ç®—ç¬¦ç”¨äºä½¿ç”¨é€šé…ç¬¦è¿ç®—ç¬¦å°†å€¼ä¸ç±»ä¼¼å€¼è¿›è¡Œæ¯”è¾ƒã€‚ NOT NOTè¿ç®—ç¬¦åè½¬ä½¿ç”¨å®ƒçš„é€»è¾‘è¿ç®—ç¬¦çš„å«ä¹‰ã€‚ ä¾‹å¦‚ï¼šNOT EXISTS, NOT BETWEEN, NOT INç­‰ç­‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå¦å®šè¿ç®—ç¬¦ã€‚ OR ORè¿ç®—ç¬¦ç”¨äºç»„åˆSQLè¯­å¥çš„WHEREå­å¥ä¸­çš„å¤šä¸ªæ¡ä»¶ã€‚ IS NULL IS NULLè¿ç®—ç¬¦ç”¨äºå°†å€¼ä¸NULLå€¼è¿›è¡Œæ¯”è¾ƒã€‚ UNIQUE UNIQUEè¿ç®—ç¬¦æœç´¢æŒ‡å®šè¡¨çš„æ¯ä¸€è¡Œçš„å”¯ä¸€æ€§(æ— é‡å¤é¡¹)ã€‚"},{"title":"SQL æŸ¥è¯¢å­å¥","path":"/wiki/sql/sentence/ziju.html","content":"SQL WHERE å­å¥ WHERE å­å¥ç”¨äºè¿‡æ»¤è®°å½•ã€‚ WHERE å­å¥ç”¨äºæå–æ»¡è¶³æŒ‡å®šæ ‡å‡†çš„è®°å½•ã€‚ SQL WHERE è¯­æ³•SELECT column1, column2, ...FROM table_nameWHERE condition; æ³¨æ„ï¼š WHEREå­å¥ä¸ä»…ç”¨äºSELECTè¯­æ³•ï¼Œè¿˜ç”¨äºUPDATEï¼ŒDELETEè¯­æ³•ç­‰ï¼ WHEREå­å¥å¯ä»¥ä¸ä»¥ä¸‹ç±»å‹çš„SQLè¯­å¥ä¸€èµ·ä½¿ç”¨ï¼š UPDATE DELETE UPDATEè¯­å¥ï¼š UPDATE table_nameSET column_1 = [new value]WHERE condition; DELETEè¯­å¥ï¼š DELETE FROM table_name WHERE condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„Northwindç¤ºä¾‹æ•°æ®åº“ã€‚ã€€ä»¥ä¸‹æ˜¯ â€œCustomersâ€ è¡¨ä¸­çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden WHERE å­å¥å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥ä»â€Customersâ€è¡¨ä¸­é€‰æ‹©å…¶å›½å®¶ä¸ºâ€Mexicoâ€çš„æ‰€æœ‰å®¢æˆ·ï¼š ç¤ºä¾‹: SELECT * FROM Customers WHERE Country=Mexico; ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ORè¿ç®—ç¬¦çš„æŸ¥è¯¢å­å¥ï¼š ç¤ºä¾‹: SELECT * FROM Customers WHERE Country=Mexico OR PostalCode=05021; æ–‡æœ¬å­—æ®µä¸æ•°å€¼å­—æ®µ SQLåœ¨æ–‡æœ¬å€¼å‘¨å›´ä½¿ç”¨å•å¼•å·ï¼ˆå¤§å¤šæ•°æ•°æ®åº“ç³»ç»Ÿä¹Ÿæ¥å—åŒå¼•å·ï¼‰ã€‚ å¦‚æœæ˜¯æ•°å€¼å­—æ®µï¼Œåˆ™ä¸è¦ä½¿ç”¨å¼•å·ã€‚ ç¤ºä¾‹: SELECT * FROM Customers WHERE CustomerID=1; WHERE å­å¥ä¸­çš„è¿ç®—ç¬¦ WHEREå­å¥ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¿ç®—ç¬¦ï¼š è¿ç®—ç¬¦ æè¿° ç­‰äº ä¸ç­‰äºã€‚ æ³¨æ„ ï¼šåœ¨æŸäº›ç‰ˆæœ¬çš„SQLä¸­ï¼Œè¿™ä¸ªæ“ä½œç¬¦å¯èƒ½å†™æˆ! å¤§äº å°äº å¤§äºç­‰äº å°äºç­‰äº BETWEEN åœ¨æŸä¸ªèŒƒå›´å†… LIKE æœç´¢æŸç§æ¨¡å¼ IN ä¸ºåˆ—æŒ‡å®šå¤šä¸ªå¯èƒ½çš„å€¼"},{"title":"SQL é€‰æ‹©","path":"/wiki/sql/sentence/xuanze.html","content":"SQL SELECT è¯­æ³• SELECT è¯­æ³•ç”¨äºä»æ•°æ®åº“ä¸­é€‰æ‹©æ•°æ®ã€‚ è¿”å›çš„æ•°æ®å­˜å‚¨åœ¨ç»“æœè¡¨ä¸­ï¼Œç§°ä¸ºç»“æœé›†ã€‚ åŸºæœ¬è¯­æ³•ï¼šSELECTå’ŒFROMåœ¨ä»»ä½•SQLæŸ¥è¯¢è¯­å¥ä¸­éƒ½ï¼šSELECTå’ŒFROMä»–ä»¬å¿…é¡»æŒ‰é¡ºåºæ’åˆ—ã€‚SELECTæŒ‡ç¤ºè¦æŸ¥çœ‹å“ªäº›åˆ—ï¼ŒFROMæ ‡è¯†å®ƒä»¬æ‰€åœ¨çš„è¡¨ã€‚ SQL SELECT è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT column1, column2, ...FROM table_name; è¿™é‡Œï¼Œcolumn1ï¼Œcolumn2ï¼Œâ€¦æ˜¯è¦ä»ä¸­é€‰æ‹©æ•°æ®çš„è¡¨çš„å­—æ®µåç§°ã€‚å¦‚æœè¦é€‰æ‹©è¡¨ä¸­å¯ç”¨çš„æ‰€æœ‰å­—æ®µï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¯­æ³•ï¼š SELECT * FROM table_name; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯ç½—æ–¯æ–‡ç¤ºä¾‹æ•°æ®åº“ä¸­â€Customersâ€è¡¨çš„ä¸€ä¸ªé€‰æ‹©ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SELECT Column å®ä¾‹ æˆ‘ä»¬å°†ä¸ºä»¥ä¸‹ä¸‰ç§ç”¨ä¾‹æä¾›å®ä¾‹ 1ã€æ£€ç´¢ä¸€åˆ—2ã€æ£€ç´¢å¤šåˆ—3ã€æ£€ç´¢æ‰€æœ‰åˆ— æˆ‘ä»¬å°†ç”¨ä¸Šè¿°çš„â€Customersâ€è¡¨æ¥è¯´æ˜ä¸‰ç§ç”¨ä¾‹çš„ä½¿ç”¨ã€‚ SELECT æ£€ç´¢ä¸€åˆ—ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å– â€œCityâ€ åˆ—ï¼š å®ä¾‹SELECT City FROM Customers; SELECT æ£€ç´¢å¤šåˆ—ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å– â€œCustomerNameâ€ å’Œ â€œCityâ€ åˆ—ï¼š å®ä¾‹SELECT CustomerName, City FROM Customers; **æ³¨æ„ï¼š**è¿™ä¸¤ä¸ªåˆ—ååœ¨æŸ¥è¯¢ä¸­ç”¨é€—å·åˆ†éš”ã€‚æ¯å½“æ‚¨é€‰æ‹©å¤šä¸ªåˆ—æ—¶ï¼Œå®ƒä»¬å¿…é¡»ç”¨é€—å·åˆ†éš”ï¼Œä½†æœ€åä¸€åˆ—åç§°ä¹‹åä¸èƒ½æ·»åŠ é€—å·ã€‚ SELECT * å®ä¾‹ - æ£€ç´¢æ‰€æœ‰åˆ—ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å–æ‰€æœ‰åˆ—ï¼š å®ä¾‹SELECT * FROM Customers; å¦‚æœè¦é€‰æ‹©è¡¨ä¸­çš„æ‰€æœ‰åˆ—ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ * è€Œä¸éœ€è¦æŠŠæ‰€æœ‰åˆ—åç½—åˆ—æŸ¥è¯¢ã€‚ ç»“æœé›†ä¸­çš„å¯¼èˆª å¤§å¤šæ•°æ•°æ®åº“è½¯ä»¶ç³»ç»Ÿéƒ½å…è®¸ä½¿ç”¨ç¼–ç¨‹å‡½æ•°åœ¨ç»“æœé›†ä¸­è¿›è¡Œå¯¼èˆªï¼Œä¾‹å¦‚ï¼šMove-To-First-Recordã€Get-Record-Contentã€Move-To-Next-Record ç­‰ç­‰ã€‚ æœ¬æ•™ç¨‹ä¸­ä¸åŒ…æ‹¬ä¸è¿™äº›ç¼–ç¨‹å‡½æ•°ç±»ä¼¼çš„åŠŸèƒ½ã€‚è¦äº†è§£å¦‚ä½•é€šè¿‡å‡½æ•°è°ƒç”¨è®¿é—®æ•°æ®ï¼Œè¯·è®¿é—®æˆ‘ä»¬çš„ æˆ–è€… ã€‚"},{"title":"SQL COUNT() å‡½æ•°","path":"/wiki/sql/function/count.html","content":"COUNT() å‡½æ•°COUNT() å‡½æ•°è¿”å›åŒ¹é…æŒ‡å®šæ¡ä»¶çš„è¡Œæ•°ã€‚ SQL COUNT(column_name) è¯­æ³•COUNT(column_name) å‡½æ•°è¿”å›æŒ‡å®šåˆ—çš„å€¼çš„æ•°ç›®ï¼ˆNULL ä¸è®¡å…¥ï¼‰ï¼š SELECT COUNT(column_name) FROM table_name; SQL COUNT(*) è¯­æ³•COUNT(*) å‡½æ•°è¿”å›è¡¨ä¸­çš„è®°å½•æ•°ï¼š SELECT COUNT(*) FROM table_name; SQL COUNT(DISTINCT column_name) è¯­æ³•COUNT(DISTINCT column_name) å‡½æ•°è¿”å›æŒ‡å®šåˆ—çš„ä¸åŒå€¼çš„æ•°ç›®ï¼š SELECT COUNT(DISTINCT column_name) FROM table_name; æ³¨é‡Šï¼šCOUNT(DISTINCT) é€‚ç”¨äº ORACLE å’Œ Microsoft SQL Serverï¼Œä½†æ˜¯æ— æ³•ç”¨äº Microsoft Accessã€‚ æ¼”ç¤ºæ•°æ®åº“åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ ngrok æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œaccess_logâ€ è¡¨çš„æ•°æ®ï¼š +-----+---------+-------+------------+| aid | site_id | count | date |+-----+---------+-------+------------+| 1 | 1 | 45 | 2016-05-10 || 2 | 3 | 100 | 2016-05-13 || 3 | 1 | 230 | 2016-05-14 || 4 | 2 | 10 | 2016-05-14 || 5 | 5 | 205 | 2016-05-14 || 6 | 4 | 13 | 2016-05-15 || 7 | 3 | 220 | 2016-05-15 || 8 | 5 | 545 | 2016-05-16 || 9 | 3 | 201 | 2016-05-17 |+-----+---------+-------+------------+ SQL COUNT(column_name) å®ä¾‹ä¸‹é¢çš„ SQL è¯­å¥è®¡ç®— â€œaccess_logâ€ è¡¨ä¸­ â€œsite_idâ€3 çš„æ€»è®¿é—®é‡ï¼š ç¤ºä¾‹ SELECT COUNT(count) AS nums FROM access_logWHERE site_id=3; SQL COUNT(*) å®ä¾‹ä¸‹é¢çš„ SQL è¯­å¥è®¡ç®— â€œaccess_logâ€ è¡¨ä¸­æ€»è®°å½•æ•°ï¼š ç¤ºä¾‹ SELECT COUNT(*) AS nums FROM access_log; æ‰§è¡Œä»¥ä¸Š SQL è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š SQL COUNT(DISTINCT column_name) å®ä¾‹mn-name-å®ä¾‹)ä¸‹é¢çš„ SQL è¯­å¥è®¡ç®— â€œaccess_logâ€ è¡¨ä¸­ä¸åŒ site_id çš„è®°å½•æ•°ï¼š ç¤ºä¾‹ SELECT COUNT(DISTINCT site_id) AS nums FROM access_log;"},{"title":"SQL AVG() å‡½æ•°","path":"/wiki/sql/function/avg.html","content":"SQL AVG() å‡½æ•° AVG() å‡½æ•°AVG() å‡½æ•°è¿”å›æ•°å­—åˆ—çš„å¹³å‡å€¼ã€‚ AVG() è¯­æ³•SELECT AVG(column_name)FROM table_nameWHERE condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è‘—åçš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œProductsâ€ è¡¨çš„æ•°æ®ï¼š ProductID ProductName SupplierID CategoryID Unit Price 1 Chais 1 1 10 boxes x 20 bags 18 2 Chang 1 1 24 - 12 oz bottles 19 3 Aniseed Syrup 1 2 12 - 550 ml bottles 10 4 Chef Antonâ€™s Cajun Seasoning 2 2 48 - 6 oz jars 22 5 Chef Antonâ€™s Gumbo Mix 2 2 36 boxes 21.35 SQL AVG() å®ä¾‹ ä»¥ä¸‹SQLè¯­å¥æŸ¥æ‰¾æ‰€æœ‰äº§å“çš„å¹³å‡ä»·æ ¼ï¼š ç¤ºä¾‹ SELECT AVG(Price)FROM Products; ä¸‹é¢çš„ SQL è¯­å¥é€‰æ‹©ä»·æ ¼é«˜äºå¹³å‡ä»·æ ¼çš„ â€œProductNameâ€ å’Œ â€œPriceâ€ è®°å½•ï¼š ç¤ºä¾‹ SELECT ProductName, Price FROM ProductsWHERE Price(SELECT AVG(Price) FROM Products);"},{"title":"SQL æ—¥æœŸå‡½æ•°","path":"/wiki/sql/function/datetime.html","content":"SQL æ—¥æœŸå‡½æ•° ä¸‹é¢çš„åˆ—è¡¨ä¸­æ˜¯ SQL ä¸­æ‰€æœ‰ä¸æ—¥æœŸå’Œæ—¶é—´ç›¸å…³çš„é‡è¦å‡½æ•°ã€‚ä½ æ‰€ç”¨çš„ RDBMS å¯èƒ½ä¼šæ”¯æŒæ›´å¤šå…¶ä»–çš„å‡½æ•°ã€‚ä¸‹é¢çš„åˆ—è¡¨åŸºäº MySQL å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚ |â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-|â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“| | åç§° | æè¿° | | ADDDATE() | å¢åŠ æ—¥æœŸ | | ADDTIME() | å¢åŠ æ—¶é—´ | | CONVERT_TZ() | å°†å½“å‰æ—¶åŒºæ›´æ”¹ä¸ºå¦ä¸€æ—¶åŒº | | CURDATE() | è¿”å›å½“å‰æ—¥æœŸ | | CURRENT_DATE(), CURRENT_DATE | CURDATE() çš„åˆ«å | | CURRENT_TIME(), CURRENT_TIME | CURTIME() çš„åˆ«å | | CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP | NOW() çš„åˆ«å | | CURTIME() | è¿”å›å½“å‰æ—¶é—´ | | DATE_ADD() | å°†ä¸¤ä¸ªæ—¥æœŸç›¸åŠ  | | DATE_FORMAT() | æŒ‰ç…§æŒ‡å®šæ ¼å¼æ ¼å¼åŒ–æ—¥æœŸ | | DATE_SUB() | å°†ä¸¤ä¸ªæ—¥æœŸç›¸å‡ | | DATE() | ä» date æˆ–è€… datetime è¡¨è¾¾å¼ä¸­æå–å‡ºæ—¥æœŸéƒ¨åˆ† | | DATEDIFF() | å°†ä¸¤ä¸ªæ—¥æœŸç›¸å‡ | | DAY() | DAYOFMONTH() çš„åˆ«å | | DAYNAME() | è¿”å›æŸå¤©åœ¨ç”¨æ˜ŸæœŸä¸­çš„åç§° | | DAYOFMONTH() | è¿”å›æŸå¤©æ˜¯å½“æœˆçš„ç¬¬å‡ å¤© ï¼ˆ1-31ï¼‰ | | DAYOFWEEK() | è¿”å›æŸå¤©æ˜¯è¯¥æ˜ŸæœŸçš„ç¬¬å‡ å¤© | | DAYOFYEAR() | è¿”å›æŸå¤©æ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ1-366ï¼‰ | | EXTRACT | æå–æ—¥æœŸä¸­çš„æŸä¸€éƒ¨åˆ† | | FROM_DAYS() | å°†å¤©æ•°è½¬æ¢ä¸ºæ—¥æœŸ | | FROM_UNIXTIME() | å°†æŸä¸ªæ—¥æœŸæ ¼å¼åŒ–ä¸º UNIX æ—¶é—´æˆ³ | | HOUR() | æå–å°æ—¶ | | LAST_DAY | è¿”å›å‚æ•°æ—¥æœŸæ‰€åœ¨æœˆä»½çš„æœ€åä¸€å¤© | | LOCALTIME(), LOCALTIME | NOW() çš„åˆ«å | | LOCALTIMESTAMP, LOCALTIMESTAMP() | NOW() çš„åˆ«å | | MAKEDATE() | åˆ©ç”¨å¹´ä»½å’ŒæŸå¤©åœ¨è¯¥å¹´æ‰€å¤„çš„å¤©æ•°æ¥åˆ›å»ºæ—¥æœŸ | | MAKETIME | MAKETIME() | | MICROSECOND() | ç”±å‚æ•°è¿”å›å¾®ç§’ | | MINUTE() | ç”±å‚æ•°è¿”å›åˆ†é’Ÿ | | MONTH() | è¿”å›æ—¥æœŸå‚æ•°çš„æœˆä»½ | | MONTHNAME() | è¿”å›æœˆä»½çš„åå­— | | NOW() | è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´ | | PERIOD_ADD() | å‘å¹´æœˆæ ¼å¼çš„æ—¥æœŸæ•°æ®ä¹‹é—´æ·»åŠ ä¸€æ®µæ—¶é—´ | | PERIOD_DIFF() | è¿”å›ä¸¤ä¸ªå¹´æœˆæ ¼å¼çš„æ—¥æœŸæ•°æ®ä¹‹é—´çš„æœˆä»½æ•° | | QUARTER() | è¿”å›æ—¥æœŸå‚æ•°æ‰€åœ¨çš„å­£åº¦ | | SEC_TO_TIME() | å°†ç§’æ•°è½¬æ¢ä¸º â€˜HH:MM:SSâ€™ æ ¼å¼ | | SECOND() | è¿”å›å‚æ•°ä¸­çš„ç§’æ•° (0-59) | | STR_TO_DATE() | å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸæ•°æ® | | SUBDATE() | ä»¥ä¸‰ä¸ªå‚æ•°è°ƒç”¨çš„æ—¶å€™æ˜¯ DATE_SUB() çš„åŒä¹‰è¯ | | SUBTIME() | å‡å»æ—¶é—´ | | SYSDATE() | è¿”å›å‡½æ•°æ‰§è¡Œçš„æ—¶çš„æ—¶åˆ» | | TIME_FORMAT() | æ ¼å¼åŒ–æ—¶é—´ | | TIME_TO_SEC() | å°†æ—¶é—´å‚æ•°è½¬æ¢ä¸ºç§’æ•° | | TIME() | è¿”å›å‚æ•°è¡¨è¾¾å¼ä¸­çš„æ—¶é—´éƒ¨åˆ† | | TIMEDIFF() | å°†ä¸¤ä¸ªæ—¶é—´ç›¸å‡ | | TIMESTAMP() | åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œè¯¥å‡½æ•°è¿”å› date æˆ–è€… datetime è¡¨è¾¾å¼ã€‚å½“æœ‰ä¸¤ä¸ªå‚æ•°æ—¶ï¼Œå°†ä¸¤ä¸ªå‚æ•°ç›¸åŠ ã€‚ | | TIMESTAMPADD() | åœ¨ datetime è¡¨è¾¾å¼ä¸ŠåŠ ä¸Šä¸€æ®µæ—¶é—´ | | TIMESTAMPDIFF() | åœ¨ datetime è¡¨è¾¾å¼ä¸Šå‡å»ä¸€æ®µæ—¶é—´ | | TO_DAYS() | å°†æ—¥æœŸå‚æ•°è½¬æ¢ä¸ºå¤©æ•° | | UNIX_TIMESTAMP() | è¿”å› UNIX æ—¶é—´æˆ³ | | UTC_DATE() | è¿”å›å½“å‰ UTC æ—¥æœŸ | | UTC_TIME() | è¿”å›å½“å‰ UTC æ—¶é—´ | | UTC_TIMESTAMP() | è¿”å›å½“å‰ UTC æ—¥æœŸå’Œæ—¶é—´ | | WEEK() | è¿”å›å‚æ•°çš„æ˜ŸæœŸæ•° | | WEEKDAY() | è¿”å›æ—¥æœŸå‚æ•°æ—¶ä¸€ä¸ªæ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤© | | WEEKOFYEAR() | è¿”å›æ—¥æœŸå‚æ•°æ˜¯æ—¥å†ä¸Šçš„ç¬¬å‡ å‘¨ (1-53) | | YEAR() | è¿”å›æ—¥æœŸå‚æ•°ä¸­çš„å¹´ä»½ | | YEARWEEK() | è¿”å›å¹´ä»½å’Œæ˜ŸæœŸ | ADDDATE(date, INTERVAL expr unit), ADDDATE(expr, days) å¦‚æœè°ƒç”¨æ—¶ç¬¬äºŒä¸ªå‚æ•°ä¸º INTERVAL å½¢å¼çš„è¯ï¼ŒADDDATE() å°±æ˜¯ DATE_ADD() çš„åŒä¹‰è¯ã€‚åŒæ ·çš„æƒ…å†µä¸‹ï¼ŒSUBDATE() æ˜¯ DATE_SUB() çš„åŒä¹‰è¯ã€‚æœ‰å…³ INTERVAL å•ä½å‚æ•°çš„ä¿¡æ¯ï¼Œè§æœ‰å…³ DATE_ADD() çš„è®¨è®ºã€‚ mysql SELECT DATE_ADD(1998-01-02, INTERVAL 31 DAY);+---------------------------------------------------------+| DATE_ADD(1998-01-02, INTERVAL 31 DAY) |+---------------------------------------------------------+| 1998-02-02 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT ADDDATE(1998-01-02, INTERVAL 31 DAY);+---------------------------------------------------------+| ADDDATE(1998-01-02, INTERVAL 31 DAY) |+---------------------------------------------------------+| 1998-02-02 |+---------------------------------------------------------+1 row in set (0.00 sec) å¦‚æœè°ƒç”¨æ—¶ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¤©æ•°å½¢å¼çš„è¯ï¼Œåˆ™ MySQL ä¼šå°†å…¶ä½œä¸ºæ•´æ•°åŠ åˆ° expr ä¸Šã€‚ mysql SELECT ADDDATE(1998-01-02, 31);+---------------------------------------------------------+| DATE_ADD(1998-01-02, INTERVAL 31 DAY) |+---------------------------------------------------------+| 1998-02-02 |+---------------------------------------------------------+1 row in set (0.00 sec) ADDTIME(expr1,expr2) ADDTIME() å°† expr2 åŠ åˆ° expr1 ä¸Šï¼Œå¹¶è¿”å›ç»“æœã€‚expr1 ä¸º time æˆ–è€… datetime è¡¨è¾¾å¼ï¼Œexpr2 ä¸º time è¡¨è¾¾å¼ã€‚ mysql SELECT ADDTIME(1997-12-31 23:59:59.999999,1 1:1:1.000002);+---------------------------------------------------------+| DATE_ADD(1997-12-31 23:59:59.999999,1 1:1:1.000002) |+---------------------------------------------------------+| 1998-01-02 01:01:01.000001 |+---------------------------------------------------------+1 row in set (0.00 sec) CONVERT_TZ(dt,from_tz,to_tz) è¯¥å‡½æ•°å°† datetime ç±»å‹çš„å€¼ dt çš„æ—¶åŒºä» from_dt è½¬æ¢ä¸º to_dtï¼Œå¹¶è¿”å›ç»“æœã€‚å¦‚æœå‚æ•°æ— æ•ˆï¼Œåˆ™å‡½æ•°è¿”å› NULLã€‚ mysql SELECT CONVERT_TZ(2004-01-01 12:00:00,GMT,MET);+---------------------------------------------------------+| CONVERT_TZ(2004-01-01 12:00:00,GMT,MET) |+---------------------------------------------------------+| 2004-01-01 13:00:00 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT CONVERT_TZ(2004-01-01 12:00:00,+00:00,+10:00);+---------------------------------------------------------+| CONVERT_TZ(2004-01-01 12:00:00,+00:00,+10:00) |+---------------------------------------------------------+| 2004-01-01 22:00:00 |+---------------------------------------------------------+1 row in set (0.00 sec) CURDATE() ä»¥ â€˜YYYY-MM-DDâ€™ï¼ˆå­—ç¬¦ä¸²ï¼‰ æˆ–è€… YYYYMMDDï¼ˆæ•°å€¼ï¼‰ çš„å½¢å¼è¿”å›å½“å‰æ—¥æœŸï¼Œ å…·ä½“å½¢å¼å–å†³äºå‡½æ•°å¤„äºå­—ç¬¦ä¸²è¿˜æ˜¯æ•°å€¼å‹çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚ mysql SELECT CURDATE();+---------------------------------------------------------+| CURDATE() |+---------------------------------------------------------+| 1997-12-15 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT CURDATE() + 0;+---------------------------------------------------------+| CURDATE() + 0 |+---------------------------------------------------------+| 19971215 |+---------------------------------------------------------+1 row in set (0.00 sec) CURRENT_DATE and CURRENT_DATE() CURRENT_DATE å’Œ CURRENT_DATE() æ˜¯ CURDATE() çš„åˆ«åã€‚ CURTIME() ä»¥ â€˜HH:MM:SSâ€™ï¼ˆå­—ç¬¦ä¸²ï¼‰ æˆ–è€… HHMMSSï¼ˆæ•°å€¼ï¼‰ çš„å½¢å¼è¿”å›å½“å‰æ—¶é—´ï¼Œ å…·ä½“å½¢å¼å–å†³äºå‡½æ•°å¤„äºå­—ç¬¦ä¸²è¿˜æ˜¯æ•°å€¼å‹çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚è¯¥å‡½æ•°æŒ‰ç…§å½“å‰æ—¶åŒºæ¥è¡¨ç¤ºè¿”å›å€¼ã€‚ mysql SELECT CURTIME();+---------------------------------------------------------+| CURTIME() |+---------------------------------------------------------+| 23:50:26 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT CURTIME() + 0;+---------------------------------------------------------+| CURTIME() + 0 |+---------------------------------------------------------+| 235026 |+---------------------------------------------------------+1 row in set (0.00 sec) CURRENT_TIME and CURRENT_TIME() CURRENT_TIME å’Œ CURRENT_TIME() æ˜¯ CURTIME() çš„åˆ«åã€‚ CURRENT_TIMESTAMP and CURRENT_TIMESTAMP() CURRENT_TIMESTAMP å’Œ CURRENT_TIMESTAMP() æ˜¯ NOW() çš„åˆ«åã€‚ DATE(expr) æå– date è¡¨è¾¾å¼æˆ–è€… datetime è¡¨è¾¾å¼ä¸­çš„æ—¥æœŸéƒ¨åˆ†ã€‚ mysql SELECT DATE(2003-12-31 01:02:03);+---------------------------------------------------------+| DATE(2003-12-31 01:02:03) |+---------------------------------------------------------+| 2003-12-31 |+---------------------------------------------------------+1 row in set (0.00 sec) DATEDIFF(expr1,expr2) DATEDIFF() è¿”å› expr1 å’Œ expr2 çš„å·®ï¼Œä»¥å¤©æ•°çš„å½¢å¼è¡¨ç¤ºã€‚expr1 å’Œ expr2 åº”ä¸º date æˆ–è€… datetime è¡¨è¾¾å¼ã€‚åªæœ‰å‚æ•°çš„æ—¥æœŸéƒ¨åˆ†å‚ä¸äº†è®¡ç®—ã€‚ mysql SELECT DATEDIFF(1997-12-31 23:59:59,1997-12-30);+---------------------------------------------------------+| DATEDIFF(1997-12-31 23:59:59,1997-12-30) |+---------------------------------------------------------+| 1 |+---------------------------------------------------------+1 row in set (0.00 sec) DATE_ADD(date,INTERVAL expr unit), DATE_SUB(date,INTERVAL expr unit) è¿™äº›å‡½æ•°è¿›è¡Œæœ‰å…³æ—¥æœŸçš„ç®—æœ¯è¿ç®—ã€‚date æ˜¯ä¸€ä¸ª DATETIME æˆ–è€… DATE ç±»å‹çš„å€¼ï¼ŒæŒ‡æ˜äº†èµ·å§‹æ—¶é—´ã€‚expr è¡¨è¾¾å¼åˆ™æ˜¯ date è¦å¢åŠ æˆ–è€…å‡å»çš„æ—¶é—´é—´éš”ã€‚expr æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥ä»¥ â€˜-â€˜ å¼€å§‹æ¥è¡¨ç¤ºè´Ÿæ—¶é—´åŒºé—´ã€‚ unit æ˜¯ä¸€ä¸ªå…³é”®è¯ï¼ŒæŒ‡æ˜äº†expr çš„å•ä½ã€‚ INTERVAL å…³é”®å­—å’Œ unitï¼ˆå•ä½ï¼‰æŒ‡ç¤ºç¬¦ä¸åŒºåˆ†å¤§å°å†™ã€‚ ä¸‹è¡¨åˆ—å‡ºäº†å¯¹äºæ¯ç§å•ä½ï¼Œexpr åº”æœ‰çš„å½¢å¼ã€‚ |â€”â€”â€”â€”â€”â€”â€“|â€”â€”â€”â€”| | unit å€¼ | expr åº”æœ‰çš„æ ¼å¼ | | MICROSECOND | å¾®ç§’ | | SECOND | ç§’ | | MINUTE | åˆ†é’Ÿ | | HOUR | å°æ—¶ | | DAY | å¤© | | WEEK | æ˜ŸæœŸ | | MONTH | æœˆ | | QUARTER | å­£åº¦ | | YEAR | å¹´ | | SECOND_MICROSECOND | â€˜ç§’.å¾®ç§’â€™ | | MINUTE_MICROSECOND | â€˜åˆ†.å¾®ç§’â€™ | | MINUTE_SECOND | â€˜åˆ†:ç§’â€™ | | HOUR_MICROSECOND | â€˜å°æ—¶.å¾®ç§’â€™ | | HOUR_SECOND | â€˜æ—¶:åˆ†:ç§’â€™ | | HOUR_MINUTE | â€˜æ—¶:åˆ†â€™ | | DAY_MICROSECOND | â€˜å¤©.å¾®ç§’â€™ | | DAY_SECOND | â€˜å¤© æ—¶:åˆ†:ç§’â€™ | | DAY_MINUTE | â€˜å¤© æ—¶:åˆ†â€™ | | DAY_HOUR | â€˜å¤© æ—¶â€™ | | YEAR_MONTH | â€˜å¹´-æœˆâ€™ | QUARTER å’Œ WEEK è‡ª MySQL 5.0.0 èµ·å—åˆ°æ”¯æŒã€‚ mysql SELECT DATE_ADD(1997-12-31 23:59:59, - INTERVAL 1:1 MINUTE_SECOND);+---------------------------------------------------------+| DATE_ADD(1997-12-31 23:59:59, INTERVAL... |+---------------------------------------------------------+| 1998-01-01 00:01:00 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT DATE_ADD(1999-01-01, INTERVAL 1 HOUR);+---------------------------------------------------------+| DATE_ADD(1999-01-01, INTERVAL 1 HOUR) |+---------------------------------------------------------+| 1999-01-01 01:00:00 |+---------------------------------------------------------+1 row in set (0.00 sec) DATE_FORMAT(date,format) æ ¹æ®æ ¼å¼å­—ç¬¦ä¸²å¯¹æ—¥æœŸå€¼è¿›è¡Œæ ¼å¼åŒ–ã€‚ ä¸‹é¢è¿™äº›å ä½ç¬¦å¯ä»¥ç”¨åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­ï¼Œâ€™%â€™ å¿…é¡»å‡ºç°åœ¨ç‰¹å®šçš„æ ¼å¼å­—ç¬¦ä¹‹å‰ã€‚ |â€”â€“|â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”| | å ä½ç¬¦ | æè¿° | | %a | ç®€å†™çš„æ˜ŸæœŸåç§°ï¼ˆSun..Satï¼‰ | | %b | ç®€å†™çš„æœˆä»½åç§° ï¼ˆJan..Decï¼‰ | | %c | æœˆä»½ï¼Œä»¥æ•°å€¼å½¢å¼è¡¨ç¤ºï¼ˆ0..12ï¼‰ | | %D | æœˆä»½ä¸­çš„æ—¥æœŸï¼Œå¸¦æœ‰è‹±æ–‡åç¼€ï¼ˆ0thï¼Œ1stï¼Œ2ndï¼Œ3rd ç­‰ç­‰ï¼‰ | | %d | æœˆä»½ä¸­çš„æ—¥æœŸï¼Œä»¥æ•°å€¼è¡¨ç¤º (00..31) | | %e | æœˆä»½ä¸­çš„æ—¥æœŸï¼Œä»¥æ•°å€¼è¡¨ç¤º (0..31) | | %f | å¾®ç§’ï¼ˆ000000..999999ï¼‰ | | %H | å°æ—¶(00..23) | | %h | å°æ—¶(01..12) | | %I | å°æ—¶(01..12) | | %i | åˆ†é’Ÿ,ä»¥æ•°å€¼è¡¨ç¤º(00..59) | | %j | ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ001..366ï¼‰ | | %k | å°æ—¶ï¼ˆ0..23ï¼‰ | | %l | å°æ—¶ï¼ˆ1..12ï¼‰ | | %M | æœˆä»½çš„åç§°ï¼ˆJanuary..Decemberï¼‰ | | %m | æœˆä»½ï¼Œä»¥æ•°å€¼å½¢å¼è¡¨ç¤ºï¼ˆ00..12ï¼‰ | | %p | AM æˆ–è€… PM | | %r | æ—¶é—´ï¼Œ12 å°æ—¶åˆ¶(hh:mm:ss followed by AM or PM) | | %S | ç§’(00..59) | | %s | ç§’(00..59) | | %T | æ—¶é—´ï¼Œ24å°æ—¶åˆ¶ï¼ˆhh:mm:ssï¼‰ | | %U | æ˜ŸæœŸï¼ˆ00..53ï¼‰ï¼Œæ­¤å¤„æ˜ŸæœŸæ—¥ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤© | | %u | æ˜ŸæœŸï¼ˆ00..53ï¼‰ï¼Œæ­¤å¤„æ˜ŸæœŸä¸€ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤© | | %V | æ˜ŸæœŸï¼ˆ01..53ï¼‰ï¼Œæ­¤å¤„æ˜ŸæœŸæ—¥ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©ï¼›ä¸ %X ä¸€èµ·ä½¿ç”¨ã€‚ | | %v | æ˜ŸæœŸï¼ˆ01..53ï¼‰ï¼Œæ­¤å¤„æ˜ŸæœŸä¸€ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©ï¼›ä¸ %x ä¸€èµ·ä½¿ç”¨ã€‚ | | %W | ä¸€å‘¨ä¸­æ—¥æœŸçš„åç§°ï¼ˆSunday..Saturdayï¼‰ | | %w | ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ0Sunday..6Saturdayï¼‰ | | %X | ä»¥æ˜ŸæœŸæ—¥ä¸ºç¬¬ä¸€å¤©çš„å‘¨æ‰€å¤„çš„å¹´ä»½ï¼Œå››ä½æ•°å­—è¡¨ç¤ºï¼›åŒ %V ä¸€èµ·ä½¿ç”¨ã€‚ | | %x | ä»¥æ˜ŸæœŸä¸€ä¸ºç¬¬ä¸€å¤©çš„å‘¨æ‰€å¤„çš„å¹´ä»½ï¼Œå››ä½æ•°å­—è¡¨ç¤ºï¼›åŒ %v ä¸€èµ·ä½¿ç”¨ã€‚ | | %Y | å¹´ä»½ï¼Œå››ä½æ•°å­—è¡¨ç¤ºã€‚ | | %y | å¹´ä»½ï¼Œä¸¤ä½æ•°å­—è¡¨ç¤ºã€‚ | | %% | % å­—é¢å€¼ | | %x | xï¼Œé’ˆå¯¹ä»»ä½•ä»¥ä¸Šæ²¡æœ‰åˆ—å‡ºçš„æƒ…å†µã€‚ | mysql SELECT DATE_FORMAT(1997-10-04 22:23:00, %W %M %Y);+---------------------------------------------------------+| DATE_FORMAT(1997-10-04 22:23:00, %W %M %Y) |+---------------------------------------------------------+| Saturday October 1997 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT DATE_FORMAT(1997-10-04 22:23:00 - %H %k %I %r %T %S %w);+---------------------------------------------------------+| DATE_FORMAT(1997-10-04 22:23:00....... |+---------------------------------------------------------+| 22 22 10 10:23:00 PM 22:23:00 00 6 |+---------------------------------------------------------+1 row in set (0.00 sec) DATE_SUB(date,INTERVAL expr unit) åŒ DATE_ADD() å‡½æ•°ç›¸ä¼¼ã€‚ DAY(date) DAY() æ˜¯ DAYOFMONTH() çš„åˆ«åã€‚ DAYNAME(date) è¿”å› date åœ¨æ˜ŸæœŸä¸­çš„åç§°ã€‚ mysql SELECT DAYNAME(1998-02-05);+---------------------------------------------------------+| DAYNAME(1998-02-05) |+---------------------------------------------------------+| Thursday |+---------------------------------------------------------+1 row in set (0.00 sec) DAYOFMONTH(date) è¿”å› date æ˜¯å½“æœˆçš„ç¬¬å‡ å¤©ï¼ŒèŒƒå›´ä¸º 0 åˆ° 31ã€‚ mysql SELECT DAYOFMONTH(1998-02-03);+---------------------------------------------------------+| DAYOFMONTH(1998-02-03) |+---------------------------------------------------------+| 3 |+---------------------------------------------------------+1 row in set (0.00 sec) DAYOFWEEK(date) è¿”å› date æ˜¯å…¶æ‰€åœ¨æ˜ŸæœŸçš„ç¬¬å‡ å¤©(1 Sunday, 2 Monday,.., 7 Saturday)ï¼Œè¿™é‡Œä¸€æ˜ŸæœŸä¸­æ—¥æœŸçš„åç§°ä¸æ•°å­—çš„å¯¹åº”å…³ç³»ç¬¦åˆ ODBC æ ‡å‡†ã€‚ mysql SELECT DAYOFWEEK(1998-02-03);+---------------------------------------------------------+|DAYOFWEEK(1998-02-03) |+---------------------------------------------------------+| 3 |+---------------------------------------------------------+1 row in set (0.00 sec) DAYOFYEAR(date) è¿”å› date æ˜¯å½“å¹´çš„ç¬¬å‡ å¤©ï¼ŒèŒƒå›´ä¸º 1 åˆ° 366ã€‚ mysql SELECT DAYOFYEAR(1998-02-03);+---------------------------------------------------------+| DAYOFYEAR(1998-02-03) |+---------------------------------------------------------+| 34 |+---------------------------------------------------------+1 row in set (0.00 sec) EXTRACT(unit FROM date) EXTRACT() ä¸ DATE_ADD() å’Œ DATE_SUB() ä½¿ç”¨ç›¸åŒçš„è¡¨ç¤ºå•ä½çš„å ä½ç¬¦ï¼Œå…¶ä½œç”¨æ˜¯æå–æ—¥æœŸå€¼ä¸­ç›¸åº”çš„ç»„æˆéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ—¥æœŸè¿ç®—ã€‚ mysql SELECT EXTRACT(YEAR FROM 1999-07-02);+---------------------------------------------------------+| EXTRACT(YEAR FROM 1999-07-02) |+---------------------------------------------------------+| 1999 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT EXTRACT(YEAR_MONTH FROM 1999-07-02 01:02:03);+---------------------------------------------------------+| EXTRACT(YEAR_MONTH FROM 1999-07-02 01:02:03) |+---------------------------------------------------------+| 199907 |+---------------------------------------------------------+1 row in set (0.00 sec) FROM_DAYS(N) ç»™å‡ºå¤©æ•° Nï¼Œè¿”å› DATE å€¼ã€‚ mysql SELECT FROM_DAYS(729669);+---------------------------------------------------------+| FROM_DAYS(729669) |+---------------------------------------------------------+| 1997-10-07 |+---------------------------------------------------------+1 row in set (0.00 sec) åœ¨ä½¿ç”¨ FROM_DAYS() å¤„ç†æ¯”è¾ƒè€çš„æ—¥æœŸçš„æ—¶å€™åº”å½“ç‰¹åˆ«å°å¿ƒï¼Œè¯¥å‡½æ•°ä¸é€‚ç”¨äºæ ¼é‡Œé«˜åˆ©å†è¯ç”Ÿï¼ˆ1582ï¼‰ä¹‹å‰çš„æ—¥æœŸã€‚ FROM_UNIXTIME(unix_timestamp), FROM_UNIXTIME(unix_timestamp,format) è¿”å› UNIX æ—¶é—´æˆ³å¯¹åº”çš„æ—¥æœŸå€¼ï¼Œæ ¹æ®å‡½æ•°æ‰€å¤„çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸åŒï¼Œè¿”å›å€¼å¾—æ ¼å¼ä¹Ÿä¸åŒï¼Œå­—ç¬¦ä¸²ä¸Šä¸‹æ–‡è¿”å›æ ¼å¼ä¸º â€˜YYYY-MM-DD HH:MM:SSâ€™ï¼Œæ•°å€¼å‹ä¸Šä¸‹æ–‡è¿”å›æ ¼å¼åˆ™ä¸º YYYYMMDDHHMMSSã€‚è¿”å›å€¼çš„æ—¶åŒºä¸ºç³»ç»Ÿå½“å‰æ—¶åŒºã€‚UNIX æ—¶é—´æˆ³æ˜¯ä¸€ç§ç³»ç»Ÿå†…éƒ¨æ—¶é—´è¡¨ç¤ºï¼Œä¾‹å¦‚ UNIX_TIMESTAMP() çš„è¿”å›å€¼ã€‚ å¦‚æœç»™å®šæ ¼å¼çš„è¯ï¼Œè¿”å›ç»“æœå°†ä¼šæ ¹æ®æ ¼å¼å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–ï¼Œå…¶è§„åˆ™åŒ DATE_FORMAT() å‡½æ•°ã€‚ mysql SELECT FROM_UNIXTIME(875996580);+---------------------------------------------------------+| FROM_UNIXTIME(875996580) |+---------------------------------------------------------+| 1997-10-04 22:23:00 |+---------------------------------------------------------+1 row in set (0.00 sec) HOUR(time) è¿”å›æ—¶é—´å€¼çš„å°æ—¶éƒ¨åˆ†ã€‚å¯¹äºä¸€å¤©ä¸­çš„æ—¶é—´æ¥è¯´ï¼Œè¿”å›å€¼çš„èŒƒå›´ä¸º 0 åˆ° 23ã€‚ä¸è¿‡ï¼ŒTIME ç±»å‹çš„å€¼å¯ä»¥å¤§å¾—å¤šï¼Œæ‰€ä»¥ HOUR å‡½æ•°å¯ä»¥è¿”å›æ¯” 23 å¤§çš„å€¼ã€‚ mysql SELECT HOUR(10:05:03);+---------------------------------------------------------+| HOUR(10:05:03) |+---------------------------------------------------------+| 10 |+---------------------------------------------------------+1 row in set (0.00 sec) LAST_DAY(date) è¿”å› date æˆ–è€… datetime å€¼æ‰€åœ¨æœˆä»½çš„æœ€åä¸€å¤©ã€‚å¦‚æœå‚æ•°æ— æ•ˆçš„è¯ï¼Œè¿”å›ã€€NULLã€‚ mysql SELECT LAST_DAY(2003-02-05);+---------------------------------------------------------+| LAST_DAY(2003-02-05) |+---------------------------------------------------------+| 2003-02-28 |+---------------------------------------------------------+1 row in set (0.00 sec) LOCALTIME and LOCALTIME() LOCALTIME å’Œ LOCALTIME() æ˜¯ NOW() çš„åˆ«åã€‚ LOCALTIMESTAMP and LOCALTIMESTAMP() LOCALTIMESTAMP å’Œ LOCALTIMESTAMP() æ˜¯ NOW() çš„åˆ«åã€‚ MAKEDATE(year,dayofyear) ç»™å®šå¹´ä»½å’Œï¼ˆæŸå¤©åœ¨ä¸€å¹´ä¸­ï¼‰çš„å¤©æ•°ï¼Œè¿”å›å¯¹åº”çš„æ—¥æœŸå€¼ã€‚å¤©æ•°å¿…é¡»å¤§äº 0ï¼Œå¦åˆ™è¿”å›å€¼ä¸º NULLã€‚ mysql SELECT MAKEDATE(2001,31), MAKEDATE(2001,32);+---------------------------------------------------------+| MAKEDATE(2001,31), MAKEDATE(2001,32) |+---------------------------------------------------------+| 2001-01-31, 2001-02-01 |+---------------------------------------------------------+1 row in set (0.00 sec) MAKETIME(hour,minute,second) æ ¹æ®å‚æ•°ç»™å‡ºçš„æ—¶ã€åˆ†ã€ç§’ï¼Œè¿”å›å¯¹åº”çš„æ—¶é—´å€¼ã€‚ mysql SELECT MAKETIME(12,15,30);+---------------------------------------------------------+| MAKETIME(12,15,30) |+---------------------------------------------------------+| 12:15:30 |+---------------------------------------------------------+1 row in set (0.00 sec) MICROSECOND(expr) æ ¹æ® time æˆ–è€… datetime è¡¨è¾¾å¼ exprï¼Œè¿”å›å¾®ç§’æ•°ï¼Œç»“æœåœ¨ 0 åˆ° 999999 ä¹‹é—´ã€‚ mysql SELECT MICROSECOND(12:00:00.123456);+---------------------------------------------------------+| MICROSECOND(12:00:00.123456) |+---------------------------------------------------------+| 123456 |+---------------------------------------------------------+1 row in set (0.00 sec) MINUTE(time) è¿”å›æ—¶é—´å‹å€¼ä¸­çš„åˆ†é’Ÿéƒ¨åˆ†ï¼ŒèŒƒå›´ä¸º 0 åˆ° 59ã€‚ mysql SELECT MINUTE(98-02-03 10:05:03);+---------------------------------------------------------+| MINUTE(98-02-03 10:05:03) |+---------------------------------------------------------+| 5 |+---------------------------------------------------------+1 row in set (0.00 sec) MONTH(date) è¿”å›æ—¥æœŸå‹å€¼ä¸­çš„æœˆä»½ï¼ŒèŒƒå›´ä¸º 0 åˆ° 12ã€‚ mysql SELECT MONTH(1998-02-03)+---------------------------------------------------------+| MONTH(1998-02-03) |+---------------------------------------------------------+| 2 |+---------------------------------------------------------+1 row in set (0.00 sec) MONTHNAME(date) è¿”å›æ—¥æœŸå‹å€¼æ‰€å¤„æœˆä»½çš„å…¨åã€‚ mysql SELECT MONTHNAME(1998-02-05);+---------------------------------------------------------+| MONTHNAME(1998-02-05) |+---------------------------------------------------------+| February |+---------------------------------------------------------+1 row in set (0.00 sec) NOW() è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œç»“æœçš„æ ¼å¼ä¸º â€˜YYYY-MM-DD HH:MM:SSâ€™ æˆ–è€… YYYYMMDDHHMMSSï¼Œå¦‚æœå‡½æ•°ä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºå­—ç¬¦å‹ï¼Œåˆ™è¿”å›å‰è€…ï¼Œå¦åˆ™å¦‚æœå‡½æ•°å¤„äºæ•°å€¼å‹çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œåˆ™è¿”å›åè€…ã€‚è¿”å›å€¼çš„æ—¶åŒºä¸ºç³»ç»Ÿå½“å‰æ—¶åŒºã€‚ mysql SELECT NOW();+---------------------------------------------------------+| NOW() |+---------------------------------------------------------+| 1997-12-15 23:50:26 |+---------------------------------------------------------+1 row in set (0.00 sec) PERIOD_ADD(P,N) åœ¨æ—¶é—´ Pï¼ˆæ ¼å¼ä¸º YYMM æˆ–è€… YYYYMMï¼‰ä¸ŠåŠ ä¸Š N ä¸ªæœˆï¼Œç»“æœæ ¼å¼ä¸º YYYYMMã€‚æ³¨æ„ï¼Œæ—¶é—´å‚æ•° P å¹¶ä¸æ˜¯æ—¥æœŸå‹å€¼ã€‚ mysql SELECT PERIOD_ADD(9801,2);+---------------------------------------------------------+| PERIOD_ADD(9801,2) |+---------------------------------------------------------+| 199803 |+---------------------------------------------------------+1 row in set (0.00 sec) PERIOD_DIFF(P1,P2) è¿”å›æ—¶é—´ P1 å’Œ P2 ä¹‹é—´ç›¸å·®çš„æœˆä»½ã€‚ P1 å’Œ P2 çš„æ ¼å¼åº”ä¸º YYMM æˆ–è€… YYYYMMã€‚æ³¨æ„Iï¼ŒP1 å’Œ P2 ä¸æ˜¯æ—¥æœŸå‹å€¼ã€‚ mysql SELECT PERIOD_DIFF(9802,199703);+---------------------------------------------------------+| PERIOD_DIFF(9802,199703) |+---------------------------------------------------------+| 11 |+---------------------------------------------------------+1 row in set (0.00 sec) QUARTER(date) è¿”å›æ—¥æœŸå‹å€¼ date æ‰€å¤„çš„å­£åº¦å€¼ï¼ŒèŒƒå›´ä¸º 1 åˆ° 4ã€‚ mysql SELECT QUARTER(98-04-01);+---------------------------------------------------------+| QUARTER(98-04-01) |+---------------------------------------------------------+| 2 |+---------------------------------------------------------+1 row in set (0.00 sec) SECOND(time) è¿”å›æ—¶é—´å‹å€¼ä¸­ç§’çš„éƒ¨åˆ†ï¼ŒèŒƒå›´ä¸º 0 åˆ° 59ã€‚ mysql SELECT SECOND(10:05:03);+---------------------------------------------------------+| SECOND(10:05:03) |+---------------------------------------------------------+| 3 |+---------------------------------------------------------+1 row in set (0.00 sec) SEC_TO_TIME(seconds) å°†å‚æ•°ä¸­çš„ç§’æ•°è½¬æ¢ä¸ºæ—¶åˆ†ç§’çš„æ ¼å¼ â€˜HH:MM:SSâ€™ æˆ–è€… HHMMSSï¼Œå¦‚æœå‡½æ•°æ‰€å¤„çš„ä¸Šä¸‹æ–‡ä¸ºå­—ç¬¦ä¸²å‹ï¼Œåˆ™è¿”å›å‰è€…ï¼Œå¦åˆ™å¦‚æœä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºæ•°å€¼å‹ï¼Œåˆ™è¿”å›åè€…ã€‚ STR_TO_DATE(str,format) è¿™æ˜¯ DATE_FORMATE() å‡½æ•°çš„é€†å‡½æ•°ï¼Œå…¶å‚æ•°ä¸ºè¡¨ç¤ºæ—¶é—´å’Œæ—¥æœŸçš„å­—ç¬¦ä¸² str å’Œä¸€ä¸ªæ ¼å¼å­—ç¬¦ä¸² formatã€‚å¦‚æœæ ¼å¼å­—ç¬¦ä¸²ä¸­æ—¢æœ‰æ—¥æœŸåˆæœ‰æ—¶é—´ï¼Œåˆ™ STR_TO_DATE() è¿”å› DATETIME() å‹çš„å€¼ï¼Œå¦åˆ™è¿”å›æ—¥æœŸå‹ï¼ˆDATEï¼‰æˆ–è€…æ—¶é—´å‹ï¼ˆTIMEï¼‰çš„å€¼ã€‚ mysql SELECT STR_TO_DATE(04/31/2004, %m/%d/%Y);+---------------------------------------------------------+| STR_TO_DATE(04/31/2004, %m/%d/%Y) |+---------------------------------------------------------+| 2004-04-31 |+---------------------------------------------------------+1 row in set (0.00 sec) SUBDATE(date,INTERVAL expr unit) and SUBDATE(expr,days) å½“ç¬¬äºŒä¸ªå‚æ•°ä¸º INTERVAL å½¢å¼æ—¶ï¼ŒSUBDATE() å°±æ˜¯ DATE_SUB() çš„åˆ«åã€‚INTERVAL å‚æ•°ä¸­å•ä½çš„ä¿¡æ¯ï¼Œè¯·è§æœ‰å…³ DATE_ADD() çš„è®¨è®ºã€‚ mysql SELECT DATE_SUB(1998-01-02, INTERVAL 31 DAY);+---------------------------------------------------------+| DATE_SUB(1998-01-02, INTERVAL 31 DAY) |+---------------------------------------------------------+| 1997-12-02 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT SUBDATE(1998-01-02, INTERVAL 31 DAY);+---------------------------------------------------------+| SUBDATE(1998-01-02, INTERVAL 31 DAY) |+---------------------------------------------------------+| 1997-12-02 |+---------------------------------------------------------+1 row in set (0.00 sec) SUBTIME(expr1,expr2) SUBTIME() è¿”å› expr1-expr2ï¼Œç»“æœçš„æ ¼å¼ä¸ expr1 ç›¸åŒã€‚expr1 æ˜¯ä¸€ä¸ªæ—¶é—´å‹ï¼ˆtimeï¼‰æˆ–è€… datetime å‹çš„è¡¨è¾¾å¼ï¼Œexpr2 æ˜¯æ—¶é—´å‹å€¼ã€‚ SYSDATE() è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œæ ¼å¼ä¸º â€˜YYYY-MM-DD HH:MM:SSâ€™ æˆ– YYYYMMDDHHMMSSï¼Œå¦‚æœå‡½æ•°æ‰€å¤„çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å‰è€…ï¼Œå¦åˆ™å¦‚æœä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºæ•°å€¼å‹ï¼Œåˆ™è¿”å›åè€…ã€‚ sql mysql SELECT SYSDATE();+---------------------------------------------------------+| SYSDATE() |+---------------------------------------------------------+| 2006-04-12 13:47:44 |+---------------------------------------------------------+1 row in set (0.00 sec) TIME(expr) æå–æ—¶é—´å‹æˆ–è€… datetime å‹è¡¨è¾¾å¼ expr ä¸­çš„æ—¶é—´éƒ¨åˆ†ï¼Œè¿”å›ç»“æœä¸ºå­—ç¬¦ä¸²ã€‚ mysql SELECT TIME(2003-12-31 01:02:03);+---------------------------------------------------------+| TIME(2003-12-31 01:02:03) |+---------------------------------------------------------+| 01:02:03 |+---------------------------------------------------------+1 row in set (0.00 sec) TIMEDIFF(expr1,expr2) TIMEDIFF() è¿”å› expr1-expr2ï¼Œç»“æœä¸ºæ—¶é—´å‹å€¼ã€‚expr1 å’Œ expr2 å¯ä»¥ä¸ºæ—¶é—´å‹æˆ–è€… datetime å‹è¡¨è¾¾å¼ï¼Œä¸è¿‡äºŒè€…å¿…é¡»ä¸ºç›¸åŒç±»å‹ã€‚ mysql SELECT TIMEDIFF(1997-12-31 23:59:59.000001, - 1997-12-30 01:01:01.000002);+---------------------------------------------------------+| TIMEDIFF(1997-12-31 23:59:59.000001..... |+---------------------------------------------------------+| 46:58:57.999999 |+---------------------------------------------------------+1 row in set (0.00 sec) TIMESTAMP(expr), TIMESTAMP(expr1,expr2) åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œè¯¥å‡½æ•°ç”±æ—¥æœŸå‹æˆ–è€… datetime å‹è¡¨è¾¾å¼è¿”å›ä¸€ä¸ª datetime å‹å€¼ã€‚æœ‰ä¸¤ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œè¯¥å‡½æ•°å°† expr2 åŠ åˆ°æ—¥æœŸå‹æˆ– datetime å‹å€¼ expr1 ä¸Šï¼Œå¹¶è¿”å› datetime å‹çš„ç»“æœã€‚ mysql SELECT TIMESTAMP(2003-12-31);+---------------------------------------------------------+| TIMESTAMP(2003-12-31) |+---------------------------------------------------------+| 2003-12-31 00:00:00 |+---------------------------------------------------------+1 row in set (0.00 sec) TIMESTAMPADD(unit,interval,datetime_expr) å°†æ•´æ•°å‹çš„è¡¨è¾¾å¼ interval åŠ åˆ°æ—¥æœŸå‹æˆ–è€… datetime å‹è¡¨è¾¾å¼ datetime_expr ä¸Šã€‚å•ä½ç”± unit å‚æ•°ç»™å‡ºï¼Œå…¶å–å€¼åº”ä¸ºä»¥ä¸‹å‡ ç§ä¸­çš„ä¸€ç§ï¼šFRAC_SECONDã€SECONDã€MINUTEã€HOURã€DAYã€WEEKã€MONTHã€QUARTER æˆ–è€… YEARã€‚ å•ä½ unit å¯ä»¥ä¸ºä¸Šè¿°å…³é”®å­—ä¸­çš„ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥æ·»åŠ ä¸€ä¸ª SQLTSI å‰ç¼€ï¼Œä¾‹å¦‚ DAY å’Œ SQL_TSI_DAY éƒ½æ˜¯åˆæ³•çš„ã€‚ sql mysql SELECT TIMESTAMPADD(MINUTE,1,2003-01-02);+---------------------------------------------------------+| TIMESTAMPADD(MINUTE,1,2003-01-02) |+---------------------------------------------------------+| 2003-01-02 00:01:00 |+---------------------------------------------------------+1 row in set (0.00 sec) TIMESTAMPDIFF(unit,datetime_expr1,datetime_expr2) è¿”å›æ—¥æœŸå‹æˆ–è€… datetime å‹è¡¨è¾¾å¼ datetime_expr1 å’Œ datetime_expr2 çš„å·®ã€‚ç»“æœçš„å•ä½ç”± unit å‚æ•°ç»™å‡ºï¼Œunit çš„å–å€¼è§„å®šåŒ TIMESTAMPADD() å‡½æ•°ã€‚ mysql SELECT TIMESTAMPDIFF(MONTH,2003-02-01,2003-05-01);+---------------------------------------------------------+| TIMESTAMPDIFF(MONTH,2003-02-01,2003-05-01) |+---------------------------------------------------------+| 3 |+---------------------------------------------------------+1 row in set (0.00 sec) TIME_FORMAT(time,format) è¯¥å‡½æ•°ä½¿ç”¨èµ·æ¥ç±»ä¼¼ DATE_FORMAT() å‡½æ•°ï¼Œä½†æ˜¯æ ¼å¼å­—ç¬¦ä¸² format ä¸­åªèƒ½æœ‰ä¸å°æ—¶ã€åˆ†é’Ÿå’Œç§’æœ‰å…³çš„é‚£äº›å ä½ç¬¦ã€‚ å¦‚æœæ—¶é—´å‹å€¼çš„å°æ—¶éƒ¨åˆ†å¤§äº 23ï¼Œåˆ™ %H å’Œ %k æ ¼å¼å ä½ç¬¦å°†ä¼šäº§ç”Ÿä¸€ä¸ªå¤§äºé€šå¸¸çš„ 0-23 çš„å€¼ï¼Œå…¶ä»–ä¸å°æ—¶æœ‰å…³çš„å ä½ç¬¦åˆ™ä¼šè¿”å›å°æ—¶å€¼é™¤ä»¥ 12 åçš„ä½™æ•°ï¼ˆmodulo 12ï¼‰ã€‚ mysql SELECT TIME_FORMAT(100:00:00, %H %k %h %I %l);+---------------------------------------------------------+| TIME_FORMAT(100:00:00, %H %k %h %I %l) |+---------------------------------------------------------+| 100 100 04 04 4 |+---------------------------------------------------------+1 row in set (0.00 sec) TIME_TO_SEC(time) å°†æ—¶é—´å‹å€¼è½¬æ¢ä¸ºç§’ã€‚ mysql SELECT TIME_TO_SEC(22:23:00);+---------------------------------------------------------+| TIME_TO_SEC(22:23:00) |+---------------------------------------------------------+| 80580 |+---------------------------------------------------------+1 row in set (0.00 sec)ã€ TO_DAYS(date) ç»™å®šæ—¥æœŸå‹å€¼ dateï¼Œè¿”å›å¤©æ•°ï¼ˆè‡ªå…¬å…ƒ 0 å¹´ä»¥æ¥çš„å¤©æ•°ï¼‰ã€‚ mysql SELECT TO_DAYS(950501);+---------------------------------------------------------+| TO_DAYS(950501) |+---------------------------------------------------------+| 728779 |+---------------------------------------------------------+1 row in set (0.00 sec) UNIX_TIMESTAMP(), UNIX_TIMESTAMP(date) ä¸å¸¦ä»»ä½•å‚æ•°æ—¶ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ª unsigned integer å‹çš„ UNIX æ—¶é—´æˆ³ï¼ˆè‡ª â€˜1970-01-01 00:00:00â€™ UTC ä»¥æ¥çš„ç§’æ•°ï¼‰ã€‚å¦‚æœæœ‰ä¸€ä¸ªå‚æ•° date çš„è¯ï¼Œè¯¥å‡½æ•°è¿”å›è‡ª â€˜1970-01-01 00:00:00â€™ UTC è‡³ date çš„ç§’æ•°ã€‚date å¯ä»¥æ˜¯æ—¥æœŸå‹çš„å­—ç¬¦ä¸²ã€DATETIME å‹çš„å­—ç¬¦ä¸²ã€æ—¶é—´æˆ³æˆ–è€… YYMMDD æˆ– YYYYMMDD æ ¼å¼çš„æ•°å­—ã€‚ mysql SELECT UNIX_TIMESTAMP();+---------------------------------------------------------+| UNIX_TIMESTAMP() |+---------------------------------------------------------+| 882226357 |+---------------------------------------------------------+1 row in set (0.00 sec)mysql SELECT UNIX_TIMESTAMP(1997-10-04 22:23:00);+---------------------------------------------------------+| UNIX_TIMESTAMP(1997-10-04 22:23:00) |+---------------------------------------------------------+| 875996580 |+---------------------------------------------------------+1 row in set (0.00 sec) UTC_DATE, UTC_DATE() è¿”å›å½“å‰ UTC æ—¥æœŸï¼Œæ ¼å¼ä¸º â€˜YYYY-MM-DDâ€™ æˆ–è€… YYYYMMDDï¼Œå¦‚æœå‡½æ•°æ‰€å¤„çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å‰è€…ï¼Œå¦åˆ™å¦‚æœä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºæ•°å€¼å‹çš„ï¼Œåˆ™è¿”å›åè€…ã€‚ mysql SELECT UTC_DATE(), UTC_DATE() + 0;+---------------------------------------------------------+| UTC_DATE(), UTC_DATE() + 0 |+---------------------------------------------------------+| 2003-08-14, 20030814 |+---------------------------------------------------------+1 row in set (0.00 sec) UTC_TIME, UTC_TIME() è¿”å›å½“å‰ UTC æ—¶é—´ï¼Œæ ¼å¼ä¸º â€˜HH:MM:SSâ€™ æˆ–è€… HHMMSSï¼Œå¦‚æœå‡½æ•°æ‰€å¤„çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å‰è€…ï¼Œå¦åˆ™å¦‚æœä¸Šä¸‹æ–‡ç¯å¢ƒä¸ºæ•°å€¼å‹çš„ï¼Œåˆ™è¿”å›åè€…ã€‚ mysql SELECT UTC_TIMESTAMP(), UTC_TIMESTAMP() + 0;+---------------------------------------------------------+| UTC_TIMESTAMP(), UTC_TIMESTAMP() + 0 |+---------------------------------------------------------+| 2003-08-14 18:08:04, 20030814180804 |+---------------------------------------------------------+1 row in set (0.00 sec) WEEK(date[,mode]) è¯¥å‡½æ•°å°†è¿”å› date æ‰€åœ¨çš„å‘¨æ˜¯å½“å¹´çš„ç¬¬å‡ å‘¨ã€‚ä¸¤ä¸ªå‚æ•°çš„ WEEK() å‡½æ•°çš„ä½¿ä½ èƒ½å¤ŸæŒ‡æ˜ä¸€å‘¨èµ·å§‹äºå‘¨æ—¥è¿˜æ˜¯å‘¨ä¸€ï¼Œä»¥åŠè¿”å›å€¼çš„èŒƒå›´åº”è¯¥æ˜¯ 0 åˆ° 53ï¼Œè¿˜æ˜¯ 1 åˆ° 53ã€‚å¦‚æœ mode å‚æ•°è¢«å¿½ç•¥ï¼Œåˆ™å°†ä½¿ç”¨ default_week_format ç³»ç»Ÿå˜é‡ã€‚ |â€”â€”|â€”â€”â€“|â€”â€”|â€”â€”â€”â€”| | Mode | ä¸€å‘¨çš„ç¬¬ä¸€å¤© | èŒƒå›´ | å‘¨ 1 æ˜¯ç¬¬ä¸€å‘¨ | | 0 | Sunday | 0-53 | è¯¥å¹´åŒ…æ‹¬ä¸€ä¸ªæ˜ŸæœŸå¤© | | 1 | Monday | 0-53 | è¯¥å¹´åŒ…å«è¶…è¿‡ 3 å¤© | | 2 | Sunday | 1-53 | è¯¥å¹´åŒ…æ‹¬ä¸€ä¸ªæ˜ŸæœŸå¤© | | 3 | Monday | 1-53 | è¯¥å¹´åŒ…å«è¶…è¿‡ 3 å¤© | | 4 | Sunday | 0-53 | è¯¥å¹´åŒ…å«è¶…è¿‡ 3 å¤© | | 5 | Monday | 0-53 | è¯¥å¹´åŒ…æ‹¬ä¸€ä¸ªæ˜ŸæœŸä¸€ | | 6 | Sunday | 1-53 | è¯¥å¹´åŒ…å«è¶…è¿‡ 3 å¤© | | 7 | Monday | 1-53 | è¯¥å¹´åŒ…æ‹¬ä¸€ä¸ªæ˜ŸæœŸä¸€ | mysql SELECT WEEK(1998-02-20);+---------------------------------------------------------+| WEEK(1998-02-20) |+---------------------------------------------------------+| 7 |+---------------------------------------------------------+1 row in set (0.00 sec) WEEKDAY(date) è¿”å› date æ˜¯å…¶æ‰€åœ¨æ˜ŸæœŸçš„ç¬¬å‡ å¤© (0 Monday, 1 Tuesday, . 6 Sunday)ã€‚ mysql SELECT WEEKDAY(1998-02-03 22:23:00);+---------------------------------------------------------+| WEEKDAY(1998-02-03 22:23:00) |+---------------------------------------------------------+| 1 |+---------------------------------------------------------+1 row in set (0.00 sec) WEEKOFYEAR(date) è¿”å› date æ‰€åœ¨çš„å‘¨æ˜¯å½“å¹´çš„ç¬¬å‡ å‘¨ï¼ŒèŒƒå›´ä» 1 åˆ° 53. WEEKOFYEAR() æ˜¯ä¸€ä¸ªå…¼å®¹æ€§å‡½æ•°ï¼Œå…¶åŠŸèƒ½åŒ WEEK(date, 3)ç›¸åŒã€‚ mysql SELECT WEEKOFYEAR(1998-02-20);+---------------------------------------------------------+| WEEKOFYEAR(1998-02-20) |+---------------------------------------------------------+| 8 |+---------------------------------------------------------+1 row in set (0.00 sec) YEAR(date) è¿”å› date çš„å¹´ä»½éƒ¨åˆ†ï¼ŒèŒƒå›´ä¸º 1000 åˆ° 9999ï¼Œå¯¹äºæ—¥æœŸ 0 åˆ™è¿”å› 0ã€‚ mysql SELECT YEAR(98-02-03);+---------------------------------------------------------+| YEAR(98-02-03) |+---------------------------------------------------------+| 1998 |+---------------------------------------------------------+1 row in set (0.00 sec) YEARWEEK(date), YEARWEEK(date,mode) è¿”å› date æ‰€åœ¨çš„å¹´ä»½å’Œå‘¨æ•°ã€‚mode å‚æ•°æ„ä¹‰ä¸ WEEK() å‡½æ•°çš„å®Œå…¨ä¸€æ ·ã€‚å¯¹äºä¸€å¹´ä¸­çš„ç¬¬ä¸€å‘¨å’Œæœ€åä¸€å‘¨æ¥è¯´ï¼Œç»“æœä¸­çš„å¹´ä»½å¯èƒ½ä¼šå’Œ date å‚æ•°ä¸­çš„å¹´ä»½ä¸åŒã€‚ mysql SELECT YEARWEEK(1987-01-01);+---------------------------------------------------------+| YEAR(98-02-03)YEARWEEK(1987-01-01) |+---------------------------------------------------------+| 198653 |+---------------------------------------------------------+1 row in set (0.00 sec) æ³¨æ„ï¼Œè¿™é‡Œçš„å‘¨æ•°åŒ WEEK() è¿”å›çš„ä¸åŒï¼Œå› ä¸º WEEK() å‡½æ•°çš„è¿”å›å€¼åœ¨ç»™å®šå¹´ä»½çš„çš„ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­å¾—å‡ºã€‚"},{"title":"SQL SUM() å‡½æ•°","path":"/wiki/sql/function/sum.html","content":"SQL SUM() å‡½æ•° SUM() å‡½æ•°è¿”å›æ•°å­—åˆ—çš„æ€»å’Œã€‚ SQL SUM() è¯­æ³•SELECT SUM(column_name)FROM table_nameWHERE condition; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œOrderDetailsâ€ è¡¨çš„æ•°æ®ï¼š OrderDetailID OrderID ProductID Quantity 1 10248 11 12 2 10248 42 10 3 10248 72 5 4 10249 14 9 5 10249 51 40 SQL SUM() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥æŸ¥æ‰¾ â€œOrderDetailsâ€ è¡¨çš„ â€œQuantityâ€ å­—æ®µçš„æ€»æ•°ï¼š ç¤ºä¾‹ SELECT SUM(Quantity)FROM OrderDetails;"},{"title":"SQL FIELD()å‡½æ•°","path":"/wiki/sql/function/field.html","content":"SQL FIELD()å‡½æ•° SQL FIELD()å‡½æ•°å®ä¾‹ä»£ç æ•™ç¨‹ FIELD()å‡½æ•°è¿”å›çš„ç´¢å¼•ï¼ˆä»1å¼€å§‹çš„ä½ç½®ï¼‰çš„stråœ¨str1ï¼Œstr2ï¼Œstr3ï¼Œâ€¦åˆ—è¡¨ä¸­ã€‚å¦‚æœstræ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›0ã€‚ã€€å°±æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‚æ•°strï¼Œè·Ÿåé¢çš„Nä¸ªå­—ç¬¦ä¸²å‚æ•°ä¸­å¯»æ‰¾ï¼Œå¦‚æœå¯»æ‰¾åˆ°ä¸€æ¨¡ä¸€æ ·çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å…¶ç´¢å¼•ä½ç½® FIELD(str,str1,str2,str3,â€¦) è¿”å›çš„ç´¢å¼•ï¼ˆä»1å¼€å§‹çš„ä½ç½®ï¼‰çš„stråœ¨str1ï¼Œstr2ï¼Œstr3ï¼Œâ€¦åˆ—è¡¨ä¸­ã€‚å¦‚æœstræ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›0ã€‚ ä¾‹å­åœ¨ç¬¬2ä¸ªä½ç½®æ‰¾åˆ°äº†å­—ç¬¦ä¸²â€ejâ€ SQL SELECT FIELD(ej, Hej, ej, Heja, hej, foo); +---------------------------------------------------------+ | FIELD(ej, Hej, ej, Heja, hej, foo) | +---------------------------------------------------------+ | 2 | +---------------------------------------------------------+ 1 row in set (0.00 sec)"},{"title":"SQL CONCAT()å‡½æ•°","path":"/wiki/sql/function/concat.html","content":"SQL CONCAT å‡½æ•° **ã€€CONCAT** å‡½æ•°ç”¨äºå°†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯•ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š SQL SELECT CONCAT(FIRST , SECOND);+----------------------------+| CONCAT(FIRST , SECOND) |+----------------------------+| FIRST SECOND |+----------------------------+1 row in set (0.00 sec) è¦å¯¹ CONCAT å‡½æ•°æœ‰æ›´ä¸ºæ·±å…¥çš„äº†è§£ï¼Œè¯·è€ƒè™‘ employee_tbl è¡¨ï¼Œè¡¨ä¸­è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š SQL SELECT * FROM employee_tbl;+------+------+------------+--------------------+| id | name | work_date | daily_typing_pages |+------+------+------------+--------------------+| 1 | John | 2007-01-24 | 250 || 2 | Ram | 2007-05-27 | 220 || 3 | Jack | 2007-05-06 | 170 || 3 | Jack | 2007-04-06 | 100 || 4 | Jill | 2007-04-06 | 220 || 5 | Zara | 2007-06-06 | 300 || 5 | Zara | 2007-02-06 | 350 |+------+------+------------+--------------------+7 rows in set (0.00 sec) ç°åœ¨ï¼Œå‡è®¾ä½ æƒ³è¦å°†ä¸Šè¡¨ä¸­æ‰€æœ‰çš„å§“åï¼ˆnameï¼‰ã€idå’Œå·¥ä½œæ—¥ï¼ˆwork_dateï¼‰è¿æ¥åœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤æ¥è¾¾åˆ°ç›®çš„ï¼š SQL SELECT CONCAT(id, name, work_date) - FROM employee_tbl;+-----------------------------+| CONCAT(id, name, work_date) |+-----------------------------+| 1John2007-01-24 || 2Ram2007-05-27 || 3Jack2007-05-06 || 3Jack2007-04-06 || 4Jill2007-04-06 || 5Zara2007-06-06 || 5Zara2007-02-06 |+-----------------------------+7 rows in set (0.00 sec)"},{"title":"SQL å­—æ¯å¤§å°å†™è½¬æ¢å‡½æ•°","path":"/wiki/sql/function/case.html","content":"SQL å­—æ¯å¤§å°å†™è½¬æ¢å‡½æ•° SQL å­—æ¯å¤§å°å†™è½¬æ¢å‡½æ•°åŒ…å«äº†UPPER(s)ã€UCASE(s)ã€LOWER(s)å’ŒLCASE(s)å‡½æ•°ã€‚ 1ã€LOWER(s)å‡½æ•°å’ŒLCASE(s)å‡½æ•°LOWER(s)æˆ–è€…LCASE(s)å‡½æ•°å¯ä»¥å°†å­—ç¬¦ä¸²sä¸­çš„å­—æ¯å­—ç¬¦å…¨éƒ¨è½¬æ¢æˆå°å†™å­—æ¯ã€‚ **ã€€å®ä¾‹ï¼š** ä½¿ç”¨LOWERå‡½æ•°æˆ–è€…LCASEå‡½æ•°å°†å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å­—ç¬¦è½¬æ¢ä¸ºå°å†™ã€‚SQLè¯­å¥å¦‚ä¸‹ï¼š SELECT LOWER(WWW.ngrok.cn),LCASE(ngrok.CN); æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 2ã€UPPER(s)å‡½æ•°å’ŒUCASE(s)å‡½æ•°UPPER(s)æˆ–UCASE(s)å‡½æ•°å¯ä»¥å°†å­—ç¬¦ä¸²sä¸­çš„å­—æ¯å­—ç¬¦å…¨éƒ¨è½¬æ¢æˆå¤§å†™å­—æ¯ã€‚**ã€€å®ä¾‹ï¼š**ã€€ä½¿ç”¨UPPERå‡½æ•°æˆ–è€…UCASEå‡½æ•°å°†å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—æ¯å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™ã€‚SQLè¯­å¥å¦‚ä¸‹ï¼š SELECT UPPER(www.ngrok.cn),UCASE(ngrok);"},{"title":"SQL FIRST()å‡½æ•°","path":"/wiki/sql/function/first.html","content":"SQL FIRST() å‡½æ•° FIRST() å‡½æ•°è¿”å›æŒ‡å®šçš„åˆ—ä¸­ç¬¬ä¸€ä¸ªè®°å½•çš„å€¼ã€‚ SQL FIRST() è¯­æ³•SELECT FIRST(column_name) FROM table_name; **æ³¨é‡Šï¼š**åªæœ‰ MS Access æ”¯æŒ FIRST() å‡½æ•°ã€‚ SQL Serverã€MySQL å’Œ Oracle ä¸­çš„ SQL FIRST() å·¥ä½œåŒº SQL Server è¯­æ³•ç¤ºä¾‹ SELECT TOP 1 column_nameFROM table_nameORDER BY column_name ASC; ç¤ºä¾‹ SELECT TOP 1 CustomerName FROM Customers ORDER BY CustomerID ASC; MySQL è¯­æ³•ç¤ºä¾‹ SELECT column_name FROM table_name ORDER BY column_name ASC LIMIT 1; ç¤ºä¾‹ SELECT CustomerName FROM Customers ORDER BY CustomerID ASC LIMIT 1; Oracle è¯­æ³•SELECT column_name FROM table_name ORDER BY column_name ASC WHERE ROWNUM =1; å®ä¾‹SELECT CustomerName FROM Customers ORDER BY CustomerID ASC WHERE ROWNUM =1; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL FIRST() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥é€‰å– â€œCustomersâ€ è¡¨çš„ â€œCustomerNameâ€ åˆ—ä¸­ç¬¬ä¸€ä¸ªè®°å½•çš„å€¼ï¼š ç¤ºä¾‹ SELECT FIRST(CustomerName) AS FirstCustomer FROM Customers;"},{"title":"SQL FORMAT()å‡½æ•°","path":"/wiki/sql/function/format.html","content":"SQL FORMAT() å‡½æ•° FORMAT() å‡½æ•°ç”¨äºå¯¹å­—æ®µçš„æ˜¾ç¤ºè¿›è¡Œæ ¼å¼åŒ–ã€‚ SQL FORMAT() è¯­æ³•SELECT FORMAT(column_name,format) FROM table_name; å‚æ•° æè¿° column_name å¿…éœ€ã€‚è¦æ ¼å¼åŒ–çš„å­—æ®µã€‚ format å¿…éœ€ã€‚è§„å®šæ ¼å¼ã€‚ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œProductsâ€ è¡¨çš„æ•°æ®ï¼š ProductID ProductName SupplierID CategoryID Unit Price 1 Chais 1 1 10 boxes x 20 bags 18 2 Chang 1 1 24 - 12 oz bottles 19 3 Aniseed Syrup 1 2 12 - 550 ml bottles 10 4 Chef Antonâ€™s Cajun Seasoning 2 2 48 - 6 oz jars 21.35 5 Chef Antonâ€™s Gumbo Mix 2 2 36 boxes 25 SQL FORMAT() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œProductsâ€ è¡¨ä¸­é€‰å–äº§å“åç§°ä»¥åŠå½“å¤©ï¼ˆæ ¼å¼åŒ–ä¸º YYYY-MM-DDï¼‰çš„ä»·æ ¼ï¼š ç¤ºä¾‹ SELECT ProductName, Price, FORMAT(Now(),YYYY-MM-DD) AS PerDateFROM Products;"},{"title":"SQL GROUP BY()å‡½æ•°","path":"/wiki/sql/function/groupby.html","content":"SQL GROUP BY è¯­å¥ Aggregate å‡½æ•°å¸¸å¸¸éœ€è¦æ·»åŠ  GROUP BY è¯­å¥ã€‚ GROUP BYè¯­å¥é€šå¸¸ä¸é›†åˆå‡½æ•°ï¼ˆCOUNTï¼ŒMAXï¼ŒMINï¼ŒSUMï¼ŒAVGï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æŒ‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å¯¹ç»“æœé›†è¿›è¡Œåˆ†ç»„ã€‚ GROUP BY è¯­å¥ GROUP BY è¯­å¥ç”¨äºç»“åˆ Aggregate å‡½æ•°ï¼Œæ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å¯¹ç»“æœé›†è¿›è¡Œåˆ†ç»„ã€‚ SQL GROUP BY è¯­æ³•SELECT column_name(s)FROM table_nameWHERE conditionGROUP BY column_name(s)ORDER BY column_name(s); æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL GROUP BYç¤ºä¾‹ ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºäº†æ¯ä¸ªå›½å®¶åœ°åŒºçš„å®¢æˆ·æ•°é‡ï¼š SELECT COUNT(CustomerID), CountryFROM CustomersGROUP BY Country; ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºæ¯ä¸ªå›½å®¶çš„å®¢æˆ·æ•°é‡ï¼Œä»é«˜åˆ°ä½æ’åºï¼š SELECT COUNT(CustomerID), CountryFROM CustomersGROUP BY CountryORDER BY COUNT(CustomerID) DESC; æ¼”ç¤ºæ•°æ®åº“ ä»¥ä¸‹æ˜¯ç½—æ–¯æ–‡ç¤ºä¾‹æ•°æ®åº“ä¸­â€è®¢å•â€è¡¨çš„ä¸€ä¸ªé€‰æ‹©ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10248 90 5 1996-07-04 3 10249 81 6 1996-07-05 1 10250 34 4 1996-07-08 2 å¹¶ä»â€Shippersâ€è¡¨ä¸­é€‰æ‹©ï¼š ShipperID ShipperName 1 Speedy Express 2 United Package 3 Federal Shipping GROUP BYä½¿ç”¨JOINç¤ºä¾‹ ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºäº†æ¯ä¸ªå‘è´§äººå‘é€çš„è®¢å•æ•°é‡ï¼š SELECT Shippers.ShipperName, COUNT(Orders.OrderID) AS NumberOfOrders FROM OrdersLEFT JOIN Shippers ON Orders.ShipperID = Shippers.ShipperIDGROUP BY ShipperName;"},{"title":"SQL HAVINGå‡½æ•°","path":"/wiki/sql/function/having.html","content":"SQL HAVING å­å¥ åœ¨ SQL ä¸­å¢åŠ  HAVING å­å¥åŸå› æ˜¯ï¼ŒWHERE å…³é”®å­—æ— æ³•ä¸ Aggregate å‡½æ•°ä¸€èµ·ä½¿ç”¨ã€‚ HAVINGå­å¥å·²æ·»åŠ åˆ°SQLä¸­ï¼Œå› ä¸ºWHEREå…³é”®å­—ä¸èƒ½ç”¨äºèšåˆå‡½æ•°ã€‚ SQL HAVING è¯­æ³•SELECT column_name(s)FROM table_nameWHERE conditionGROUP BY column_name(s)HAVING conditionORDER BY column_name(s); æ¼”ç¤ºæ•°æ®åº“ ä»¥ä¸‹æ˜¯ç½—æ–¯æ–‡ç¤ºä¾‹æ•°æ®åº“ä¸­â€Customersâ€è¡¨çš„é€‰æ‹©ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL HAVINGç¤ºä¾‹ ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºäº†æ¯ä¸ªå›½å®¶åœ°åŒºçš„å®¢æˆ·æ•°é‡ã€‚åªåŒ…æ‹¬è¶…è¿‡5ä½å®¢æˆ·çš„å›½å®¶åœ°åŒºï¼š SELECT COUNT(CustomerID), CountryFROM CustomersGROUP BY CountryHAVING COUNT(CustomerID) 5; ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºæ¯ä¸ªå›½å®¶çš„å®¢æˆ·æ•°é‡ï¼Œä»é«˜åˆ°ä½æ’åºï¼ˆä»…åŒ…æ‹¬æ‹¥æœ‰è¶…è¿‡5åå®¢æˆ·çš„å›½å®¶åœ°åŒºï¼‰ï¼š SELECT COUNT(CustomerID), CountryFROM CustomersGROUP BY CountryHAVING COUNT(CustomerID) 5ORDER BY COUNT(CustomerID) DESC; æ¼”ç¤ºæ•°æ®åº“ ä»¥ä¸‹æ˜¯ç½—æ–¯æ–‡ç¤ºä¾‹æ•°æ®åº“ä¸­â€Ordersâ€è¡¨çš„ä¸€ä¸ªé€‰æ‹©ï¼š OrderID CustomerID EmployeeID OrderDate ShipperID 10248 90 5 1996-07-04 3 10249 81 6 1996-07-05 1 10250 34 4 1996-07-08 2 å¹¶ä»â€Employeesâ€è¡¨ä¸­é€‰æ‹©ï¼š EmployeeID LastName FirstName BirthDate Photo Notes 1 Davolio Nancy 1968-12-08 EmpID1.pic Education includes a BAâ€¦. 2 Fuller Andrew 1952-02-19 EmpID2.pic Andrew received his BTSâ€¦. 3 Leverling Janet 1963-08-30 EmpID3.pic Janet has a BS degreeâ€¦. æ›´å¤šHAVINGç¤ºä¾‹ ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºå·²æ³¨å†Œè¶…è¿‡10ä¸ªè®¢å•çš„å‘˜å·¥ï¼š SELECT Employees.LastName, COUNT(Orders.OrderID) AS NumberOfOrdersFROM OrdersINNER JOIN Employees ON Orders.EmployeeID = Employees.EmployeeIDGROUP BY LastNameHAVING COUNT(Orders.OrderID) 10; ä»¥ä¸‹SQLè¯­å¥åˆ—å‡ºå‘˜å·¥â€Davolioâ€æˆ–â€Fullerâ€æ˜¯å¦å·²æ³¨å†Œè¶…è¿‡25ä¸ªè®¢å•ï¼š SELECT Employees.LastName, COUNT(Orders.OrderID) AS NumberOfOrdersFROM OrdersINNER JOIN Employees ON Orders.EmployeeID = Employees.EmployeeIDWHERE LastName = Davolio OR LastName = FullerGROUP BY LastNameHAVING COUNT(Orders.OrderID) 25;"},{"title":"SQL LAST()å‡½æ•°","path":"/wiki/sql/function/last.html","content":"SQL LAST() å‡½æ•° LAST() å‡½æ•°è¿”å›æŒ‡å®šçš„åˆ—ä¸­æœ€åä¸€ä¸ªè®°å½•çš„å€¼ã€‚ SQL LAST() è¯­æ³•SELECT LAST(column_name) FROM table_name; **æ³¨é‡Šï¼š**åªæœ‰ MS Access æ”¯æŒ LAST() å‡½æ•°ã€‚ SQL Serverã€MySQL å’Œ Oracle ä¸­çš„ SQL LAST() å·¥ä½œåŒº SQL Server è¯­æ³•ç¤ºä¾‹ SELECT TOP 1 column_nameFROM table_nameORDER BY column_name DESC; ç¤ºä¾‹ SELECT TOP 1 CustomerName FROM Customers ORDER BY CustomerID DESC; MySQL è¯­æ³•ç¤ºä¾‹ SELECT column_name FROM table_name ORDER BY column_name DESC LIMIT 1; ç¤ºä¾‹ SELECT CustomerName FROM Customers ORDER BY CustomerID DESC LIMIT 1; Oracle è¯­æ³•ç¤ºä¾‹ SELECT column_name FROM table_name ORDER BY column_name DESC WHERE ROWNUM =1; ç¤ºä¾‹ SELECT CustomerName FROM Customers ORDER BY CustomerID DESC WHERE ROWNUM =1; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL LAST() Example ä¸‹é¢çš„ SQL è¯­å¥é€‰å– â€œCustomersâ€ è¡¨çš„ â€œCustomerNameâ€ åˆ—ä¸­æœ€åä¸€ä¸ªè®°å½•çš„å€¼ï¼š ç¤ºä¾‹ SELECT LAST(CustomerName) AS LastCustomer FROM Customers;"},{"title":"SQL LCASE()å‡½æ•°","path":"/wiki/sql/function/lcase.html","content":"SQL LCASE() å‡½æ•° LCASE() å‡½æ•°æŠŠå­—æ®µçš„å€¼è½¬æ¢ä¸ºå°å†™ã€‚ SQL LCASE() è¯­æ³•SELECT LCASE(column_name) FROM table_name; ç”¨äº SQL Server çš„è¯­æ³•SELECT LOWER(column_name) FROM table_name; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL LCASE() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å– â€œCustomerNameâ€ å’Œ â€œCityâ€ åˆ—ï¼Œå¹¶æŠŠ â€œCustomerNameâ€ åˆ—çš„å€¼è½¬æ¢ä¸ºå°å†™ï¼š ç¤ºä¾‹ SELECT LCASE(CustomerName) AS Customer, CityFROM Customers;"},{"title":"SQL LEN()å‡½æ•°","path":"/wiki/sql/function/len.html","content":"SQL LEN() å‡½æ•° LEN() å‡½æ•°è¿”å›æ–‡æœ¬å­—æ®µä¸­å€¼çš„é•¿åº¦ã€‚ SQL LEN() è¯­æ³•SELECT LEN(column_name) FROM table_name; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL LEN() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å– â€œCustomerNameâ€ å’Œ â€œAddressâ€ åˆ—ä¸­å€¼çš„é•¿åº¦ï¼š ç¤ºä¾‹ SELECT CustomerName,LEN(Address) as LengthOfAddressFROM Customers;"},{"title":"SQL LOWER()å‡½æ•°","path":"/wiki/sql/function/lower.html","content":"SQL LOWER()å‡½æ•° SQL lower()å­—æ¯å¤§å°å†™è½¬æ¢å‡½æ•°ï¼Œå°†å­—æ¯è½¬æˆå°å†™ - è¿”å›æ ¹æ®å½“å‰å­—ç¬¦é›†æ˜ å°„æ‰€æœ‰å­—ç¬¦æ”¹å˜ä¸ºå°å†™ï¼Œå³è¿”å›å°å†™çš„å­—ç¬¦ä¸²ã€‚ LOWER(str)è¿”å›æ ¹æ®å½“å‰å­—ç¬¦é›†æ˜ å°„æ‰€æœ‰å­—ç¬¦æ”¹å˜ä¸ºå°å†™ï¼Œå³è¿”å›å°å†™çš„å­—ç¬¦ä¸²ã€‚ SQL SELECT LOWER(ngrok); +---------------------------------------------------------+ | LOWER(ngrok) | +---------------------------------------------------------+ | ngrok | +---------------------------------------------------------+ 1 row in set (0.00 sec)"},{"title":"SQL MID()å‡½æ•°","path":"/wiki/sql/function/mid.html","content":"SQL MID() å‡½æ•° MID() å‡½æ•°ç”¨äºä»æ–‡æœ¬å­—æ®µä¸­æå–å­—ç¬¦ã€‚ SQL MID() è¯­æ³•SELECT MID(column_name,start[,length]) FROM table_name; å‚æ•° æè¿° column_name å¿…éœ€ã€‚è¦æå–å­—ç¬¦çš„å­—æ®µã€‚ start å¿…éœ€ã€‚è§„å®šå¼€å§‹ä½ç½®ï¼ˆèµ·å§‹å€¼æ˜¯ 1ï¼‰ã€‚ length å¯é€‰ã€‚è¦è¿”å›çš„å­—ç¬¦æ•°ã€‚å¦‚æœçœç•¥ï¼Œåˆ™ MID() å‡½æ•°è¿”å›å‰©ä½™æ–‡æœ¬ã€‚ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL MID() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨çš„ â€œCityâ€ åˆ—ä¸­æå–å‰ 4 ä¸ªå­—ç¬¦ï¼š ç¤ºä¾‹ SELECT MID(City,1,4) AS ShortCityFROM Customers;"},{"title":"SQL NOW()å‡½æ•°","path":"/wiki/sql/function/now.html","content":"SQL NOW() å‡½æ•° NOW() å‡½æ•°è¿”å›å½“å‰ç³»ç»Ÿçš„æ—¥æœŸå’Œæ—¶é—´ã€‚ SQL NOW() è¯­æ³•SELECT NOW() FROM table_name; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œProductsâ€ è¡¨çš„æ•°æ®ï¼š ProductID ProductName SupplierID CategoryID Unit Price 1 Chais 1 1 10 boxes x 20 bags 18 2 Chang 1 1 24 - 12 oz bottles 19 3 Aniseed Syrup 1 2 12 - 550 ml bottles 10 4 Chef Antonâ€™s Cajun Seasoning 2 2 48 - 6 oz jars 21.35 5 Chef Antonâ€™s Gumbo Mix 2 2 36 boxes 25 SQL NOW() å®ä¾‹ä¸‹é¢çš„ SQL è¯­å¥ä» â€œProductsâ€ è¡¨ä¸­é€‰å–äº§å“åç§°ä»¥åŠå½“å¤©çš„ä»·æ ¼ï¼š ç¤ºä¾‹ SELECT ProductName, Price, Now() AS PerDateFROM Products;"},{"title":"SQL NULL()å‡½æ•°","path":"/wiki/sql/function/null.html","content":"SQL NULL å‡½æ•° SQL ISNULL()ã€NVL()ã€IFNULL() å’Œ COALESCE() å‡½æ•°è¯·çœ‹ä¸‹é¢çš„ â€œProductsâ€ è¡¨ï¼š P_Id ProductName UnitPrice UnitsInStock UnitsOnOrder 1 Jarlsberg 10.45 16 15 2 Mascarpone 32.56 23 3 Gorgonzola 15.67 9 20 å‡å¦‚ â€œUnitsOnOrderâ€ æ˜¯å¯é€‰çš„ï¼Œè€Œä¸”å¯ä»¥åŒ…å« NULL å€¼ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ SELECT è¯­å¥ï¼š SELECT ProductName,UnitPrice*(UnitsInStock+UnitsOnOrder) FROM Products åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œå¦‚æœæœ‰ â€œUnitsOnOrderâ€ å€¼æ˜¯ NULLï¼Œé‚£ä¹ˆç»“æœæ˜¯ NULLã€‚ å¾®è½¯çš„ ISNULL() å‡½æ•°ç”¨äºè§„å®šå¦‚ä½•å¤„ç† NULL å€¼ã€‚ NVL()ã€IFNULL() å’Œ COALESCE() å‡½æ•°ä¹Ÿå¯ä»¥è¾¾åˆ°ç›¸åŒçš„ç»“æœã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¸Œæœ› NULL å€¼ä¸º 0ã€‚ ä¸‹é¢ï¼Œå¦‚æœ â€œUnitsOnOrderâ€ æ˜¯ NULLï¼Œåˆ™ä¸ä¼šå½±å“è®¡ç®—ï¼Œå› ä¸ºå¦‚æœå€¼æ˜¯ NULL åˆ™ ISNULL() è¿”å› 0ï¼š SQL Server MS AccessSELECT ProductName,UnitPrice*(UnitsInStock+ISNULL(UnitsOnOrder,0)) FROM Products OracleOracle æ²¡æœ‰ ISNULL() å‡½æ•°ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ NVL() å‡½æ•°è¾¾åˆ°ç›¸åŒçš„ç»“æœï¼š SELECT ProductName,UnitPrice*(UnitsInStock+NVL(UnitsOnOrder,0)) FROM Products MySQLMySQL ä¹Ÿæ‹¥æœ‰ç±»ä¼¼ ISNULL() çš„å‡½æ•°ã€‚ä¸è¿‡å®ƒçš„å·¥ä½œæ–¹å¼ä¸å¾®è½¯çš„ ISNULL() å‡½æ•°æœ‰ç‚¹ä¸åŒã€‚ åœ¨ MySQL ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ IFNULL() å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š SELECT ProductName,UnitPrice*(UnitsInStock+IFNULL(UnitsOnOrder,0)) FROM Products æˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ COALESCE() å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š SELECT ProductName,UnitPrice*(UnitsInStock+COALESCE(UnitsOnOrder,0)) FROM Products"},{"title":"SQL RAND()å‡½æ•°","path":"/wiki/sql/function/rand.html","content":"SQL RAND å‡½æ•° SQL æœ‰ä¸€ä¸ª RAND å‡½æ•°ï¼Œç”¨äºäº§ç”Ÿ 0 è‡³ 1 ä¹‹é—´çš„éšæœºæ•°ï¼š SQL SELECT RAND( ), RAND( ), RAND( );+------------------+-----------------+------------------+| RAND( ) | RAND( ) | RAND( ) |+------------------+-----------------+------------------+| 0.45464584925645 | 0.1824410643265 | 0.54826780459682 |+------------------+-----------------+------------------+1 row in set (0.00 sec) å½“ä»¥æŸä¸ªæ•´æ•°å€¼ä½œä¸ºå‚æ•°æ¥è°ƒç”¨çš„æ—¶å€™ï¼ŒRAND() ä¼šå°†è¯¥å€¼ä½œä¸ºéšæœºæ•°å‘ç”Ÿå™¨çš„ç§å­ã€‚å¯¹äºæ¯ä¸€ä¸ªç»™å®šçš„ç§å­ï¼ŒRAND() å‡½æ•°éƒ½ä¼šäº§ç”Ÿä¸€åˆ—å¯ä»¥å¤ç°çš„æ•°å­—ï¼š SQL SELECT RAND(1), RAND( ), RAND( );+------------------+------------------+------------------+| RAND(1 ) | RAND( ) | RAND( ) |+------------------+------------------+------------------+| 0.18109050223705 | 0.75023211143001 | 0.20788908117254 |+------------------+------------------+------------------+1 row in set (0.00 sec) ä½ å¯ä»¥ä½¿ç”¨ ORDER BY RAND() æ¥å¯¹ä¸€ç»„è®°å½•è¿›è¡ŒéšæœºåŒ–æ’åˆ—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š SQL SELECT * FROM employee_tbl;+------+------+------------+--------------------+| id | name | work_date | daily_typing_pages |+------+------+------------+--------------------+| 1 | John | 2007-01-24 | 250 || 2 | Ram | 2007-05-27 | 220 || 3 | Jack | 2007-05-06 | 170 || 3 | Jack | 2007-04-06 | 100 || 4 | Jill | 2007-04-06 | 220 || 5 | Zara | 2007-06-06 | 300 || 5 | Zara | 2007-02-06 | 350 |+------+------+------------+--------------------+7 rows in set (0.00 sec) ç°åœ¨ï¼Œè¯•è¯•ä¸‹é¢çš„å‘½ä»¤ï¼š SQL SELECT * FROM employee_tbl ORDER BY RAND();+------+------+------------+--------------------+| id | name | work_date | daily_typing_pages |+------+------+------------+--------------------+| 5 | Zara | 2007-06-06 | 300 || 3 | Jack | 2007-04-06 | 100 || 3 | Jack | 2007-05-06 | 170 || 2 | Ram | 2007-05-27 | 220 || 4 | Jill | 2007-04-06 | 220 || 5 | Zara | 2007-02-06 | 350 || 1 | John | 2007-01-24 | 250 |+------+------+------------+--------------------+7 rows in set (0.01 sec)SQL SELECT * FROM employee_tbl ORDER BY RAND();+------+------+------------+--------------------+| id | name | work_date | daily_typing_pages |+------+------+------------+--------------------+| 5 | Zara | 2007-02-06 | 350 || 2 | Ram | 2007-05-27 | 220 || 3 | Jack | 2007-04-06 | 100 || 1 | John | 2007-01-24 | 250 || 4 | Jill | 2007-04-06 | 220 || 3 | Jack | 2007-05-06 | 170 || 5 | Zara | 2007-06-06 | 300 |+------+------+------------+--------------------+7 rows in set (0.00 sec)"},{"title":"SQL REPLACE()å‡½æ•°","path":"/wiki/sql/function/replace.html","content":"SQL REPLACE()å­—ç¬¦ä¸²æ›¿æ¢å‡½æ•° å®ä¾‹æŠŠæ•°æ®åº“è¡¨ articleä¸­çš„æ‰€æœ‰titleå­—æ®µé‡Œçš„ ngrokå­—ç¬¦ä¸²æ›¿æ¢æˆhelloã€‚ update `article` set title=replace(title,ngrok,hello); replaceå‡½æ•°å®šä¹‰replace(original-stringï¼Œsearch-stringï¼Œreplace-string) å‚æ•° original-stringï¼š è¢«æœç´¢çš„å­—ç¬¦ä¸²ã€‚å¯ä¸ºä»»æ„é•¿åº¦ã€‚ search-stringï¼š è¦æœç´¢å¹¶è¢« replace-string æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²çš„é•¿åº¦ä¸åº”è¶…è¿‡ 255 ä¸ªå­—èŠ‚ã€‚å¦‚æœ search-string æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰åŸæ ·è¿”å›åŸå§‹å­—ç¬¦ä¸²ã€‚ replace-stringï¼š è¯¥å­—ç¬¦ä¸²ç”¨äºæ›¿æ¢ search-stringã€‚å¯ä¸ºä»»æ„é•¿åº¦ã€‚å¦‚æœ replace-string æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™åˆ é™¤å‡ºç°çš„æ‰€æœ‰ search-stringã€‚ è¯´æ˜ç”¨å­—ç¬¦ä¸²è¡¨è¾¾å¼3æ›¿æ¢å­—ç¬¦ä¸²è¡¨è¾¾å¼1ä¸­å‡ºç°çš„æ‰€æœ‰å­—ç¬¦ä¸²è¡¨è¾¾å¼2çš„åŒ¹é…é¡¹ã€‚è¿”å›æ–°çš„å­—ç¬¦ä¸²ã€‚ã€€å¦‚æœæœ‰æŸä¸ªå‚æ•°ä¸º NULLï¼Œæ­¤å‡½æ•°è¿”å› NULLã€‚"},{"title":"SQL ROUND()å‡½æ•°","path":"/wiki/sql/function/round.html","content":"SQL ROUND() å‡½æ•° ROUND() å‡½æ•°ç”¨äºæŠŠæ•°å€¼å­—æ®µèˆå…¥ä¸ºæŒ‡å®šçš„å°æ•°ä½æ•°ã€‚ SQL ROUND() è¯­æ³•SELECT ROUND(column_name,decimals) FROM table_name; å‚æ•° æè¿° column_name å¿…éœ€ã€‚è¦èˆå…¥çš„å­—æ®µã€‚ decimals å¿…éœ€ã€‚è§„å®šè¦è¿”å›çš„å°æ•°ä½æ•°ã€‚ æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œProductsâ€ è¡¨çš„æ•°æ®ï¼š ProductID ProductName SupplierID CategoryID Unit Price 1 Chais 1 1 10 boxes x 20 bags 18 2 Chang 1 1 24 - 12 oz bottles 19 3 Aniseed Syrup 1 2 12 - 550 ml bottles 10 4 Chef Antonâ€™s Cajun Seasoning 2 2 48 - 6 oz jars 21.35 5 Chef Antonâ€™s Gumbo Mix 2 2 36 boxes 25 SQL ROUND() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œProductsâ€ è¡¨ä¸­é€‰å–äº§å“åç§°å’Œä»·æ ¼èˆå…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•° (æå–å‰ 4 ä¸ªå­—ç¬¦)ï¼š ç¤ºä¾‹ SELECT ProductName, ROUND(Price,0) AS RoundedPriceFROM Products;"},{"title":"SQL SQRT()å‡½æ•°","path":"/wiki/sql/function/sqrt.html","content":"SQL SQRT å‡½æ•° **ã€€SQRT** å‡½æ•°ç”¨äºè®¡ç®—å¾—å‡ºä»»ä½•æ•°å€¼çš„å¹³æ–¹æ ¹ã€‚ä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ SELECT è¯­å¥è®¡ç®—ä»»ä½•æ•°å€¼çš„å¹³æ–¹æ ¹ï¼š SQL select SQRT(16);+----------+| SQRT(16) |+----------+| 4.000000 |+----------+1 row in set (0.00 sec) ä½ åœ¨è¿™é‡Œçœ‹åˆ°çš„æ˜¯æµ®ç‚¹æ•°ï¼Œå› ä¸º SQL ä»¥æµ®ç‚¹æ•°ç±»å‹æ¥è¿›è¡Œå¹³æ–¹æ ¹çš„è®¡ç®—ã€‚ ä½ è¿˜å¯ä»¥ä½¿ç”¨ SQRT å‡½æ•°æ¥è®¡ç®—è¡¨ä¸­è®°å½•çš„å¹³æ–¹æ ¹ã€‚è¦è·å¾—å¯¹ SQRT å‡½æ•°æ›´æ·±å…¥çš„äº†è§£ï¼Œè¯·è€ƒè™‘ employee_tbl è¡¨ï¼Œè¡¨ä¸­è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š SQL SELECT * FROM employee_tbl;+------+------+------------+--------------------+| id | name | work_date | daily_typing_pages |+------+------+------------+--------------------+| 1 | John | 2007-01-24 | 250 || 2 | Ram | 2007-05-27 | 220 || 3 | Jack | 2007-05-06 | 170 || 3 | Jack | 2007-04-06 | 100 || 4 | Jill | 2007-04-06 | 220 || 5 | Zara | 2007-06-06 | 300 || 5 | Zara | 2007-02-06 | 350 |+------+------+------------+--------------------+7 rows in set (0.00 sec) ç°åœ¨ï¼Œå‡è®¾ä½ æƒ³è¦è·å–æ¯ä¸ªè®°å½•ä¸­ daily_typing_pages çš„å¹³æ–¹æ ¹ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æ¥è¾¾åˆ°ç›®çš„ï¼š SQL SELECT name, SQRT(daily_typing_pages) - FROM employee_tbl;+------+--------------------------+| name | SQRT(daily_typing_pages) |+------+--------------------------+| John | 15.811388 || Ram | 14.832397 || Jack | 13.038405 || Jack | 10.000000 || Jill | 14.832397 || Zara | 17.320508 || Zara | 18.708287 |+------+--------------------------+7 rows in set (0.00 sec)"},{"title":"SQL TRIM()å‡½æ•°","path":"/wiki/sql/function/trim.html","content":"SQL TRIM()å‡½æ•°å»é™¤å­—ç¬¦ä¸²å¤´å°¾ç©ºæ ¼ SQL ä¸­çš„ TRIM å‡½æ•°æ˜¯ç”¨æ¥ç§»é™¤æ‰ä¸€ä¸ªå­—ä¸²ä¸­çš„å­—å¤´æˆ–å­—å°¾ã€‚æœ€å¸¸è§çš„ç”¨é€”æ˜¯ç§»é™¤å­—é¦–æˆ–å­—å°¾çš„ç©ºç™½ã€‚è¿™ä¸ªå‡½æ•°åœ¨ä¸åŒçš„èµ„æ–™åº“ä¸­æœ‰ä¸åŒçš„åç§°ï¼š MySQL: TRIM( ), RTRIM( ), LTRIM( ) Oracle: RTRIM( ), LTRIM( ) SQL Server: RTRIM( ), LTRIM( ) å„ç§ trim å‡½æ•°çš„è¯­æ³•å¦‚ä¸‹ï¼š TRIM ( [ [ä½ç½®] [è¦ç§»é™¤çš„å­—ä¸²] FROM ] å­—ä¸²) : [ä½ç½®] çš„å¯èƒ½å€¼ä¸º LEADING (èµ·å¤´), TRAILING (ç»“å°¾), or BOTH (èµ·å¤´åŠç»“å°¾)ã€‚ è¿™ä¸ªå‡½æ•°å°†æŠŠ [è¦ç§»é™¤çš„å­—ä¸²] ä»å­—ä¸²çš„èµ·å¤´ã€ç»“å°¾ï¼Œæˆ–æ˜¯èµ·å¤´åŠç»“å°¾ç§»é™¤ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰åˆ—å‡º [è¦ç§»é™¤çš„å­—ä¸²] æ˜¯ä»€ä¹ˆçš„è¯ï¼Œé‚£ç©ºç™½å°±ä¼šè¢«ç§»é™¤ã€‚ LTRIM(å­—ä¸²) : å°†æ‰€æœ‰å­—ä¸²èµ·å¤´çš„ç©ºç™½ç§»é™¤ã€‚ RTRIM(å­—ä¸²) : å°†æ‰€æœ‰å­—ä¸²ç»“å°¾çš„ç©ºç™½ç§»é™¤ã€‚ ä¾‹1 TRIM()SELECT TRIM( Sample ); ç»“æœ: Sample ä¾‹2 LTRIM()SELECT LTRIM( Sample ); ç»“æœ: Sample ä¾‹3 RTRIM()SELECT RTRIM( Sample ); ç»“æœ: Sample"},{"title":"SQL UCASE()å‡½æ•°","path":"/wiki/sql/function/ucase.html","content":"SQL UCASE() å‡½æ•° UCASE() å‡½æ•°æŠŠå­—æ®µçš„å€¼è½¬æ¢ä¸ºå¤§å†™ã€‚ SQL UCASE() è¯­æ³•SELECT UCASE(column_name) FROM table_name; ç”¨äº SQL Server çš„è¯­æ³•SELECT UPPER(column_name) FROM table_name; æ¼”ç¤ºæ•°æ®åº“ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ Northwind æ ·æœ¬æ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯é€‰è‡ª â€œCustomersâ€ è¡¨çš„æ•°æ®ï¼š CustomerID CustomerName ContactName Address City PostalCode Country 1 Alfreds Futterkiste Maria Anders Obere Str. 57 Berlin 12209 Germany 2 Ana Trujillo Emparedados y helados Ana Trujillo Avda. de la ConstituciÃ³n 2222 MÃ©xico D.F. 05021 Mexico 3 Antonio Moreno TaquerÃ­a Antonio Moreno Mataderos 2312 MÃ©xico D.F. 05023 Mexico 4 Around the Horn Thomas Hardy 120 Hanover Sq. London WA1 1DP UK 5 Berglunds snabbkÃ¶p Christina Berglund BerguvsvÃ¤gen 8 LuleÃ¥ S-958 22 Sweden SQL UCASE() å®ä¾‹ ä¸‹é¢çš„ SQL è¯­å¥ä» â€œCustomersâ€ è¡¨ä¸­é€‰å– â€œCustomerNameâ€ å’Œ â€œCityâ€ åˆ—ï¼Œå¹¶æŠŠ â€œCustomerNameâ€ åˆ—çš„å€¼è½¬æ¢ä¸ºå¤§å†™ï¼š ç¤ºä¾‹ SELECT UCASE(CustomerName) AS Customer, CityFROM Customers;"},{"title":"SQL UPPER()å‡½æ•°","path":"/wiki/sql/function/upper.html","content":"SQL UPPER()å‡½æ•° SQL upper()å‡½æ•°å­—æ¯å¤§å°å†™è½¬æ¢å‡½æ•°ï¼Œå°†å­—æ¯è½¬æˆå¤§å†™ - è¿”å›å­—ç¬¦ä¸²strï¼Œæ ¹æ®å½“å‰å­—ç¬¦é›†æ˜ å°„çš„æ‰€æœ‰å­—ç¬¦æ›´æ”¹ä¸ºå¤§å†™ã€‚ UPPER(str)è¿”å›å­—ç¬¦ä¸²strï¼Œæ ¹æ®å½“å‰å­—ç¬¦é›†æ˜ å°„çš„æ‰€æœ‰å­—ç¬¦æ›´æ”¹ä¸ºå¤§å†™ã€‚ SQL SELECT UPPER(Allah-hus-ngrok); +---------------------------------------------------------+ | UPPER(Allah-hus-ngrok) | +---------------------------------------------------------+ | ALLAH-HUS-ngrok | +---------------------------------------------------------+ 1 row in set (0.00 sec)"},{"title":"SQL HAVING å­å¥","path":"/wiki/sql/sentence/hav.html","content":"SQL HAVING å­å¥ HAVING å­å¥ä½¿ä½ èƒ½å¤ŸæŒ‡å®šè¿‡æ»¤æ¡ä»¶ï¼Œä»è€Œæ§åˆ¶æŸ¥è¯¢ç»“æœä¸­å“ªäº›ç»„å¯ä»¥å‡ºç°åœ¨æœ€ç»ˆç»“æœé‡Œé¢ã€‚ WHERE å­å¥å¯¹è¢«é€‰æ‹©çš„åˆ—æ–½åŠ æ¡ä»¶ï¼Œè€Œ HAVING å­å¥åˆ™å¯¹ GROUP BY å­å¥æ‰€äº§ç”Ÿçš„ç»„æ–½åŠ æ¡ä»¶ã€‚ è¯­æ³•ä¸‹é¢å¯ä»¥çœ‹åˆ° HAVING å­å¥åœ¨ SEL ECT æŸ¥è¯¢ä¸­çš„ä½ç½®ï¼š SELECTFROMWHEREGROUP BYHAVINGORDER BY åœ¨ SELECT æŸ¥è¯¢ä¸­ï¼ŒHAVING å­å¥å¿…é¡»ç´§éš GROUP BY å­å¥ï¼Œå¹¶å‡ºç°åœ¨ ORDER BY å­å¥ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ä¹‹å‰ã€‚å¸¦æœ‰ HAVING å­å¥çš„ SELECT è¯­å¥çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š SELECT column1, column2 FROM table1, table2WHERE [ conditions ]GROUP BY column1, column2HAVING [ conditions ]ORDER BY column1, column2 ç¤ºä¾‹ è€ƒè™‘ CUSTOMERS è¡¨ï¼Œè¡¨ä¸­çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | 4500.00 || 7 | Muffy | 24 | Indore | 10000.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢æ˜¯ä¸€ä¸ªæœ‰å…³ HAVING å­å¥ä½¿ç”¨çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹å°†ä¼šç­›é€‰å‡ºå‡ºç°æ¬¡æ•°å¤§äºæˆ–ç­‰äº 2 çš„æ‰€æœ‰è®°å½•ã€‚ SQL SELECT ID, NAME, AGE, ADDRESS, SALARYFROM CUSTOMERSGROUP BY ageHAVING COUNT(age) = 2; å…¶æ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+---------+---------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+---------+---------+| 2 | Khilan | 25 | Delhi | 1500.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 |+----+----------+-----+---------+---------+ SQL HAVING å®ä¾‹ç°åœ¨æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾æ€»è®¿é—®é‡å¤§äº 200 çš„ç½‘ç«™ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ SQL è¯­å¥ï¼š ç¤ºä¾‹ SELECT Websites.name, Websites.url, SUM(access_log.count) AS nums FROM (access_log INNER JOIN Websites ON access_log.site_id=Websites.id) GROUP BY Websites.name HAVING SUM(access_log.count) 200; æ‰§è¡Œä»¥ä¸Š SQL è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š ç°åœ¨æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾æ€»è®¿é—®é‡å¤§äº 200 çš„ç½‘ç«™ï¼Œå¹¶ä¸” alexa æ’åå°äº 200ã€‚ æˆ‘ä»¬åœ¨ SQL è¯­å¥ä¸­å¢åŠ ä¸€ä¸ªæ™®é€šçš„ WHERE å­å¥ï¼š ç¤ºä¾‹ SELECT Websites.name, SUM(access_log.count) AS nums FROM Websites INNER JOIN access_log ON Websites.id=access_log.site_id WHERE Websites.alexa 200 GROUP BY Websites.name HAVING SUM(access_log.count) 200;"},{"title":"SQL ç©ºå€¼","path":"/wiki/sql/sentence/kongzhi.html","content":"ä»€ä¹ˆæ˜¯SQL NULLå€¼ï¼Ÿ SQL ä¸­ï¼ŒNULL ç”¨äºè¡¨ç¤ºç¼ºå¤±çš„å€¼ã€‚æ•°æ®è¡¨ä¸­çš„ NULL å€¼è¡¨ç¤ºè¯¥å€¼æ‰€å¤„çš„å­—æ®µä¸ºç©ºã€‚ å…·æœ‰NULLå€¼çš„å­—æ®µæ˜¯æ²¡æœ‰å€¼çš„å­—æ®µã€‚ å¦‚æœè¡¨ä¸­çš„å­—æ®µæ˜¯å¯é€‰çš„ï¼Œåˆ™å¯ä»¥æ’å…¥æ–°è®°å½•æˆ–æ›´æ–°è®°å½•è€Œä¸å‘è¯¥å­—æ®µæ·»åŠ å€¼ã€‚ç„¶åï¼Œè¯¥å­—æ®µå°†è¢«ä¿å­˜ä¸ºNULLå€¼ã€‚ å€¼ä¸º NULL çš„å­—æ®µæ²¡æœ‰å€¼ã€‚å°¤å…¶è¦æ˜ç™½çš„æ˜¯ï¼ŒNULL å€¼ä¸ 0 æˆ–è€…åŒ…å«ç©ºç™½ï¼ˆspacesï¼‰çš„å­—æ®µæ˜¯ä¸åŒçš„ã€‚ æ³¨æ„ï¼šç†è§£NULLå€¼ä¸é›¶å€¼æˆ–åŒ…å«ç©ºæ ¼çš„å­—æ®µä¸åŒæ˜¯éå¸¸é‡è¦çš„ã€‚å…·æœ‰NULLå€¼çš„å­—æ®µæ˜¯åœ¨è®°å½•åˆ›å»ºæœŸé—´ç•™ç©ºçš„å­—æ®µï¼ å¦‚ä½•æµ‹è¯•NULLå€¼ï¼Ÿ ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ï¼Œæˆ–ï¼‰æ¥æµ‹è¯•NULLå€¼æ˜¯ä¸å¯è¡Œçš„ã€‚ æˆ‘ä»¬å°†ä¸å¾—ä¸ä½¿ç”¨IS NULLå’ŒIS NOT NULLè¿ç®—ç¬¦ã€‚ IS NULLè¯­æ³•SELECT column_namesFROM table_nameWHERE column_name IS NULL; IS NOT NULLè¯­æ³•SELECT column_namesFROM table_nameWHERE column_name IS NOT NULL; æ¼”ç¤ºæ•°æ®åº“ å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹çš„â€äººå‘˜â€è¡¨ï¼š ID LastName FirstName Address City 1 Doe John 542 W. 27th Street New York 2 Bloggs Joe London 3 Roe Jane New York 4 Smith John 110 Bishopsgate London å‡è®¾â€äººå‘˜â€è¡¨ä¸­çš„â€Addressâ€åˆ—æ˜¯å¯é€‰çš„ã€‚å¦‚æœæ’å…¥çš„è®°å½•æ²¡æœ‰â€Addressâ€å€¼ï¼Œåˆ™â€Addressâ€åˆ—å°†ä»¥ç©ºå€¼ä¿å­˜ã€‚ IS NULLè¿ç®—ç¬¦ ä»¥ä¸‹SQLè¯­å¥ä½¿ç”¨IS NULLè¿ç®—ç¬¦æ¥åˆ—å‡ºæ‰€æœ‰æ²¡æœ‰åœ°å€çš„äººå‘˜ï¼š SELECT LastName, FirstName, Address FROM PersonsWHERE Address IS NULL; ç»“æœé›†å°†å¦‚ä¸‹æ‰€ç¤ºï¼š LastName FirstName Address Bloggs Joe Roe Jane æç¤ºï¼šå§‹ç»ˆä½¿ç”¨IS NULLæ¥æŸ¥æ‰¾ç©ºå€¼ã€‚ IS NOT NULLè¿ç®—ç¬¦ ä»¥ä¸‹SQLè¯­å¥ä½¿ç”¨IS NOT NULLè¿ç®—ç¬¦æ¥åˆ—å‡ºæ‰€æœ‰å…·æœ‰åœ°å€çš„äººå‘˜ï¼š SELECT LastName, FirstName, Address FROM PersonsWHERE Address IS NOT NULL; ç»“æœé›†å°†å¦‚ä¸‹æ‰€ç¤ºï¼š LastName FirstName Address Doe John 542 W. 27th Street Smith John 110 Bishopsgate è¯­æ³•ï¼š åˆ›å»ºè¡¨çš„æ—¶å€™ï¼ŒNULL çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š SQL CREATE TABLE CUSTOMERS( ID INT NOT NULL, NAME VARCHAR (20) NOT NULL, AGE INT NOT NULL, ADDRESS CHAR (25) , SALARY DECIMAL (18, 2), PRIMARY KEY (ID)); è¿™é‡Œï¼ŒNOT NULLè¡¨ç¤ºå¯¹äºç»™å®šåˆ—ï¼Œå¿…é¡»æŒ‰ç…§å…¶æ•°æ®ç±»å‹æ˜ç¡®èµ‹å€¼ã€‚æœ‰ä¸¤åˆ—å¹¶æ²¡æœ‰ä½¿ç”¨ NOT NULL æ¥é™å®šï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›åˆ—å¯ä»¥ä¸º NULLã€‚ å€¼ä¸º NULL çš„å­—æ®µæ˜¯åœ¨è®°å½•åˆ›å»ºçš„è¿‡ç¨‹ä¸­ç•™ç©ºçš„å­—æ®µã€‚ ç¤ºä¾‹ï¼š NULL å€¼ä¼šç»™é€‰å–æ•°æ®å¸¦æ¥éº»çƒ¦ã€‚ä¸è¿‡ï¼Œå› ä¸º NULL å’Œå…¶ä»–ä»»ä½•å€¼ä½œæ¯”è¾ƒï¼Œå…¶ç»“æœæ€»æ˜¯æœªçŸ¥çš„ï¼Œæ‰€ä»¥å«æœ‰ NULL çš„è®°å½•ä¸ä¼šåŒ…å«åœ¨æœ€ç»ˆç»“æœé‡Œé¢ã€‚ å¿…é¡»ä½¿ç”¨ IS NULL æˆ–è€… IS NOT NULL æ¥æ£€æµ‹æŸä¸ªå­—æ®µæ˜¯å¦ä¸º NULLã€‚ è€ƒè™‘ä¸‹é¢çš„ CUSTOMERS æ•°æ®è¡¨ï¼Œé‡Œé¢åŒ…å«çš„è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 || 6 | Komal | 22 | MP | || 7 | Muffy | 24 | Indore | |+----+----------+-----+-----------+----------+ ä¸‹é¢æ˜¯ IS NOT NULL è¿ç®—ç¬¦çš„ç”¨æ³•ï¼š SQL SELECT ID, NAME, AGE, ADDRESS, SALARY FROM CUSTOMERS WHERE SALARY IS NOT NULL; ä¸Šé¢è¯­å¥çš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 1 | Ramesh | 32 | Ahmedabad | 2000.00 || 2 | Khilan | 25 | Delhi | 1500.00 || 3 | kaushik | 23 | Kota | 2000.00 || 4 | Chaitali | 25 | Mumbai | 6500.00 || 5 | Hardik | 27 | Bhopal | 8500.00 |+----+----------+-----+-----------+----------+ ä¸‹é¢æ˜¯ IS NULL è¿ç®—ç¬¦çš„ç”¨æ³•ï¼š SQL SELECT ID, NAME, AGE, ADDRESS, SALARY FROM CUSTOMERS WHERE SALARY IS NULL; å…¶è¿è¡Œç»“æœå¦‚ä¸‹ï¼š +----+----------+-----+-----------+----------+| ID | NAME | AGE | ADDRESS | SALARY |+----+----------+-----+-----------+----------+| 6 | Komal | 22 | MP | || 7 | Muffy | 24 | Indore | |+----+----------+-----+-----------+----------+"},{"title":"å…¨é¢è§£æSQLå­˜å‚¨è¿‡ç¨‹","path":"/wiki/sql/summary/storage.html","content":"å…¨é¢è§£æSQLå­˜å‚¨è¿‡ç¨‹ å­˜å‚¨è¿‡ç¨‹(Stored Procedure),æ˜¯ä¸€ç»„ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„SQL è¯­å¥ï¼Œç±»ä¼¼ä¸€é—¨ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œä¹ŸåŒ…æ‹¬äº†æ•°æ®ç±»å‹ã€æµç¨‹æ§åˆ¶ã€è¾“å…¥å’Œè¾“å‡ºå’Œå®ƒè‡ªå·±çš„å‡½æ•°åº“ã€‚å­˜å‚¨è¿‡ç¨‹å¯ä»¥è¯´æ˜¯ä¸€ä¸ªè®°å½•é›†ï¼Œå®ƒæ˜¯ç”±ä¸€äº›T-SQLè¯­å¥ç»„æˆçš„ä»£ç å—ï¼Œè¿™äº›T-SQLè¯­å¥ä»£ç åƒä¸€ä¸ªæ–¹æ³•ä¸€æ ·å®ç°ä¸€äº›åŠŸèƒ½ï¼ˆå¯¹å•è¡¨æˆ–å¤šè¡¨çš„å¢åˆ æ”¹æŸ¥ï¼‰ï¼Œç„¶åå†ç»™è¿™ä¸ªä»£ç å—å–ä¸€ä¸ªåå­—ï¼Œåœ¨ç”¨åˆ°è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™è°ƒç”¨ä»–å°±è¡Œäº†ã€‚ä¸è¿‡SQLå­˜å‚¨è¿‡ç¨‹å¯¹äºä¸€äº›åˆå­¦è€…æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒæŠ½è±¡éš¾ç†è§£çš„ï¼Œå› æ­¤æœ¬æ–‡å°†ç”±æµ…è‡³æ·±åœ°å‰–æSQLå­˜å‚¨è¿‡ç¨‹ï¼Œå¸®åŠ©ä½ å­¦ä¹ å®ƒã€‚ å­˜å‚¨è¿‡ç¨‹çš„ä¼˜ç‚¹ å­˜å‚¨è¿‡ç¨‹åªåœ¨åˆ›é€ æ—¶è¿›è¡Œç¼–è¯‘ï¼Œä»¥åæ¯æ¬¡æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹éƒ½ä¸éœ€å†é‡æ–°ç¼–è¯‘ï¼Œè€Œä¸€èˆ¬SQLè¯­å¥æ¯æ‰§è¡Œä¸€æ¬¡å°±ç¼–è¯‘ä¸€æ¬¡,æ‰€ä»¥ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹å¯æé«˜æ•°æ®åº“æ‰§è¡Œé€Ÿåº¦ï¼Œæ•ˆç‡è¦æ¯”T-SQLè¯­å¥é«˜ã€‚ å½“å¯¹æ•°æ®åº“è¿›è¡Œå¤æ‚æ“ä½œæ—¶ï¼Œå¯å°†æ­¤å¤æ‚æ“ä½œç”¨å­˜å‚¨è¿‡ç¨‹å°è£…èµ·æ¥ä¸æ•°æ®åº“æä¾›çš„äº‹åŠ¡å¤„ç†ç»“åˆä¸€èµ·ä½¿ç”¨ã€‚ ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹åœ¨ç¨‹åºåœ¨ç½‘ç»œä¸­äº¤äº’æ—¶å¯ä»¥æ›¿ä»£å¤§å †çš„T-SQLè¯­å¥ï¼Œæ‰€ä»¥ä¹Ÿèƒ½é™ä½ç½‘ç»œçš„é€šä¿¡é‡ï¼Œæé«˜é€šä¿¡é€Ÿç‡ã€‚ å­˜å‚¨è¿‡ç¨‹å¯ä»¥é‡å¤ä½¿ç”¨,å¯å‡å°‘æ•°æ®åº“å¼€å‘äººå‘˜çš„å·¥ä½œé‡ã€‚ å®‰å…¨æ€§é«˜,å¯è®¾å®šåªæœ‰æŸäº›ç”¨æˆ·æ‰å…·æœ‰å¯¹æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„ä½¿ç”¨æƒ å­˜å‚¨è¿‡ç¨‹åŸºæœ¬è¯­æ³•--------------åˆ›å»ºå­˜å‚¨è¿‡ç¨‹-----------------CREATE PROC [ EDURE ] procedure_name [ ; number ] [ @parameter data_type [ VARYING ] [ = default ] [ OUTPUT ] ] [ ,...n ][ WITH RECOMPILE | ENCRYPTION | RECOMPILE , ENCRYPTION ][ FOR REPLICATION ]AS sql_statement [ ...n ]--------------è°ƒç”¨å­˜å‚¨è¿‡ç¨‹-----------------EXECUTE Procedure_name --å­˜å‚¨è¿‡ç¨‹å¦‚æœæœ‰å‚æ•°ï¼Œåé¢åŠ å‚æ•°æ ¼å¼ä¸ºï¼š@å‚æ•°å=valueï¼Œä¹Ÿå¯ç›´æ¥ä¸ºå‚æ•°å€¼value--------------åˆ é™¤å­˜å‚¨è¿‡ç¨‹-----------------drop procedure procedure_name --åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­èƒ½è°ƒç”¨å¦å¤–ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œè€Œä¸èƒ½åˆ é™¤å¦å¤–ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„å‚æ•° procedure_name ï¼šå­˜å‚¨è¿‡ç¨‹çš„åç§°ï¼Œåœ¨å‰é¢åŠ #ä¸ºå±€éƒ¨ä¸´æ—¶å­˜å‚¨è¿‡ç¨‹ï¼ŒåŠ ##ä¸ºå…¨å±€ä¸´æ—¶å­˜å‚¨è¿‡ç¨‹ã€‚ numberï¼šæ˜¯å¯é€‰çš„æ•´æ•°ï¼Œç”¨æ¥å¯¹åŒåçš„è¿‡ç¨‹åˆ†ç»„ï¼Œä»¥ä¾¿ç”¨ä¸€æ¡ DROP PROCEDURE è¯­å¥å³å¯å°†åŒç»„çš„è¿‡ç¨‹ä¸€èµ·é™¤å»ã€‚ä¾‹å¦‚ï¼Œåä¸º orders çš„åº”ç”¨ç¨‹åºä½¿ç”¨çš„è¿‡ç¨‹å¯ä»¥å‘½åä¸º orderproc;1ã€orderproc;2 ç­‰ã€‚DROP PROCEDURE orderproc è¯­å¥å°†é™¤å»æ•´ä¸ªç»„ã€‚å¦‚æœåç§°ä¸­åŒ…å«å®šç•Œæ ‡è¯†ç¬¦ï¼Œåˆ™æ•°å­—ä¸åº”åŒ…å«åœ¨æ ‡è¯†ç¬¦ä¸­ï¼Œåªåº”åœ¨ procedure_name å‰åä½¿ç”¨é€‚å½“çš„å®šç•Œç¬¦ã€‚ @parameterï¼šå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°ã€‚å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªã€‚ç”¨æˆ·å¿…é¡»åœ¨æ‰§è¡Œè¿‡ç¨‹æ—¶æä¾›æ¯ä¸ªæ‰€å£°æ˜å‚æ•°çš„å€¼ï¼ˆé™¤éå®šä¹‰äº†è¯¥å‚æ•°çš„é»˜è®¤å€¼ï¼‰ã€‚å­˜å‚¨è¿‡ç¨‹æœ€å¤šå¯ä»¥æœ‰ 2100 ä¸ªå‚æ•°ã€‚ä½¿ç”¨ @ ç¬¦å·ä½œä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦æ¥æŒ‡å®šå‚æ•°åç§°ã€‚å‚æ•°åç§°å¿…é¡»ç¬¦åˆæ ‡è¯†ç¬¦çš„è§„åˆ™ã€‚æ¯ä¸ªè¿‡ç¨‹çš„å‚æ•°ä»…ç”¨äºè¯¥è¿‡ç¨‹æœ¬èº«ï¼›ç›¸åŒçš„å‚æ•°åç§°å¯ä»¥ç”¨åœ¨å…¶å®ƒè¿‡ç¨‹ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå‚æ•°åªèƒ½ä»£æ›¿å¸¸é‡ï¼Œè€Œä¸èƒ½ç”¨äºä»£æ›¿è¡¨åã€åˆ—åæˆ–å…¶å®ƒæ•°æ®åº“å¯¹è±¡çš„åç§°ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ EXECUTEã€‚ data_typeï¼šå‚æ•°çš„æ•°æ®ç±»å‹ã€‚æ‰€æœ‰æ•°æ®ç±»å‹ï¼ˆåŒ…æ‹¬ textã€ntext å’Œ imageï¼‰å‡å¯ä»¥ç”¨ä½œå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°ã€‚ä¸è¿‡ï¼Œcursor æ•°æ®ç±»å‹åªèƒ½ç”¨äº OUTPUT å‚æ•°ã€‚å¦‚æœæŒ‡å®šçš„æ•°æ®ç±»å‹ä¸º cursorï¼Œä¹Ÿå¿…é¡»åŒæ—¶æŒ‡å®š VARYING å’Œ OUTPUT å…³é”®å­—ã€‚æœ‰å…³ SQL Server æä¾›çš„æ•°æ®ç±»å‹åŠå…¶è¯­æ³•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§æ•°æ®ç±»å‹ã€‚è¯´æ˜å¯¹äºå¯ä»¥æ˜¯ cursor æ•°æ®ç±»å‹çš„è¾“å‡ºå‚æ•°ï¼Œæ²¡æœ‰æœ€å¤§æ•°ç›®çš„é™åˆ¶ã€‚ VARYINGï¼šæŒ‡å®šä½œä¸ºè¾“å‡ºå‚æ•°æ”¯æŒçš„ç»“æœé›†ï¼ˆç”±å­˜å‚¨è¿‡ç¨‹åŠ¨æ€æ„é€ ï¼Œå†…å®¹å¯ä»¥å˜åŒ–ï¼‰ã€‚ä»…é€‚ç”¨äºæ¸¸æ ‡å‚æ•°ã€‚ defaultï¼š å‚æ•°çš„é»˜è®¤å€¼ã€‚å¦‚æœå®šä¹‰äº†é»˜è®¤å€¼ï¼Œä¸å¿…æŒ‡å®šè¯¥å‚æ•°çš„å€¼å³å¯æ‰§è¡Œè¿‡ç¨‹ã€‚é»˜è®¤å€¼å¿…é¡»æ˜¯å¸¸é‡æˆ– NULLã€‚å¦‚æœè¿‡ç¨‹å°†å¯¹è¯¥å‚æ•°ä½¿ç”¨ LIKE å…³é”®å­—ï¼Œé‚£ä¹ˆé»˜è®¤å€¼ä¸­å¯ä»¥åŒ…å«é€šé…ç¬¦ï¼ˆ%ã€_ã€[] å’Œ [^]ï¼‰ã€‚ OUTPUTï¼šè¡¨æ˜å‚æ•°æ˜¯è¿”å›å‚æ•°ã€‚è¯¥é€‰é¡¹çš„å€¼å¯ä»¥è¿”å›ç»™ EXEC[UTE]ã€‚ä½¿ç”¨ OUTPUT å‚æ•°å¯å°†ä¿¡æ¯è¿”å›ç»™è°ƒç”¨è¿‡ç¨‹ã€‚Textã€ntext å’Œ image å‚æ•°å¯ç”¨ä½œ OUTPUT å‚æ•°ã€‚ä½¿ç”¨ OUTPUT å…³é”®å­—çš„è¾“å‡ºå‚æ•°å¯ä»¥æ˜¯æ¸¸æ ‡å ä½ç¬¦ã€‚ RECOMPILE: è¡¨æ˜ SQL Server ä¸ä¼šç¼“å­˜è¯¥è¿‡ç¨‹çš„è®¡åˆ’ï¼Œè¯¥è¿‡ç¨‹å°†åœ¨è¿è¡Œæ—¶é‡æ–°ç¼–è¯‘ã€‚åœ¨ä½¿ç”¨éå…¸å‹å€¼æˆ–ä¸´æ—¶å€¼è€Œä¸å¸Œæœ›è¦†ç›–ç¼“å­˜åœ¨å†…å­˜ä¸­çš„æ‰§è¡Œè®¡åˆ’æ—¶ï¼Œè¯·ä½¿ç”¨ RECOMPILE é€‰é¡¹ã€‚ ENCRYPTION: è¡¨ç¤º SQL Server åŠ å¯† syscomments è¡¨ä¸­åŒ…å« CREATE PROCEDURE è¯­å¥æ–‡æœ¬çš„æ¡ç›®ã€‚ä½¿ç”¨ ENCRYPTION å¯é˜²æ­¢å°†è¿‡ç¨‹ä½œä¸º SQL Server å¤åˆ¶çš„ä¸€éƒ¨åˆ†å‘å¸ƒã€‚ è¯´æ˜åœ¨å‡çº§è¿‡ç¨‹ä¸­ï¼ŒSQL Server åˆ©ç”¨å­˜å‚¨åœ¨ syscomments ä¸­çš„åŠ å¯†æ³¨é‡Šæ¥é‡æ–°åˆ›å»ºåŠ å¯†è¿‡ç¨‹ã€‚ FOR REPLICATION:æŒ‡å®šä¸èƒ½åœ¨è®¢é˜…æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸ºå¤åˆ¶åˆ›å»ºçš„å­˜å‚¨è¿‡ç¨‹ã€‚.ä½¿ç”¨ FOR REPLICATION é€‰é¡¹åˆ›å»ºçš„å­˜å‚¨è¿‡ç¨‹å¯ç”¨ä½œå­˜å‚¨è¿‡ç¨‹ç­›é€‰ï¼Œä¸”åªèƒ½åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­æ‰§è¡Œã€‚æœ¬é€‰é¡¹ä¸èƒ½å’Œ WITH RECOMPILE é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚ AS:æŒ‡å®šè¿‡ç¨‹è¦æ‰§è¡Œçš„æ“ä½œã€‚ sql_statement:è¿‡ç¨‹ä¸­è¦åŒ…å«çš„ä»»æ„æ•°ç›®å’Œç±»å‹çš„ Transact-SQL è¯­å¥ã€‚ä½†æœ‰ä¸€äº›é™åˆ¶ã€‚ å®ä¾‹æ“ä½œå­¦ä¹  ä¸‹é¢é€šè¿‡è¡¨Studentæ¥å…·ä½“äº†è§£ä¸€ä¸‹å­˜å‚¨è¿‡ç¨‹ï¼Œå› ä¸ºæ˜¯è¦äº†è§£å­˜å‚¨è¿‡ç¨‹çš„ç®€å•ç”¨æ³•ï¼Œæ‰€ä»¥ä¾‹å­å¾ˆç®€å•ã€‚ æ— å‚æ•°å­˜å‚¨è¿‡ç¨‹é€‰å‡ºStudentè¡¨ä¸­çš„æ‰€æœ‰ä¿¡æ¯ create proc StuProcas //æ­¤å¤„ as ä¸å¯ä»¥çœç•¥ä¸å†™begin //begin å’Œ end æ˜¯ä¸€å¯¹ï¼Œä¸å¯ä»¥åªå†™å…¶ä¸­ä¸€ä¸ªï¼Œä½†å¯ä»¥éƒ½ä¸å†™select S#,Sname,Sage,Ssex from studentendgo æœ‰å‚æ•°å­˜å‚¨è¿‡ç¨‹**ã€€å…¨å±€å˜é‡** å…¨å±€å˜é‡ä¹Ÿç§°ä¸ºå¤–éƒ¨å˜é‡ï¼Œæ˜¯åœ¨å‡½æ•°çš„å¤–éƒ¨å®šä¹‰çš„ï¼Œå®ƒçš„ä½œç”¨åŸŸä¸ºä»å˜é‡å®šä¹‰å¤„å¼€å§‹ï¼Œåˆ°æœ¬ç¨‹åºæ–‡ä»¶çš„æœ«å°¾ã€‚ é€‰å‡ºæŒ‡å®šå§“åçš„å­¦ç”Ÿä¿¡æ¯: create proc StuProc@sname varchar(100) as beginselect S#,Sname,Sage,Ssex from student where sname=@snameendgoexec StuProc èµµé›· //æ‰§è¡Œè¯­å¥ ä¸Šé¢æ˜¯åœ¨å¤–éƒ¨ç»™å˜é‡èµ‹å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨å†…éƒ¨ç›´æ¥ç»™å˜é‡è®¾ç½®é»˜è®¤å€¼ create proc StuProc@sname varchar(100)=èµµé›·as beginselect S#,Sname,Sage,Ssex from student where sname=@snameendgoexec StuProc ä¹Ÿå¯ä»¥æŠŠå˜é‡çš„å†…å®¹è¾“å‡ºï¼Œä½¿ç”¨output create proc StuProc@sname varchar(100),@IsRight int output //ä¼ å‡ºå‚æ•°as if exists (select S#,Sname,Sage,Ssex from student where sname=@sname)set @IsRight =1elseset @IsRight=0godeclare @IsRight int exec StuProc èµµé›· , @IsRight outputselect @IsRight ä»¥ä¸Šæ˜¯å…¨å±€å˜é‡ï¼Œä¸‹é¢æ¥äº†è§£å±€éƒ¨å˜é‡ **ã€€å±€éƒ¨å˜é‡** å±€éƒ¨å˜é‡ä¹Ÿç§°ä¸ºå†…éƒ¨å˜é‡ã€‚å±€éƒ¨å˜é‡æ˜¯åœ¨å‡½æ•°å†…ä½œå®šä¹‰è¯´æ˜çš„ã€‚å…¶ä½œç”¨åŸŸä»…é™äºå‡½æ•°å†…éƒ¨ï¼Œç¦»å¼€è¯¥å‡½æ•°åå†ä½¿ç”¨è¿™ç§å˜é‡æ˜¯éæ³•çš„ã€‚ **ã€€å±€éƒ¨å˜é‡çš„å®šä¹‰** å¿…é¡»å…ˆç”¨Declareå‘½ä»¤å®šä»¥åæ‰å¯ä»¥ä½¿ç”¨ï¼Œdeclare **ã€€å±€éƒ¨å˜é‡çš„èµ‹å€¼æ–¹æ³•** set{@å˜é‡åè¡¨è¾¾å¼}æˆ–è€…select **ã€€å±€éƒ¨å˜é‡çš„æ˜¾ç¤º** create proc StuProcas declare @sname varchar(100)set @sname=èµµé›·select S#,Sname,Sage,Ssex from student where sname=@snamegoexec StuProc é‚£å¦‚æœæ˜¯è¦æŠŠå±€éƒ¨å˜é‡çš„æ•°æ®æ˜¾ç¤ºå‡ºæ¥æ€ä¹ˆåŠå‘¢ï¼Ÿ create proc StuProcas declare @sname varchar(100)set @sname=(select Sname from student where S#=01)select @snamegoexec StuProc æ›´è¯¦ç»†çš„å®ä¾‹æ“ä½œå­¦ä¹  æ¯”å¦‚ï¼Œåœ¨SQL ServeræŸ¥è¯¢ç¼–è¾‘å™¨çª—å£ä¸­ç”¨CREATE PROCEDUREè¯­å¥åˆ›å»ºå­˜å‚¨è¿‡ç¨‹PROC_InsertEmployeeï¼Œç”¨äºå®ç°å‘å‘˜å·¥ä¿¡æ¯è¡¨ï¼ˆtb_Employeeï¼‰ä¸­æ·»åŠ ä¿¡æ¯ï¼ŒåŒæ—¶ç”Ÿæˆè‡ªåŠ¨ç¼–å·ã€‚å…¶SQLè¯­å¥å¦‚ä¸‹ï¼š IF EXISTS (SELECT name FROM sysobjects WHERE name = Proc_InsertEmployee AND type = P) DROP PROCEDURE Proc_InsertEmployee GO CREATE PROCEDURE Proc_InsertEmployee @PName nvarchar(50), @PSex nvarchar(4), @PAge int, @PWage money AS begin declare @PID nvarchar(50) select @PID=Max(å‘˜å·¥ç¼–å·) from tb_Employee if(@PID is null) set @PID=P1001 else set @PID=P+cast(cast(substring(@PID,2,4) as int)+1 as nvarchar(50)) begin insert into tb_Employee values(@PID,@PName,@PSex,@PAge,@PWage) end end go å­˜å‚¨è¿‡ç¨‹çš„ä¿®æ”¹åˆ›å»ºå®Œå­˜å‚¨è¿‡ç¨‹ä¹‹åï¼Œå¦‚æœéœ€è¦é‡æ–°ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹çš„åŠŸèƒ½åŠå‚æ•°ï¼Œå¯ä»¥åœ¨SQL Server 2005ä¸­é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼šä¸€ç§æ˜¯ç”¨Microsoft SQL Server Mangementä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ï¼›å¦å¤–ä¸€ç§æ˜¯ç”¨T-SQLè¯­å¥ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ã€‚ **ã€€ä½¿ç”¨Microsoft SQL Server Mangementä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š**ã€€ï¼ˆ1ï¼‰åœ¨SQL Server Management Studioçš„â€å¯¹è±¡èµ„æºç®¡ç†å™¨â€ä¸­ï¼Œé€‰æ‹©è¦ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹æ‰€åœ¨çš„æ•°æ®åº“ï¼ˆå¦‚ï¼šdb_18ï¼‰ï¼Œç„¶ååœ¨è¯¥æ•°æ®åº“ä¸‹ï¼Œé€‰æ‹©â€å¯ç¼–ç¨‹æ€§â€ã€‚ã€€ï¼ˆ2ï¼‰æ‰“å¼€â€å­˜å‚¨è¿‡ç¨‹â€æ–‡ä»¶å¤¹ï¼Œå³é”®å•å‡»è¦ä¿®æ”¹çš„å­˜å‚¨è¿‡ç¨‹ï¼ˆå¦‚ï¼šPROC_SEINFOï¼‰ï¼Œåœ¨å¼¹å‡ºçš„å¿«æ·èœå•ä¸­é€‰æ‹©â€ä¿®æ”¹â€å‘½ä»¤ï¼Œå°†ä¼šå‡ºç°æŸ¥è¯¢ç¼–è¾‘å™¨çª—å£ã€‚ç”¨æˆ·å¯ä»¥åœ¨æ­¤çª—å£ä¸­ç¼–è¾‘T-SQLä»£ç ï¼Œå®Œæˆç¼–è¾‘åï¼Œå•å‡»å·¥å…·æ ä¸­çš„â€æ‰§è¡Œï¼ˆXï¼‰â€æŒ‰é’®ï¼Œæ‰§è¡Œä¿®æ”¹ä»£ç ã€‚ç”¨æˆ·å¯ä»¥åœ¨æŸ¥è¯¢ç¼–è¾‘å™¨ä¸‹æ–¹çš„Messageçª—å£ä¸­çœ‹åˆ°æ‰§è¡Œç»“æœä¿¡æ¯ã€‚ **ã€€ä½¿ç”¨Transact-SQLä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ï¼š**ã€€ä½¿ç”¨ALTER PROCEDUREè¯­å¥ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ï¼Œå®ƒä¸ä¼šå½±å“å­˜å‚¨è¿‡ç¨‹çš„æƒé™è®¾å®šï¼Œä¹Ÿä¸ä¼šæ›´æ”¹å­˜å‚¨è¿‡ç¨‹çš„åç§°ã€‚ è¯­æ³•ï¼š ALTER PROC [ EDURE ] procedure_name [ ; number ] [ @parameter data_type [ VARYING ] [ = default ] [ OUTPUT ] ] [ ,...n ] [ WITH RECOMPILE | ENCRYPTION | RECOMPILE , ENCRYPTION ] [ FOR REPLICATION ] AS sql_statement [ ...n ] å‚æ•°è¯´æ˜procedure_nameï¼šæ˜¯è¦æ›´æ”¹çš„å­˜å‚¨è¿‡ç¨‹çš„åç§°ã€‚ äº¤å‰é“¾æ¥ï¼šå…³äºALTER PROCEDUREè¯­å¥çš„å…¶ä»–å‚æ•°ä¸CREATE PROCEDUREè¯­å¥ç›¸åŒï¼Œå¯å‚è§ä¸Šé¢çš„â€åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°â€ã€‚ ä¾‹å¦‚ï¼Œä¿®æ”¹å­˜å‚¨è¿‡ç¨‹PROC_SEINFOï¼Œç”¨äºæŸ¥è¯¢å¹´é¾„å¤§äº35çš„å‘˜å·¥ä¿¡æ¯ã€‚SQLè¯­å¥å¦‚ä¸‹ï¼š ALTER PROCEDURE [dbo].[PROC_SEINFO] AS BEGIN SELECT * FROM tb_Employee where å‘˜å·¥å¹´é¾„35 END å­˜å‚¨è¿‡ç¨‹çš„åˆ é™¤**ã€€ä½¿ç”¨Microsoft SQL Server Mangementåˆ é™¤å­˜å‚¨è¿‡ç¨‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š** ï¼ˆ1ï¼‰åœ¨SQL Server Management Studioçš„â€å¯¹è±¡èµ„æºç®¡ç†å™¨â€ä¸­ï¼Œé€‰æ‹©è¦åˆ é™¤å­˜å‚¨è¿‡ç¨‹æ‰€åœ¨çš„æ•°æ®åº“ï¼ˆå¦‚ï¼šdb_studentï¼‰ï¼Œç„¶ååœ¨è¯¥æ•°æ®åº“ä¸‹é€‰æ‹©â€å¯ç¼–ç¨‹æ€§â€ã€‚ ï¼ˆ2ï¼‰æ‰“å¼€â€å­˜å‚¨è¿‡ç¨‹â€æ–‡ä»¶å¤¹ï¼Œå³é”®å•å‡»è¦åˆ é™¤çš„å­˜å‚¨è¿‡ç¨‹ï¼ˆå¦‚ï¼šPROC_SEINFOï¼‰ï¼Œåœ¨å¼¹å‡ºçš„å¿«æ·èœå•ä¸­é€‰æ‹©â€åˆ é™¤â€å‘½ä»¤ã€‚ ï¼ˆ3ï¼‰å•å‡»â€ç¡®å®šâ€æŒ‰é’®ï¼Œå³å¯åˆ é™¤æ‰€é€‰å®šçš„å­˜å‚¨è¿‡ç¨‹ã€‚ **æ³¨æ„ï¼š**åˆ é™¤æ•°æ®è¡¨åï¼Œå¹¶ä¸ä¼šåˆ é™¤ç›¸å…³è”çš„å­˜å‚¨è¿‡ç¨‹ï¼Œåªæ˜¯å…¶å­˜å‚¨è¿‡ç¨‹æ— æ³•æ‰§è¡Œã€‚ **ã€€ä½¿ç”¨T-SQLåˆ é™¤å­˜å‚¨è¿‡ç¨‹ï¼š** DROP PROCEDUREè¯­å¥ç”¨äºä»å½“å‰æ•°æ®åº“ä¸­åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå­˜å‚¨è¿‡ç¨‹æˆ–è¿‡ç¨‹ç»„ã€‚ è¯­æ³•ï¼š DROP PROCEDURE procedure [ ,...n ] å‚æ•°è¯´æ˜ï¼š Procedureï¼šæ˜¯è¦åˆ é™¤çš„å­˜å‚¨è¿‡ç¨‹æˆ–å­˜å‚¨è¿‡ç¨‹ç»„çš„åç§°ã€‚è¿‡ç¨‹åç§°å¿…é¡»ç¬¦åˆæ ‡è¯†ç¬¦è§„åˆ™ã€‚å¯ä»¥é€‰æ‹©æ˜¯å¦æŒ‡å®šè¿‡ç¨‹æ‰€æœ‰è€…åç§°ï¼Œä½†ä¸èƒ½æŒ‡å®šæœåŠ¡å™¨åç§°å’Œæ•°æ®åº“åç§°ã€‚ nï¼šæ˜¯è¡¨ç¤ºå¯ä»¥æŒ‡å®šå¤šä¸ªè¿‡ç¨‹çš„å ä½ç¬¦ã€‚ ä¾‹å¦‚åˆ é™¤PROC_SEINFOå­˜å‚¨è¿‡ç¨‹çš„SQLè¯­å¥å¦‚ä¸‹ã€‚ DROP PROCEDURE PROC_SEINFO ä¾‹å¦‚ï¼Œåˆ é™¤å¤šä¸ªå­˜å‚¨è¿‡ç¨‹proc10ã€proc20å’Œproc30ã€‚ DROP PROCEDURE proc10, proc20, proc30 ä¾‹å¦‚ï¼Œåˆ é™¤å­˜å‚¨è¿‡ç¨‹ç»„procsï¼ˆå…¶ä¸­åŒ…å«å­˜å‚¨è¿‡ç¨‹proc1ã€proc2ã€proc3ï¼‰ã€‚ DROP PROCEDURE procs **æ³¨æ„ï¼š**SQLè¯­å¥DROPä¸èƒ½åˆ é™¤å­˜å‚¨è¿‡ç¨‹ç»„ä¸­çš„å•ä¸ªå­˜å‚¨è¿‡ç¨‹ã€‚ åº”ç”¨å­˜å‚¨è¿‡ç¨‹éªŒè¯ç”¨æˆ·ç™»å½•èº«ä»½ï¼šç›®å‰ï¼ŒéªŒè¯ç”¨æˆ·ç™»å½•èº«ä»½çš„æ–¹æ³•æœ‰å¤šç§ï¼Œè€Œé€šè¿‡è°ƒç”¨å­˜å‚¨è¿‡ç¨‹æ¥å®ç°ç”¨æˆ·èº«ä»½éªŒè¯æ˜¯ç›®å‰æœ€å¥½çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚å› ä¸ºå­˜å‚¨è¿‡ç¨‹åœ¨åˆ›å»ºæ—¶å³åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œç¼–è¯‘ï¼Œæ‰€ä»¥æ‰§è¡Œèµ·æ¥æ¯”å•ä¸ªSQLè¯­å¥è¦å¿«å¾—å¤šã€‚ æœ¬ä¾‹æ˜¯é€šè¿‡è°ƒç”¨å­˜å‚¨è¿‡ç¨‹æ¥éªŒè¯ç”¨æˆ·ç™»å½•çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ã€‚è¿è¡Œæœ¬å®ä¾‹ï¼Œåœ¨â€ç”¨æˆ·åâ€å’Œâ€å¯†ç â€æ–‡æœ¬æ¡†ä¸­è¾“å…¥ç›¸åº”çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå•å‡»â€ç™»å½•â€æŒ‰é’®å³å¯ã€‚ ç¨‹åºå¼€å‘æ­¥éª¤ï¼š ï¼ˆ1ï¼‰æ–°å»ºä¸€ä¸ªç½‘ç«™ï¼Œå°†å…¶å‘½åä¸ºâ€indexâ€ï¼Œé»˜è®¤ä¸»é¡µåä¸ºDefault.aspxã€‚ ï¼ˆ2ï¼‰Default.aspxé¡µé¢æ¶‰åŠåˆ°çš„æ§ä»¶å¦‚è¡¨1æ‰€ç¤ºã€‚ ï¼ˆ3ï¼‰ä¸»è¦ç¨‹åºä»£ç å¦‚ä¸‹ã€‚ã€€æ‰“å¼€SQL Server Management Studioï¼Œå¹¶è¿æ¥åˆ°SQL Server2005ä¸­çš„æ•°æ®åº“ã€‚å•å‡»å·¥å…·æ ä¸­â€ â€œæŒ‰é’®ï¼Œæ–°å»ºæŸ¥è¯¢ç¼–è¾‘å™¨ã€‚åœ¨è¯¥æŸ¥è¯¢ç¼–è¾‘å™¨ä¸­ï¼Œåˆ›å»ºéªŒè¯ç™»å½•ç”¨æˆ·èº«ä»½çš„å­˜å‚¨è¿‡ç¨‹PROC_EXISTSï¼Œå…·ä½“çš„SQLè¯­å¥å¦‚ä¸‹ï¼š CREATE PROC PROC_EXISTS ( @UserName NVARCHAR(20), @PassWord NVARCHAR(20), @ReturnValue int OUTPUT ) AS IF EXISTS(select * from tb_member where userName=@UserName AND passWord=@PassWord) set @ReturnValue= 100 ELSE set @ReturnValue= -100 GO åœ¨â€ç™»å½•â€æŒ‰é’®çš„Clickäº‹ä»¶ä¸‹ï¼Œæ‰§è¡ŒéªŒè¯ç™»å½•ç”¨æˆ·èº«ä»½çš„å­˜å‚¨è¿‡ç¨‹ï¼Œå¦‚æœè¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç æ­£ç¡®ï¼Œåˆ™å¼¹å‡ºå¯¹è¯æ¡†æç¤ºç”¨æˆ·ç™»å½•æˆåŠŸï¼Œä»£ç å¦‚ä¸‹ï¼š protected void btnLogin_Click(object sender, EventArgs e) //è¿æ¥æ•°æ®åº“ myConn = new SqlConnection(ConfigurationManager.AppSettings[ConnectionString].ToString()); myCmd = new SqlCommand(PROC_EXISTS, myConn); //è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨ myCmd.CommandType = CommandType.StoredProcedure; //ä¸ºå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°èµ‹å€¼ SqlParameter userName=new SqlParameter(@UserName, SqlDbType.NVarChar, 20); userName.Value=this.txtName.Text.Trim(); myCmd.Parameters.Add(userName); SqlParameter passWord=new SqlParameter(@PassWord, SqlDbType.NVarChar, 20); passWord.Value = this.txtPassword.Text.Trim(); myCmd.Parameters.Add(passWord); //æŒ‡å‡ºè¯¥å‚æ•°æ˜¯å­˜å‚¨è¿‡ç¨‹çš„OUTPUTå‚æ•° SqlParameter ReturnValue = new SqlParameter(@ReturnValue,SqlDbType.Int ,4); ReturnValue.Direction = ParameterDirection.Output; myCmd.Parameters.Add(ReturnValue); try myConn.Open(); myCmd.ExecuteNonQuery(); if (int.Parse(ReturnValue.Value.ToString()) == 100) Response.Write(scriptalert(æ‚¨æ˜¯åˆæ³•ç”¨æˆ·ï¼Œç™»å½•æˆåŠŸï¼)/script); return; else Response.Write(scriptalert(æ‚¨è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°è¾“å…¥ï¼)/script); return; catch(Exception ex) Response.Write(ex.Message.ToString()); finally myConn.Close(); myConn.Dispose(); myCmd.Dispose();"},{"title":"å…³äºSQLå­¦ä¹ è¿‡ç¨‹","path":"/wiki/sql/summary/study.html","content":"æˆ‘ä»¬å·²ç»å­¦ä¹ äº† SQLï¼Œä¸‹ä¸€æ­¥å­¦ä¹ ä»€ä¹ˆå‘¢ï¼Ÿ SQL å­¦ä¹ è¿‡ç¨‹æœ¬ SQL æ•™ç¨‹å·²ç»å‘æ‚¨è®²è§£äº†ç”¨æ¥è®¿é—®å’Œå¤„ç†æ•°æ®åº“ç³»ç»Ÿçš„æ ‡å‡†è®¡ç®—æœºè¯­è¨€ã€‚ æˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ SQL åœ¨æ•°æ®åº“ä¸­æ‰§è¡ŒæŸ¥è¯¢ã€è·å–æ•°æ®ã€æ’å…¥æ–°çš„è®°å½•ã€åˆ é™¤è®°å½•ä»¥åŠæ›´æ–°è®°å½•ã€‚ æˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¦‚ä½•é€šè¿‡ SQL åˆ›å»ºæ•°æ®åº“ã€è¡¨ã€ç´¢å¼•ï¼Œä»¥åŠå¦‚ä½•æ’¤é”€å®ƒä»¬ã€‚ æˆ‘ä»¬å·²ç»å­¦ä¹ äº† SQL ä¸­æœ€é‡è¦çš„ Aggregate å‡½æ•°ã€‚ SQL æ˜¯ä¸€ç§ä¸æ•°æ®åº“ç³»ç»ŸååŒå·¥ä½œçš„æ ‡å‡†è¯­è¨€ï¼Œè¿™äº›æ•°æ®åº“ç³»ç»ŸåŒ…æ‹¬ MS SQL Serverã€IBM DB2ã€Oracleã€MySQL å’Œ MS Access ç­‰ç­‰ã€‚ å…³äºSQL ä¸»æœºé€‰æ‹© å¦‚æœæ‚¨æƒ³è¦æ‚¨çš„ç½‘ç«™å­˜å‚¨æ•°æ®åœ¨æ•°æ®åº“å¹¶ä»æ•°æ®åº“æ˜¾ç¤ºæ•°æ®ï¼Œæ‚¨çš„ Web æœåŠ¡å™¨å¿…é¡»èƒ½ä½¿ç”¨ SQL è¯­è¨€è®¿é—®æ•°æ®åº“ç³»ç»Ÿã€‚ å¦‚æœæ‚¨çš„ Web æœåŠ¡å™¨æ‰˜ç®¡åœ¨äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆISPï¼Œå…¨ç§° Internet Service Providerï¼‰ï¼Œæ‚¨å¿…é¡»å¯»æ‰¾ SQL ä¸»æœºè®¡åˆ’ã€‚ æœ€å¸¸è§çš„ SQL ä¸»æœºæ•°æ®åº“æ˜¯ MySQLã€MS SQL Server å’Œ MS Accessã€‚ æ‚¨å¯ä»¥åœ¨ Windows å’Œ LinuxUNIX æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œ SQL ä¸»æœºæ•°æ®åº“ã€‚ ä¸‹é¢æ˜¯æ“ä½œç³»ç»Ÿä¸Šå¯¹åº”è¿è¡Œçš„æ•°æ®åº“ç³»ç»Ÿçš„æ¦‚è§ˆã€‚ MS SQL Serveråªåœ¨ Windows OS ä¸Šè¿è¡Œã€‚ MySQLåœ¨ Windows, Mac OS X å’Œ LinuxUNIX æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚ MS Access ï¼ˆåªå»ºè®®ç”¨äºå°å‹ç½‘ç«™ï¼‰åªåœ¨ Windows OS ä¸Šè¿è¡Œã€‚"},{"title":"SQLè¯­å¥å¤§å…¨åˆ†ç±»æ•´ç†","path":"/wiki/sql/appendix/appendix.html","content":"è¯¦å°½çš„SQLè¯­å¥å¤§å…¨åˆ†ç±»æ•´ç† Structured Query Language å³ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œç®€ç§° SQLã€‚SQL æ˜¯ä¸€ç§ç‰¹æ®Šç›®çš„çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä¸€ç§æ•°æ®åº“æŸ¥è¯¢å’Œç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”¨äºå­˜å–æ•°æ®ä»¥åŠæŸ¥è¯¢ã€æ›´æ–°å’Œç®¡ç†å…³ç³»æ•°æ®åº“ç³»ç»Ÿï¼›åŒæ—¶ä¹Ÿæ˜¯æ•°æ®åº“è„šæœ¬æ–‡ä»¶çš„æ‰©å±•åã€‚SQL è¯­å¥çš„ç§ç±»è¿˜å’Œæ•°é‡éƒ½å¾ˆå¤šï¼Œå…¶ä¸­çš„å¾ˆå¤šè¯­å¥ä¹Ÿæ˜¯ç»å¸¸è¦ç”¨åˆ°çš„ï¼Œä¸‹é¢å°±æŠŠå¸¸ç”¨çš„ SQL è¯­å¥åˆ†ç±»æ•´ç†ä¸€ä¸‹ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æ‰“åŒ…ä¸‹è½½ï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚ å…ˆçŒ®ä¸Šä¸‹è½½åœ°å€ï¼š ä¸€ã€åŸºç¡€ç¯‡ 1ã€è¯´æ˜ï¼šåˆ›å»ºæ•°æ®åº“CREATE DATABASE database-name 2ã€è¯´æ˜ï¼šåˆ é™¤æ•°æ®åº“drop database dbname 3ã€è¯´æ˜ï¼šå¤‡ä»½sql serverâ€” åˆ›å»º å¤‡ä»½æ•°æ®çš„ device USE masterEXEC sp_addumpdevice disk, testBack, c:\\mssql7backup\\MyNwind_1.dat â€” å¼€å§‹ å¤‡ä»½ BACKUP DATABASE pubs TO testBack 4ã€è¯´æ˜ï¼šåˆ›å»ºæ–°è¡¨create table tabname(col1 type1 [not null] [primary key],col2 type2 [not null],..) æ ¹æ®å·²æœ‰çš„è¡¨åˆ›å»ºæ–°è¡¨ï¼šã€€Aï¼šcreate table tab_new like tab_old (ä½¿ç”¨æ—§è¡¨åˆ›å»ºæ–°è¡¨)ã€€B ï¼šcreate table tab_new as select col1,col2â€¦ from tab_old definition only 5ã€è¯´æ˜ï¼šåˆ é™¤æ–°è¡¨drop table tabname 6ã€è¯´æ˜ï¼šå¢åŠ ä¸€ä¸ªåˆ—Alter table tabname add column col type **æ³¨ï¼š**åˆ—å¢åŠ åå°†ä¸èƒ½åˆ é™¤ã€‚DB2ä¸­åˆ—åŠ ä¸Šåæ•°æ®ç±»å‹ä¹Ÿä¸èƒ½æ”¹å˜ï¼Œå”¯ä¸€èƒ½æ”¹å˜çš„æ˜¯å¢åŠ varcharç±»å‹çš„é•¿åº¦ã€‚ 7ã€è¯´æ˜ï¼šæ·»åŠ ä¸»é”®Alter table tabname add primary key(col) åˆ é™¤ä¸»é”®ï¼š Alter table tabname drop primary key(col) 8ã€è¯´æ˜ï¼šåˆ›å»ºç´¢å¼•create [unique] index idxname on tabname(col....) åˆ é™¤ç´¢å¼•ï¼š DROP INDEX index_name ON table_name **æ³¨ï¼š**ç´¢å¼•æ˜¯ä¸å¯æ›´æ”¹çš„ï¼Œæƒ³æ›´æ”¹å¿…é¡»åˆ é™¤é‡æ–°å»ºã€‚ 9ã€è¯´æ˜ï¼šåˆ›å»ºè§†å›¾create view viewname as select statement åˆ é™¤è§†å›¾ï¼š drop view viewname 10ã€è¯´æ˜ï¼šå‡ ä¸ªç®€å•çš„sqlè¯­å¥ é€‰æ‹©ï¼š select * from table1 where èŒƒå›´ æ’å…¥ï¼š insert into table1(field1,field2) values(value1,value2) åˆ é™¤ï¼š delete from table1 where èŒƒå›´ æ›´æ–°ï¼š update table1 set field1=value1 where èŒƒå›´ æŸ¥æ‰¾ï¼š select * from table1 where field1 like %value1% â€”like çš„è¯­æ³•å¾ˆç²¾å¦™ï¼Œè¯·æŸ¥èµ„æ–™! æ’åºï¼š select * from table1 order by field1,field2 [desc] æ€»æ•°ï¼š select count as totalcount from table1 æ±‚å’Œï¼š select sum(field1) as sumvalue from table1 å¹³å‡ï¼š select avg(field1) as avgvalue from table1 æœ€å¤§ï¼š select max(field1) as maxvalue from table1 æœ€å°ï¼š select min(field1) as minvalue from table1 11ã€è¯´æ˜ï¼šå‡ ä¸ªé«˜çº§æŸ¥è¯¢è¿ç®—è¯**ã€€Aï¼š UNION è¿ç®—ç¬¦**ã€€UNION è¿ç®—ç¬¦é€šè¿‡ç»„åˆå…¶ä»–ä¸¤ä¸ªç»“æœè¡¨ï¼ˆä¾‹å¦‚ TABLE1 å’Œ TABLE2ï¼‰å¹¶æ¶ˆå»è¡¨ä¸­ä»»ä½•é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ã€‚å½“ ALL éš UNIONä¸€èµ·ä½¿ç”¨æ—¶ï¼ˆå³ UNION ALLï¼‰ï¼Œä¸æ¶ˆé™¤é‡å¤è¡Œã€‚ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ´¾ç”Ÿè¡¨çš„æ¯ä¸€è¡Œä¸æ˜¯æ¥è‡ª TABLE1 å°±æ˜¯æ¥è‡ª TABLE2ã€‚ **ã€€Bï¼š EXCEPT è¿ç®—ç¬¦** EXCEPT è¿ç®—ç¬¦é€šè¿‡åŒ…æ‹¬æ‰€æœ‰åœ¨ TABLE1 ä¸­ä½†ä¸åœ¨ TABLE2 ä¸­çš„è¡Œå¹¶æ¶ˆé™¤æ‰€æœ‰é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ã€‚å½“ ALL éš EXCEPT ä¸€èµ·ä½¿ç”¨æ—¶ (EXCEPT ALL)ï¼Œä¸æ¶ˆé™¤é‡å¤è¡Œã€‚ **ã€€Cï¼š INTERSECT è¿ç®—ç¬¦** INTERSECT è¿ç®—ç¬¦é€šè¿‡åªåŒ…æ‹¬ TABLE1 å’Œ TABLE2 ä¸­éƒ½æœ‰çš„è¡Œå¹¶æ¶ˆé™¤æ‰€æœ‰é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ã€‚å½“ ALL éš INTERSECT ä¸€èµ·ä½¿ç”¨æ—¶ (INTERSECT ALL)ï¼Œä¸æ¶ˆé™¤é‡å¤è¡Œã€‚ **æ³¨ï¼š**ä½¿ç”¨è¿ç®—è¯çš„å‡ ä¸ªæŸ¥è¯¢ç»“æœè¡Œå¿…é¡»æ˜¯ä¸€è‡´çš„ã€‚ 12ã€è¯´æ˜ï¼šä½¿ç”¨å¤–è¿æ¥**ã€€Aã€left ï¼ˆouterï¼‰ joinï¼š**ã€€å·¦å¤–è¿æ¥ï¼ˆå·¦è¿æ¥ï¼‰ï¼šç»“æœé›†å‡ åŒ…æ‹¬è¿æ¥è¡¨çš„åŒ¹é…è¡Œï¼Œä¹ŸåŒ…æ‹¬å·¦è¿æ¥è¡¨çš„æ‰€æœ‰è¡Œã€‚ã€€SQL: select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a b.c **ã€€Bï¼šright ï¼ˆouterï¼‰ join:** å³å¤–è¿æ¥(å³è¿æ¥)ï¼šç»“æœé›†æ—¢åŒ…æ‹¬è¿æ¥è¡¨çš„åŒ¹é…è¿æ¥è¡Œï¼Œä¹ŸåŒ…æ‹¬å³è¿æ¥è¡¨çš„æ‰€æœ‰è¡Œã€‚ **ã€€Cï¼šfullcross ï¼ˆouterï¼‰ joinï¼š**ã€€å…¨å¤–è¿æ¥ï¼šä¸ä»…åŒ…æ‹¬ç¬¦å·è¿æ¥è¡¨çš„åŒ¹é…è¡Œï¼Œè¿˜åŒ…æ‹¬ä¸¤ä¸ªè¿æ¥è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚ 13ã€åˆ†ç»„:Group by:ä¸€å¼ è¡¨ï¼Œä¸€æ—¦åˆ†ç»„ å®Œæˆåï¼ŒæŸ¥è¯¢ååªèƒ½å¾—åˆ°ç»„ç›¸å…³çš„ä¿¡æ¯ã€‚ã€€ç»„ç›¸å…³çš„ä¿¡æ¯ï¼šï¼ˆç»Ÿè®¡ä¿¡æ¯ï¼‰ count,sum,max,min,avg åˆ†ç»„çš„æ ‡å‡†)ã€€åœ¨SQLServerä¸­åˆ†ç»„æ—¶ï¼šä¸èƒ½ä»¥ text,ntext,imageç±»å‹çš„å­—æ®µä½œä¸ºåˆ†ç»„ä¾æ®ã€€åœ¨selecteç»Ÿè®¡å‡½æ•°ä¸­çš„å­—æ®µï¼Œä¸èƒ½å’Œæ™®é€šçš„å­—æ®µæ”¾åœ¨ä¸€èµ·ï¼› 14ã€å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œåˆ†ç¦»æ•°æ®åº“ï¼š sp_detach_db; é™„åŠ æ•°æ®åº“ï¼šsp_attach_db åæ¥è¡¨æ˜ï¼Œé™„åŠ éœ€è¦å®Œæ•´çš„è·¯å¾„å 15ã€å¦‚ä½•ä¿®æ”¹æ•°æ®åº“çš„åç§°sp_renamedb old_name, new_name äºŒã€æå‡ç¯‡ 1ã€è¯´æ˜ï¼šå¤åˆ¶è¡¨(åªå¤åˆ¶ç»“æ„,æºè¡¨åï¼ša æ–°è¡¨åï¼šb) (Accesså¯ç”¨) **ã€€æ–¹æ³•ä¸€ï¼š**ï¼ˆä»…ç”¨äºSQlServerï¼‰ select * into b from a where 11 **ã€€æ–¹æ³•äºŒï¼š** select top 0 * into b from a 2ã€è¯´æ˜ï¼šæ‹·è´è¡¨(æ‹·è´æ•°æ®,æºè¡¨åï¼ša ç›®æ ‡è¡¨åï¼šb) (Accesså¯ç”¨) insert into b(a, b, c) select d,e,f from a; 3ã€è¯´æ˜ï¼šè·¨æ•°æ®åº“ä¹‹é—´è¡¨çš„æ‹·è´(å…·ä½“æ•°æ®ä½¿ç”¨ç»å¯¹è·¯å¾„) (Accesså¯ç”¨) insert into b(a, b, c) select d,e,f from b in å…·ä½“æ•°æ®åº“ where æ¡ä»¶ ä¾‹å­ï¼š ..from b in Server.MapPath(.)\\data.mdb where.. 4ã€è¯´æ˜ï¼šå­æŸ¥è¯¢(è¡¨å1ï¼ša è¡¨å2ï¼šb) select a,b,c from a where a IN (select d from b ) æˆ–è€…: select a,b,c from a where a IN (1,2,3) 5ã€è¯´æ˜ï¼šæ˜¾ç¤ºæ–‡ç« ã€æäº¤äººå’Œæœ€åå›å¤æ—¶é—´select a.title,a.username,b.adddate from table a,(select max(adddate) adddate from table where table.title=a.title) b 6ã€è¯´æ˜ï¼šå¤–è¿æ¥æŸ¥è¯¢(è¡¨å1ï¼ša è¡¨å2ï¼šb) select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a = b.c 7ã€è¯´æ˜ï¼šåœ¨çº¿è§†å›¾æŸ¥è¯¢(è¡¨å1ï¼ša ) select * from (SELECT a,b,c FROM a) T where t.a 1; 8ã€è¯´æ˜ï¼šbetweençš„ç”¨æ³•betweené™åˆ¶æŸ¥è¯¢æ•°æ®èŒƒå›´æ—¶åŒ…æ‹¬äº†è¾¹ç•Œå€¼,not betweenä¸åŒ…æ‹¬ select * from table1 where time between time1 and time2 select a,b,c, from table1 where a not between æ•°å€¼1 and æ•°å€¼2 9ã€è¯´æ˜ï¼šin çš„ä½¿ç”¨æ–¹æ³•select * from table1 where a [not] in (å€¼1,å€¼2,å€¼4,å€¼6) 10ã€è¯´æ˜ï¼šä¸¤å¼ å…³è”è¡¨åˆ é™¤ä¸»è¡¨ä¸­å·²ç»åœ¨å‰¯è¡¨ä¸­æ²¡æœ‰çš„ä¿¡æ¯delete from table1 where not exists ( select * from table2 where table1.field1=table2.field1 ) 11ã€è¯´æ˜ï¼šå››è¡¨è”æŸ¥é—®é¢˜select * from a left inner join b on a.a=b.b right inner join c on a.a=c.c inner join d on a.a=d.d where ...... 12ã€è¯´æ˜ï¼šæ—¥ç¨‹å®‰æ’æå‰äº”åˆ†é’Ÿæé†’select * from æ—¥ç¨‹å®‰æ’ where datediff(minute,få¼€å§‹æ—¶é—´,getdate())5 13ã€è¯´æ˜ï¼šä¸€æ¡sql è¯­å¥æå®šæ•°æ®åº“åˆ†é¡µselect top 10 b.* from (select top 20 ä¸»é”®å­—æ®µ,æ’åºå­—æ®µ from è¡¨å order by æ’åºå­—æ®µ desc) a,è¡¨å b where b.ä¸»é”®å­—æ®µ = a.ä¸»é”®å­—æ®µ order by a.æ’åºå­—æ®µ **ã€€å…·ä½“å®ç°ï¼š**ã€€å…³äºæ•°æ®åº“åˆ†é¡µï¼š declare @start int,@end int@sql nvarchar(600)set @sql=select top+str(@end-@start+1)++from T where rid not in(select top+str(@str-1)+Rid from T where Rid-1)exec sp_executesql @sql **æ³¨æ„ï¼š**åœ¨topåä¸èƒ½ç›´æ¥è·Ÿä¸€ä¸ªå˜é‡ï¼Œæ‰€ä»¥åœ¨å®é™…åº”ç”¨ä¸­åªæœ‰è¿™æ ·çš„è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚Ridä¸ºä¸€ä¸ªæ ‡è¯†åˆ—ï¼Œå¦‚æœtopåè¿˜æœ‰å…·ä½“çš„å­—æ®µï¼Œè¿™æ ·åšæ˜¯éå¸¸æœ‰å¥½å¤„çš„ã€‚å› ä¸ºè¿™æ ·å¯ä»¥é¿å… topçš„å­—æ®µå¦‚æœæ˜¯é€»è¾‘ç´¢å¼•çš„ï¼ŒæŸ¥è¯¢çš„ç»“æœåå®é™…è¡¨ä¸­çš„ä¸ä¸€è‡´ï¼ˆé€»è¾‘ç´¢å¼•ä¸­çš„æ•°æ®æœ‰å¯èƒ½å’Œæ•°æ®è¡¨ä¸­çš„ä¸ä¸€è‡´ï¼Œè€ŒæŸ¥è¯¢æ—¶å¦‚æœå¤„åœ¨ç´¢å¼•åˆ™é¦–å…ˆæŸ¥è¯¢ç´¢å¼•ï¼‰ 14ã€è¯´æ˜ï¼šæŸ¥è¯¢å‰10æ¡è®°å½•select top 10 * form table1 where èŒƒå›´ 15ã€è¯´æ˜ï¼šæ•°æ®é€‰æ‹©é€‰æ‹©åœ¨æ¯ä¸€ç»„bå€¼ç›¸åŒçš„æ•°æ®ä¸­å¯¹åº”çš„aæœ€å¤§çš„è®°å½•çš„æ‰€æœ‰ä¿¡æ¯(ç±»ä¼¼è¿™æ ·çš„ç”¨æ³•å¯ä»¥ç”¨äºè®ºå›æ¯æœˆæ’è¡Œæ¦œ,æ¯æœˆçƒ­é”€äº§å“åˆ†æ,æŒ‰ç§‘ç›®æˆç»©æ’å,ç­‰ç­‰.) select a,b,c from tablename ta where a=(select max(a) from tablename tb where tb.b=ta.b) 16ã€è¯´æ˜ï¼šæ´¾ç”Ÿè¡¨åŒ…æ‹¬æ‰€æœ‰åœ¨ TableA ä¸­ä½†ä¸åœ¨ TableBå’ŒTableC ä¸­çš„è¡Œå¹¶æ¶ˆé™¤æ‰€æœ‰é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ (select a from tableA ) except (select a from tableB) except (select a from tableC) 17ã€è¯´æ˜ï¼šéšæœºå–å‡º10æ¡æ•°æ®select top 10 * from tablename order by newid() 18ã€è¯´æ˜ï¼šéšæœºé€‰æ‹©è®°å½•select newid() 19ã€è¯´æ˜ï¼šåˆ é™¤é‡å¤è®°å½•**ã€€1ã€** delete from tablename where id not in (select max(id) from tablename group by col1,col2,...) **ã€€2ã€** select distinct * into temp from tablename delete from tablename insert into tablename select * from temp **è¯„ä»·ï¼š**è¿™ç§æ“ä½œç‰µè¿å¤§é‡çš„æ•°æ®çš„ç§»åŠ¨ï¼Œè¿™ç§åšæ³•ä¸é€‚åˆå¤§å®¹é‡ä½†æ•°æ®æ“ä½œ 3ã€ ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ªå¤–éƒ¨è¡¨ä¸­å¯¼å…¥æ•°æ®ï¼Œç”±äºæŸäº›åŸå› ç¬¬ä¸€æ¬¡åªå¯¼å…¥äº†ä¸€éƒ¨åˆ†ï¼Œä½†å¾ˆéš¾åˆ¤æ–­å…·ä½“ä½ç½®ï¼Œè¿™æ ·åªæœ‰åœ¨ä¸‹ä¸€æ¬¡å…¨éƒ¨å¯¼å…¥ï¼Œè¿™æ ·ä¹Ÿå°±äº§ç”Ÿå¥½å¤šé‡å¤çš„å­—æ®µï¼Œæ€æ ·åˆ é™¤é‡å¤å­—æ®µ alter table tablename --æ·»åŠ ä¸€ä¸ªè‡ªå¢åˆ— add column_b int identity(1,1) delete from tablename where column_b not in( select max(column_b) from tablename group by column1,column2,...) alter table tablename drop column column_b 20ã€è¯´æ˜ï¼šåˆ—å‡ºæ•°æ®åº“é‡Œæ‰€æœ‰çš„è¡¨åselect name from sysobjects where type=U // Uä»£è¡¨ç”¨æˆ· 21ã€è¯´æ˜ï¼šåˆ—å‡ºè¡¨é‡Œçš„æ‰€æœ‰çš„åˆ—åselect name from syscolumns where id=object_id(TableName) 22ã€è¯´æ˜ï¼šåˆ—ç¤ºcaseåˆ—ç¤ºtypeã€venderã€pcså­—æ®µï¼Œä»¥typeå­—æ®µæ’åˆ—ï¼Œcaseå¯ä»¥æ–¹ä¾¿åœ°å®ç°å¤šé‡é€‰æ‹©ï¼Œç±»ä¼¼select ä¸­çš„caseã€‚ select type,sum(case vender when A then pcs else 0 end),sum(case vender when C then pcs else 0 end),sum(case vender when B then pcs else 0 end) FROM tablename group by type æ˜¾ç¤ºç»“æœï¼š type vender pcsç”µè„‘ A 1 ç”µè„‘ A 1 å…‰ç›˜ B 2 å…‰ç›˜ A 2 æ‰‹æœº B 3 æ‰‹æœº C 3 23ã€è¯´æ˜ï¼šåˆå§‹åŒ–è¡¨table1TRUNCATE TABLE table1 24ã€è¯´æ˜ï¼šé€‰æ‹©ä»10åˆ°15çš„è®°å½•select top 5 * from (select top 15 * from table order by id asc) table_åˆ«å order by id desc ä¸‰ã€æŠ€å·§ç¯‡ 1ã€SQLç»„åˆè¯­å¥11ï¼Œ12çš„ä½¿ç”¨ï¼Œåœ¨SQLè¯­å¥ç»„åˆæ—¶ç”¨çš„è¾ƒå¤š **ã€€â€œwhere 1** 1â€ æ˜¯è¡¨ç¤ºé€‰æ‹©å…¨éƒ¨ â€œwhere 12â€ å…¨éƒ¨ä¸é€‰ï¼Œã€€å¦‚ï¼š if @strWhere != beginset @strSQL = select count(*) as Total from [ + @tblName + ] where + @strWhere endelse beginset @strSQL = select count(*) as Total from [ + @tblName + ] end æˆ‘ä»¬å¯ä»¥ç›´æ¥å†™æˆï¼š é”™è¯¯ï¼æœªæ‰¾åˆ°ç›®å½•é¡¹ã€‚set @strSQL = select count(*) as Total from [ + @tblName + ] where 1=1 å®‰å®š+ @strWhere 2ã€æ”¶ç¼©æ•°æ®åº“--é‡å»ºç´¢å¼•DBCC REINDEXDBCC INDEXDEFRAG--æ”¶ç¼©æ•°æ®å’Œæ—¥å¿—DBCC SHRINKDBDBCC SHRINKFILE 3ã€å‹ç¼©æ•°æ®åº“dbcc shrinkdatabase(dbname) 4ã€è½¬ç§»æ•°æ®åº“ç»™æ–°ç”¨æˆ·ä»¥å·²å­˜åœ¨ç”¨æˆ·æƒé™exec sp_change_users_login update_one,newname,oldnamego 5ã€æ£€æŸ¥å¤‡ä»½é›†RESTORE VERIFYONLY from disk=E:\\dvbbs.bak 6ã€ä¿®å¤æ•°æ®åº“ALTER DATABASE [dvbbs] SET SINGLE_USERGODBCC CHECKDB(dvbbs,repair_allow_data_loss) WITH TABLOCKGOALTER DATABASE [dvbbs] SET MULTI_USERGO 7ã€æ—¥å¿—æ¸…é™¤SET NOCOUNT ONDECLARE @LogicalFileName sysname,@MaxMinutes INT,@NewSize INT USE tablename -- è¦æ“ä½œçš„æ•°æ®åº“åSELECT @LogicalFileName = tablename_log, -- æ—¥å¿—æ–‡ä»¶å @MaxMinutes = 10, -- Limit on time allowed to wrap log.@NewSize = 1 -- ä½ æƒ³è®¾å®šçš„æ—¥å¿—æ–‡ä»¶çš„å¤§å°(M)Setup / initializeDECLARE @OriginalSize intSELECT @OriginalSize = size FROM sysfilesWHERE name = @LogicalFileNameSELECT Original Size of + db_name() + LOG is + CONVERT(VARCHAR(30),@OriginalSize) + 8K pages or + CONVERT(VARCHAR(30),(@OriginalSize*8/1024)) + MBFROM sysfilesWHERE name = @LogicalFileNameCREATE TABLE DummyTrans(DummyColumn char (8000) not null) DECLARE @Counter INT,@StartTime DATETIME,@TruncLog VARCHAR(255)SELECT @StartTime = GETDATE(),@TruncLog = BACKUP LOG + db_name() + WITH TRUNCATE_ONLYDBCC SHRINKFILE (@LogicalFileName, @NewSize)EXEC (@TruncLog)-- Wrap the log if necessary.WHILE @MaxMinutes DATEDIFF (mi, @StartTime, GETDATE()) -- time has not expiredAND @OriginalSize = (SELECT size FROM sysfiles WHERE name = @LogicalFileName) AND (@OriginalSize * 8 /1024) @NewSize BEGIN -- Outer loop.SELECT @Counter = 0WHILE ((@Counter @OriginalSize / 16) AND (@Counter 50000))BEGIN -- updateINSERT DummyTrans VALUES (Fill Log) DELETE DummyTransSELECT @Counter = @Counter + 1ENDEXEC (@TruncLog) ENDSELECT Final Size of + db_name() + LOG is +CONVERT(VARCHAR(30),size) + 8K pages or + CONVERT(VARCHAR(30),(size*8/1024)) + MBFROM sysfiles WHERE name = @LogicalFileNameDROP TABLE DummyTransSET NOCOUNT OFF 8ã€è¯´æ˜ï¼šæ›´æ”¹æŸä¸ªè¡¨exec sp_changeobjectowner tablename,dbo 9ã€å­˜å‚¨æ›´æ”¹å…¨éƒ¨è¡¨CREATE PROCEDURE dbo.User_ChangeObjectOwnerBatch@OldOwner as NVARCHAR(128),@NewOwner as NVARCHAR(128)ASDECLARE @Name as NVARCHAR(128)DECLARE @Owner as NVARCHAR(128)DECLARE @OwnerName as NVARCHAR(128)DECLARE curObject CURSOR FOR select Name = name,Owner = user_name(uid)from sysobjectswhere user_name(uid)=@OldOwnerorder by nameOPEN curObjectFETCH NEXT FROM curObject INTO @Name, @OwnerWHILE(@@FETCH_STATUS=0)BEGIN if @Owner=@OldOwner beginset @OwnerName = @OldOwner + . + rtrim(@Name)exec sp_changeobjectowner @OwnerName, @NewOwnerend-- select @name,@NewOwner,@OldOwnerFETCH NEXT FROM curObject INTO @Name, @OwnerENDclose curObjectdeallocate curObjectGO 10ã€SQL SERVERä¸­ç›´æ¥å¾ªç¯å†™å…¥æ•°æ®declare @i intset @i=1while @i30begininsert into test (userid) values(@i)set @i=@i+1end æ¡ˆä¾‹ ï¼š æœ‰å¦‚ä¸‹è¡¨ï¼Œè¦æ±‚å°±è£±ä¸­æ‰€æœ‰æ²’æœ‰åŠæ ¼çš„æˆç¸¾ï¼Œåœ¨æ¯æ¬¡å¢é•·0.1çš„åŸºç¤ä¸Šï¼Œä½¿ä»–å€‘å‰›å¥½åŠæ ¼ï¼š Name scoreZhangshan 80Lishi 59Wangwu 50Songquan 69while((select min(score) from tb_table)60) begin update tb_table set score =score*1.01 where score60 if (select min(score) from tb_table)60 break else continue end å››ã€æ•°æ®å¼€å‘ç¯‡ 1.æŒ‰å§“æ°ç¬”ç”»æ’åºSelect * From TableName Order By CustomerName Collate Chinese_PRC_Stroke_ci_as //ä»å°‘åˆ°å¤š 2.æ•°æ®åº“åŠ å¯†select encrypt(åŸå§‹å¯†ç ) select pwdencrypt(åŸå§‹å¯†ç ) select pwdcompare(åŸå§‹å¯†ç ,åŠ å¯†åå¯†ç ) = 1--ç›¸åŒï¼›å¦åˆ™ä¸ç›¸åŒ encrypt(åŸå§‹å¯†ç ) select pwdencrypt(åŸå§‹å¯†ç ) select pwdcompare(åŸå§‹å¯†ç ,åŠ å¯†åå¯†ç ) = 1--ç›¸åŒï¼›å¦åˆ™ä¸ç›¸åŒ 3.å–å›è¡¨ä¸­å­—æ®µdeclare @list varchar(1000), @sql nvarchar(1000) select @list=@list+,+b.name from sysobjects a,syscolumns b where a.id=b.id and a.name=è¡¨A set @sql=select +right(@list,len(@list)-1)+ from è¡¨A exec (@sql) 4.æŸ¥çœ‹ç¡¬ç›˜åˆ†åŒºEXEC master..xp_fixeddrives 5.æ¯”è¾ƒA,Bè¡¨æ˜¯å¦ç›¸ç­‰if (select checksum_agg(binary_checksum(*)) from A) = (select checksum_agg(binary_checksum(*)) from B) print ç›¸ç­‰ else print ä¸ç›¸ç­‰ 6.æ€æ‰æ‰€æœ‰çš„äº‹ä»¶æ¢å¯Ÿå™¨è¿›ç¨‹DECLARE hcforeach CURSOR GLOBAL FOR SELECT kill +RTRIM(spid) FROM master.dbo.sysprocesses WHERE program_name IN(SQL profiler,NSQL äº‹ä»¶æ¢æŸ¥å™¨) EXEC sp_msforeach_worker ? 7.è®°å½•æœç´¢å¼€å¤´åˆ°Næ¡è®°å½• Select Top N * From è¡¨ Nåˆ°Mæ¡è®°å½•(è¦æœ‰ä¸»ç´¢å¼•ID) Select Top M-N * From è¡¨ Where ID in (Select Top M ID From è¡¨) Order by ID Desc Nåˆ°ç»“å°¾è®°å½• Select Top N * From è¡¨ Order by ID Desc æ¡ˆä¾‹ ç¤ºä¾‹1ï¼šä¸€å¼ è¡¨æœ‰ä¸€ä¸‡å¤šæ¡è®°å½•ï¼Œè¡¨çš„ç¬¬ä¸€ä¸ªå­—æ®µ RecID æ˜¯è‡ªå¢é•¿å­—æ®µï¼Œ å†™ä¸€ä¸ªSQLè¯­å¥ï¼Œ æ‰¾å‡ºè¡¨çš„ç¬¬31åˆ°ç¬¬40ä¸ªè®°å½•ã€‚ select top 10 recid from A where recid not in(select top 30 recid from A) **ã€€åˆ†æï¼š**å¦‚æœè¿™æ ·å†™ä¼šäº§ç”ŸæŸäº›é—®é¢˜ï¼Œå¦‚æœrecidåœ¨è¡¨ä¸­å­˜åœ¨é€»è¾‘ç´¢å¼•ã€‚ select top 10 recid from A whereâ€¦â€¦æ˜¯ä»ç´¢å¼•ä¸­æŸ¥æ‰¾ï¼Œè€Œåé¢çš„select top 30 recid from Aåˆ™åœ¨æ•°æ®è¡¨ä¸­æŸ¥æ‰¾ï¼Œè¿™æ ·ç”±äºç´¢å¼•ä¸­çš„é¡ºåºæœ‰å¯èƒ½å’Œæ•°æ®è¡¨ä¸­çš„ä¸ä¸€è‡´ï¼Œè¿™æ ·å°±å¯¼è‡´æŸ¥è¯¢åˆ°çš„ä¸æ˜¯æœ¬æ¥çš„æ¬²å¾—åˆ°çš„æ•°æ®ã€‚ **ã€€è§£å†³æ–¹æ¡ˆ** **ã€€1ï¼Œ ç”¨order by** select top 30 recid from A order by ricid å¦‚æœè¯¥å­—æ®µä¸æ˜¯è‡ªå¢é•¿ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ **ã€€2ï¼Œ åœ¨é‚£ä¸ªå­æŸ¥è¯¢ä¸­ä¹ŸåŠ æ¡ä»¶ï¼š**select top 30 recid from A where recid-1 **ã€€ç¤ºä¾‹2ï¼šæŸ¥è¯¢è¡¨ä¸­çš„æœ€åä»¥æ¡è®°å½•ï¼Œå¹¶ä¸çŸ¥é“è¿™ä¸ªè¡¨å…±æœ‰å¤šå°‘æ•°æ®,ä»¥åŠè¡¨ç»“æ„ã€‚** set @s = select top 1 * from T where pid not in (select top + str(@count-1) + pid from T)print @s exec sp_executesql @s 9ï¼šè·å–å½“å‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰ç”¨æˆ·è¡¨select Name from sysobjects where xtype=u and status=0 10ï¼šè·å–æŸä¸€ä¸ªè¡¨çš„æ‰€æœ‰å­—æ®µselect name from syscolumns where id=object_id(è¡¨å) select name from syscolumns where id in (select id from sysobjects where type = u and name = è¡¨å) **æ³¨ï¼š**ä»¥ä¸Šä¸¤ç§æ–¹å¼çš„æ•ˆæœç›¸åŒ 11ï¼šæŸ¥çœ‹ä¸æŸä¸€ä¸ªè¡¨ç›¸å…³çš„è§†å›¾ã€å­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°select a.* from sysobjects a, syscomments b where a.id = b.id and b.text like %è¡¨å% 12ï¼šæŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰å­˜å‚¨è¿‡ç¨‹select name as å­˜å‚¨è¿‡ç¨‹åç§° from sysobjects where xtype=P 13ï¼šæŸ¥è¯¢ç”¨æˆ·åˆ›å»ºçš„æ‰€æœ‰æ•°æ®åº“select * from master..sysdatabases D where sid not in(select sid from master..syslogins where name=sa) æˆ–è€…ï¼š select dbid, name AS DB_NAME from master..sysdatabases where sid 0x01 14ï¼šæŸ¥è¯¢æŸä¸€ä¸ªè¡¨çš„å­—æ®µå’Œæ•°æ®ç±»å‹select column_name,data_type from information_schema.columns where table_name = è¡¨å 15ï¼šä¸åŒæœåŠ¡å™¨æ•°æ®åº“ä¹‹é—´çš„æ•°æ®æ“ä½œâ€“åˆ›å»ºé“¾æ¥æœåŠ¡å™¨ exec sp_addlinkedserver ITSV , , SQLOLEDB , è¿œç¨‹æœåŠ¡å™¨åæˆ–ipåœ°å€ exec sp_addlinkedsrvlogin ITSV , false ,null, ç”¨æˆ·å , å¯†ç  â€“æŸ¥è¯¢ç¤ºä¾‹ select * from ITSV.æ•°æ®åº“å.dbo.è¡¨å â€“å¯¼å…¥ç¤ºä¾‹ select * into è¡¨ from ITSV.æ•°æ®åº“å.dbo.è¡¨å â€“ä»¥åä¸å†ä½¿ç”¨æ—¶åˆ é™¤é“¾æ¥æœåŠ¡å™¨ exec sp_dropserver ITSV , droplogins â€“è¿æ¥è¿œç¨‹å±€åŸŸç½‘æ•°æ®(openrowsetopenqueryopendatasource) â€“1ã€openrowset â€“æŸ¥è¯¢ç¤ºä¾‹ï¼š select * from openrowset( SQLOLEDB , sqlæœåŠ¡å™¨å ; ç”¨æˆ·å ; å¯†ç  ,æ•°æ®åº“å.dbo.è¡¨å) â€“ç”Ÿæˆæœ¬åœ°è¡¨ï¼š select * into è¡¨ from openrowset( SQLOLEDB , sqlæœåŠ¡å™¨å ; ç”¨æˆ·å ; å¯†ç  ,æ•°æ®åº“å.dbo.è¡¨å) â€“æŠŠæœ¬åœ°è¡¨å¯¼å…¥è¿œç¨‹è¡¨ï¼š insert openrowset( SQLOLEDB , sqlæœåŠ¡å™¨å ; ç”¨æˆ·å ; å¯†ç  ,æ•°æ®åº“å.dbo.è¡¨å)select *from æœ¬åœ°è¡¨ â€“æ›´æ–°æœ¬åœ°è¡¨ï¼š update bset b.åˆ—A=a.åˆ—Afrom openrowset( SQLOLEDB , sqlæœåŠ¡å™¨å ; ç”¨æˆ·å ; å¯†ç  ,æ•°æ®åº“å.dbo.è¡¨å)as a inner join æœ¬åœ°è¡¨ bon a.column1=b.column1 â€“openqueryç”¨æ³•éœ€è¦åˆ›å»ºä¸€ä¸ªè¿æ¥ â€“é¦–å…ˆåˆ›å»ºä¸€ä¸ªè¿æ¥åˆ›å»ºé“¾æ¥æœåŠ¡å™¨ exec sp_addlinkedserver ITSV , , SQLOLEDB , è¿œç¨‹æœåŠ¡å™¨åæˆ–ipåœ°å€ â€“æŸ¥è¯¢ select *FROM openquery(ITSV, SELECT * FROM æ•°æ®åº“.dbo.è¡¨å ) â€“æŠŠæœ¬åœ°è¡¨å¯¼å…¥è¿œç¨‹è¡¨ insert openquery(ITSV, SELECT * FROM æ•°æ®åº“.dbo.è¡¨å )select * from æœ¬åœ°è¡¨ â€“æ›´æ–°æœ¬åœ°è¡¨ update bset b.åˆ—B=a.åˆ—BFROM openquery(ITSV, SELECT * FROM æ•°æ®åº“.dbo.è¡¨å ) as ainner join æœ¬åœ°è¡¨ b on a.åˆ—A=b.åˆ—A â€“3ã€opendatasourceopenrowset SELECT *FROM opendatasource( SQLOLEDB , Data Source=ip/ServerName;User ID=ç™»é™†å;Password=å¯†ç  ).test.dbo.roy_ta â€“æŠŠæœ¬åœ°è¡¨å¯¼å…¥è¿œç¨‹è¡¨ insert opendatasource( SQLOLEDB , Data Source=ip/ServerName;User ID=ç™»é™†å;Password=å¯†ç  ).æ•°æ®åº“.dbo.è¡¨åselect * from æœ¬åœ°è¡¨"},{"title":"è®¤è¯†Git","path":"/wiki/git/start.html","content":"è®¤è¯† Gitä»€ä¹ˆæ˜¯ Git ï¼ŸGit æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚ Git ä¸ SVN åŒºåˆ«ç‚¹ Git æ˜¯åˆ†å¸ƒå¼çš„ï¼ŒSVN ä¸æ˜¯ã€‚è¿™æ˜¯ Git å’Œå…¶å®ƒéåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¦‚ SVNï¼ŒCVS ç­‰æœ€æ ¸å¿ƒçš„åŒºåˆ«ã€‚ Git æŠŠå†…å®¹æŒ‰å…ƒæ•°æ®æ–¹å¼å­˜å‚¨ï¼Œè€Œ SVN æ˜¯æŒ‰æ–‡ä»¶ã€‚ Git åˆ†æ”¯å’Œ SVN çš„åˆ†æ”¯ä¸åŒï¼šåˆ†æ”¯åœ¨ SVN ä¸­ä¸€ç‚¹éƒ½ä¸ç‰¹åˆ«ï¼Œå…¶å®å®ƒå°±æ˜¯ç‰ˆæœ¬åº“ä¸­çš„å¦å¤–ä¸€ä¸ªç›®å½•ã€‚ Git æ²¡æœ‰ä¸€ä¸ªå…¨å±€çš„ç‰ˆæœ¬å·ï¼Œè€Œ SVN æœ‰ã€‚ç›®å‰ä¸ºæ­¢è¿™æ˜¯è·Ÿ SVN ç›¸æ¯” Git ç¼ºå°‘çš„æœ€å¤§çš„ä¸€ä¸ªç‰¹å¾ã€‚ Git çš„å†…å®¹å®Œæ•´æ€§è¦ä¼˜äº SVNã€‚Git çš„å†…å®¹å­˜å‚¨ä½¿ç”¨çš„æ˜¯ SHA-1 å“ˆå¸Œç®—æ³•ã€‚è¿™èƒ½ç¡®ä¿ä»£ç å†…å®¹çš„å®Œæ•´æ€§ï¼Œç¡®ä¿åœ¨é‡åˆ°ç£ç›˜æ•…éšœå’Œç½‘ç»œé—®é¢˜æ—¶é™ä½å¯¹ç‰ˆæœ¬åº“çš„ç ´åã€‚ å›¾ç‰‡æ¥æºäº RUNOOB Git å·¥ä½œåŒºã€æš‚å­˜åŒºå’Œç‰ˆæœ¬åº“ å·¥ä½œåŒºï¼šå°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ã€‚ æš‚å­˜åŒºï¼šè‹±æ–‡å«stage, æˆ–indexã€‚ä¸€èˆ¬å­˜æ”¾åœ¨ â€œ.gitç›®å½•ä¸‹â€ ä¸‹çš„indexæ–‡ä»¶ï¼ˆ.gitindexï¼‰ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæš‚å­˜åŒºæœ‰æ—¶ä¹Ÿå«ä½œç´¢å¼•ï¼ˆindexï¼‰ã€‚ ç‰ˆæœ¬åº“ï¼šå·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.gitï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚"},{"title":"å®‰è£…ä¸é…ç½®","path":"/wiki/git/install-and-config.html","content":"å®‰è£…ä¸é…ç½®å®‰è£…Linuxæºç åŒ…ä¸‹è½½åœ°å€ï¼š https://git-scm.com/downloads/linux å®‰è£…æŒ‡å®šç³»ç»Ÿçš„ä¾èµ–åŒ…ï¼š CentOSRedHat $ yum install curl-devel expat-devel gettext-devel \\ openssl-devel zlib-devel DebianUbuntu $ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \\ libz-dev libssl-dev è§£å‹å®‰è£…ä¸‹è½½çš„æºç åŒ…ï¼š $ tar -zxf git-1.7.2.2.tar.gz$ cd git-1.7.2.2$ make prefix=/usr/local all$ sudo make prefix=/usr/local install ä½¿ç”¨ç»ˆç«¯æŒ‡ä»¤å®‰è£… DebianUbuntu $ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \\ libz-dev libssl-dev$ apt-get install git$ git --versiongit version 1.8.1.2Copy CentOSRedHat $ yum install curl-devel expat-devel gettext-devel \\ openssl-devel zlib-devel$ yum -y install git-core$ git --versiongit version 1.7.1 Windowså®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š https://gitforwindows.org å®Œæˆå®‰è£…ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œçš„ git å·¥å…·ï¼ˆå·²ç»è‡ªå¸¦äº† ssh å®¢æˆ·ç«¯ï¼‰äº†ï¼Œå¦å¤–è¿˜æœ‰ä¸€ä¸ªå›¾å½¢ç•Œé¢çš„ Git é¡¹ç›®ç®¡ç†å·¥å…·ã€‚ åœ¨å¼€å§‹èœå•é‡Œæ‰¾åˆ° Git - Git Bashï¼Œä¼šå¼¹å‡º Git å‘½ä»¤çª—å£ï¼Œä½ å¯ä»¥åœ¨è¯¥çª—å£è¿›è¡Œ Git æ“ä½œã€‚ Macå®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š https://git-scm.com/downloads/mac Mac è‡ªå¸¦ git å¹¶ä¸”éšç€ç³»ç»Ÿç‰ˆæœ¬çš„æ›´æ–°ï¼Œè‡ªå¸¦çš„ git ä¹Ÿä¼šå‡çº§åˆ°æœ€æ–°ï¼Œä¸€èˆ¬æ— éœ€æ‰‹åŠ¨å®‰è£…ã€‚ é…ç½®Git æä¾›äº†ä¸€ä¸ªå«åš git config çš„å·¥å…·ï¼Œä¸“é—¨ç”¨æ¥é…ç½®æˆ–è¯»å–ç›¸åº”çš„å·¥ä½œç¯å¢ƒå˜é‡ã€‚è¿™äº›ç¯å¢ƒå˜é‡ï¼Œå†³å®šäº† Git åœ¨å„ä¸ªç¯èŠ‚çš„å…·ä½“å·¥ä½œæ–¹å¼å’Œè¡Œä¸ºã€‚è¿™äº›å˜é‡å¯ä»¥å­˜æ”¾åœ¨ä»¥ä¸‹ä¸‰ä¸ªä¸åŒçš„åœ°æ–¹ï¼š /etc/gitconfig æ–‡ä»¶ï¼šç³»ç»Ÿä¸­å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ™®éé€‚ç”¨çš„é…ç½®ã€‚è‹¥ä½¿ç”¨ git config æ—¶ç”¨ --system é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚ ~/.gitconfig æ–‡ä»¶ï¼šç”¨æˆ·ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶åªé€‚ç”¨äºè¯¥ç”¨æˆ·ã€‚è‹¥ä½¿ç”¨ git config æ—¶ç”¨ --global é€‰é¡¹ï¼Œè¯»å†™çš„å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ã€‚ å½“å‰é¡¹ç›®çš„ Git ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯å·¥ä½œç›®å½•ä¸­çš„ .git/config æ–‡ä»¶ï¼‰ï¼šè¿™é‡Œçš„é…ç½®ä»…ä»…é’ˆå¯¹å½“å‰é¡¹ç›®æœ‰æ•ˆã€‚æ¯ä¸€ä¸ªçº§åˆ«çš„é…ç½®éƒ½ä¼šè¦†ç›–ä¸Šå±‚çš„ç›¸åŒé…ç½®ï¼Œæ‰€ä»¥ .git/config é‡Œçš„é…ç½®ä¼šè¦†ç›– /etc/gitconfig ä¸­çš„åŒåå˜é‡ã€‚ ç”¨æˆ·ä¿¡æ¯git config --global user.name xaoxuugit config --global user.email git@xaoxuu.com å¦‚æœç”¨äº† --global é€‰é¡¹ï¼Œé‚£ä¹ˆæ›´æ”¹çš„é…ç½®æ–‡ä»¶å°±æ˜¯ä½äºä½ ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„é‚£ä¸ªï¼Œä»¥åä½ æ‰€æœ‰çš„é¡¹ç›®éƒ½ä¼šé»˜è®¤ä½¿ç”¨è¿™é‡Œé…ç½®çš„ç”¨æˆ·ä¿¡æ¯ã€‚ å¦‚æœè¦åœ¨æŸä¸ªç‰¹å®šçš„é¡¹ç›®ä¸­ä½¿ç”¨å…¶ä»–åå­—æˆ–è€…ç”µé‚®ï¼Œåªè¦å»æ‰ --global é€‰é¡¹é‡æ–°é…ç½®å³å¯ï¼Œæ–°çš„è®¾å®šä¿å­˜åœ¨å½“å‰é¡¹ç›®çš„ .git/config æ–‡ä»¶é‡Œã€‚ æŸ¥çœ‹é…ç½®ä¿¡æ¯git config --listhttp.postbuffer=2Muser.name=xaoxuuuser.email=git@xaoxuu.com git-sshssh-keygen -t rsa -C user@example.com å…¶ä¸­ user@example.com å¯¹åº”çš„æ˜¯ä½ çš„ Git é‚®ç®±ã€‚ ssh-agent æ˜¯ä¸€ç§æ§åˆ¶ç”¨æ¥ä¿å­˜å…¬é’¥èº«ä»½éªŒè¯æ‰€ä½¿ç”¨çš„ç§é’¥çš„ç¨‹åºï¼Œå…¶å® ssh-agent å°±æ˜¯ä¸€ä¸ªå¯†é’¥ç®¡ç†å™¨ï¼Œè¿è¡Œ ssh-agent ä»¥åï¼Œä½¿ç”¨ ssh-add å°†ç§é’¥äº¤ç»™ ssh-agent ä¿ç®¡ï¼Œå…¶ä»–ç¨‹åºéœ€è¦èº«ä»½éªŒè¯çš„æ—¶å€™å¯ä»¥å°†éªŒè¯ç”³è¯·äº¤ç»™ ssh-agent æ¥å®Œæˆæ•´ä¸ªè®¤è¯è¿‡ç¨‹ã€‚ eval $(ssh-agent -s) æ·»åŠ ç”Ÿæˆçš„ SSH key åˆ° ssh-agentï¼š ssh-add ~/.ssh/id_rsa ç™»é™† Githubï¼Œæ·»åŠ  sshï¼š æŠŠ id_rsa.pub æ–‡ä»¶é‡Œçš„å†…å®¹å¤åˆ¶åˆ°è¿™é‡Œï¼š"},{"title":"åŸºæœ¬æ“ä½œå…¥é—¨","path":"/wiki/git/usage.html","content":"åŸºæœ¬æ“ä½œå…¥é—¨åŸºæœ¬æ“ä½œæµç¨‹ åœ¨å¯¹ä»£ç è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ä¹‹åï¼Œä½¿ç”¨ï¼šgit add --all å°†æœ¬åœ°æ‰€æœ‰æ–°å¢æ–‡ä»¶å’Œä¿®æ”¹å†…å®¹æ·»åŠ åˆ°æš‚å­˜åŒºã€‚ ä½¿ç”¨ï¼šgit commit -m å¤‡æ³¨ å°†ä»£ç æäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“ã€‚ï¼ˆå¤‡æ³¨å†…å®¹æ²¡æœ‰ç©ºæ ¼çš„è¯ä¸éœ€è¦åŠ å¼•å·ï¼‰ ä½¿ç”¨ï¼šgit pull origin ä»æœåŠ¡å™¨æ‹‰å–ä»£ç ï¼Œæ›´æ–°æœ¬åœ°ç‰ˆæœ¬åº“ã€‚ ä½¿ç”¨ï¼šgit push origin å°†æœ¬åœ°ç‰ˆæœ¬åº“æ¨é€åˆ°æœåŠ¡å™¨ã€‚ å…‹éš†ä¸é…ç½®å…‹éš†ç‰ˆæœ¬åº“git clone https://github.com/xaoxuu/AXKit.git# æˆ–è€…git clone https://github.com/xaoxuu/AXKit.git AXKit é…ç½®ç‰ˆæœ¬åº“è¦å¿½ç•¥æŸäº›æ–‡ä»¶çš„æ”¹åŠ¨éœ€è¦é…ç½® .gitignore æ–‡ä»¶ï¼š # è¿™æ˜¯macOSæ–‡ä»¶å¤¹å±æ€§çš„éšè—æ–‡ä»¶ï¼Œä¸éœ€è¦åŒæ­¥åˆ°git.DS_Store# æŸä¸ªæ–‡ä»¶å¤¹ä¸æƒ³è¦åŒæ­¥åˆ°git/public/node_modules# æŸä¸ªæ–‡ä»¶ä¸æƒ³è¦åŒæ­¥åˆ°gittest.txt# é€šé…ç¬¦._* åŸºæœ¬æ“ä½œæŒ‡ä»¤åˆ›å»ºä¸åˆ‡æ¢åˆ†æ”¯åˆ›å»ºå¹¶åˆ‡æ¢ branchgit checkout -b åˆ†æ”¯åä»…ä»…åˆ‡æ¢ branchgit checkout åˆ†æ”¯ååˆ›å»º taggit tag æ ‡ç­¾ååˆ›å»º tag å¹¶å¤‡æ³¨git tag -a æ ‡ç­¾å -m å¤‡æ³¨ä¿¡æ¯åˆ›å»º PGP tag å¹¶å¤‡æ³¨git tag -s æ ‡ç­¾å -m å¤‡æ³¨ä¿¡æ¯ æŸ¥çœ‹åˆ†æ”¯å’Œæ ‡ç­¾æŸ¥çœ‹æœ¬åœ° taggit tagæŸ¥çœ‹æŸä¸ªæœ¬åœ° tag è¯¦æƒ…git show æ ‡ç­¾åæŸ¥çœ‹æœ¬åœ° branch listgit branch åˆ†æ”¯åæŸ¥çœ‹è¿œç¨‹ branch listgit branch -r åˆ†æ”¯åæŸ¥çœ‹æ‰€æœ‰ branch listgit branch -a åˆ†æ”¯å åˆ é™¤åˆ†æ”¯å’Œæ ‡ç­¾åˆ é™¤æœ¬åœ° branch / taggit branch -d åˆ†æ”¯åæˆ–æ ‡ç­¾ååˆ é™¤æ‰€æœ‰æœªæ¨é€çš„æœ¬åœ° branchgit fetch -pä»…ä»…åˆ é™¤æŸä¸ªè¿œç¨‹ branch / taggit push origin :åˆ†æ”¯åæˆ–æ ‡ç­¾å# æˆ–è€…git push origin --delete åˆ†æ”¯åæˆ–æ ‡ç­¾å æ¨é€åˆ†æ”¯å’Œæ ‡ç­¾æ¨é€æŸä¸ª branch / taggit push origin åˆ†æ”¯åæˆ–æ ‡ç­¾åæ¨é€æ‰€æœ‰ branchgit push --all originæ¨é€æ‰€æœ‰ taggit push --tags é‡å‘½ååˆ†æ”¯é‡å‘½åæœ¬åœ°åˆ†æ”¯ï¼š git branch -m æ—§åˆ†æ”¯å æ–°åˆ†æ”¯å é‡å‘½åè¿œç¨‹åˆ†æ”¯ï¼š åˆ é™¤è¿œç¨‹åˆ†æ”¯ é‡å‘½åæœ¬åœ°åˆ†æ”¯ æ¨é€æœ¬åœ°åˆ†æ”¯ æ‹‰å–ã€åˆå¹¶åˆ†æ”¯æ‹‰å–æŸä¸ªè¿œç¨‹æ ‡ç­¾git fetch origin tag è¿œç¨‹æ ‡ç­¾å åˆå¹¶æŸæœ¬åœ°åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯git merge åˆ†æ”¯å åˆå¹¶æŸè¿œç¨‹åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯git pull origin è¿œç¨‹åˆ†æ”¯å merge å’Œ rebaseç®€å•çš„è¯´ï¼šç”¨ rebase æ–¹å¼åˆå¹¶çš„åˆ†æ”¯ä¼šåˆå¹¶æˆä¸€æ¡ç›´çº¿ï¼Œè€Œ merge æ–¹å¼åˆå¹¶ä¼šè®°å½•åˆå¹¶æ“ä½œã€‚ åˆå¹¶å‰ï¼š ä½¿ç”¨ merge è¿›è¡Œåˆå¹¶ï¼š ä½¿ç”¨ rebase è¿›è¡Œåˆå¹¶ï¼š ä»£ç å†²çªæˆ‘ä¸€èˆ¬ä½¿ç”¨ Tower å®¢æˆ·ç«¯æ“ä½œï¼Œpull ä¹‹åæœ‰å†²çªçš„æ–‡ä»¶ä¼šåˆ—å‡ºæ¥ã€‚å»ºè®®ä½¿ç”¨ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ç¼–è¾‘å™¨ï¼Œæœ‰å†²çªçš„éƒ¨åˆ†ä¼šç”¨ä¸¤ç§é¢œè‰²é«˜äº®ã€‚ æœªå®Œå¾…ç»­ ä»£ç å›é€€å¦‚æœå†²çªæ–‡ä»¶æ²¡æœ‰å¦¥å–„è§£å†³å°±æäº¤åˆ°ç‰ˆæœ¬åº“å¯¼è‡´ä¸¥é‡åæœï¼Œè¿™æ˜¯éœ€è¦æŸ¥çœ‹æŸä¸ªå†å²æ—¶åˆ»çš„ä»£ç ï¼Œä½¿ç”¨ï¼š git log# æŸ¥çœ‹æäº¤è®°å½• ç„¶å copy æŸä¸ª commit id è¿›è¡Œå›é€€ï¼Œå›é€€çš„ç±»å‹æœ‰ä¸¤ç§ï¼š softè¿™æ˜¯é»˜è®¤çš„å›é€€æ–¹å¼ï¼Œç‰ˆæœ¬åº“çš„ HEAD å›æ»šåˆ°æŸä¸ª commit ä½†æœ¬åœ°ä»£ç ä¸å˜ï¼Œå¤„äºæœª commit çš„çŠ¶æ€ã€‚ git reset [commit id]# æˆ–è€…git reset --soft [commit id] hardHEAD å’Œæœ¬åœ°ä»£ç éƒ½å›åˆ°æŸä¸ª commitï¼Œåé¢çš„æ›´æ”¹å°†ä¼šè¢«ä¸¢å¼ƒã€‚ï¼ˆå¦‚åŒæ—¶å…‰ç©¿æ¢­ï¼‰ git reset --hard [commit id] ç‰ˆæœ¬è¿­ä»£æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰æ ‡ç­¾ git tag æŠŠå½“å‰ HEAD æ‰“ä¸ªæ ‡ç­¾ï¼ˆåä¸ºï¼š1.0ï¼‰ git tag 1.0# ä¹Ÿå¯ä»¥æ·»åŠ å¤‡æ³¨ä¿¡æ¯ï¼Œå¦‚åŒcommitgit tag 1.0 -m message åˆ‡æ¢åˆ°æŸä¸ªæ ‡ç­¾ï¼ˆ1.0ï¼‰ git checkout 1.0 æŠŠæ ‡ç­¾ push åˆ°è¿œç¨‹ pushæŒ‡å®šçš„taggit push origin 1.0pushæ‰€æœ‰æœªpushçš„taggit push --tags åˆ é™¤æ ‡ç­¾ï¼ˆ1.0ï¼‰ # åˆ é™¤æœ¬åœ°taggit tag -d 1.0# åˆ é™¤è¿œç¨‹tag# æ–¹æ³•ä¸€ï¼šå°†ç©ºç™½tagè¦†ç›–åˆ°è¿œç¨‹taggit push origin :1.0# æ–¹æ³•äºŒï¼šæ‰§è¡Œåˆ é™¤å‘½ä»¤git push origin --delete 1.0 å®¢æˆ·ç«¯æ“ä½œStash saveï¼šå°†å½“å‰æœª commit çš„ä»£ç ä¿å­˜åˆ° stashï¼Œå¹¶ä¸”å›åˆ°ä¸Šæ¬¡ commit çš„çŠ¶æ€ã€‚ applyï¼šåº”ç”¨æŸä¸ª stash çš„ä»£ç ã€‚ Git-Flowè‡ªåŠ¨åŒ–ç®¡ç†åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š å‡†å¤‡å¼€å‘æ–°ç‰ˆæœ¬çš„æ—¶å€™ï¼šç‚¹å‡» Start Releaseï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨æ–°å»ºä¸€ä¸ª release åˆ†æ”¯ã€‚ å‡†å¤‡å¢åŠ ä¸€ä¸ªæ–°ç‰¹æ€§çš„æ—¶å€™ï¼šç‚¹å‡» Start Featureï¼Œå®¢æˆ·ç«¯ä¼šæ–°å»ºä¸€ä¸ª feature åˆ†æ”¯ã€‚ éœ€è¦ä¿®å¤ bug çš„æ—¶å€™ï¼šç‚¹å‡» Start Hotfixï¼Œå®¢æˆ·ç«¯ä¼šæ–°å»ºä¸€ä¸ª fix åˆ†æ”¯ã€‚ å½“ä¿®å¤å®Œ bugï¼Œç‚¹å‡» Finish Hotfix çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨æŠŠ fix åˆ†æ”¯åˆå¹¶åˆ°åˆ›å»ºå®ƒçš„åˆ†æ”¯ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ª tagã€‚ å½“ä¸€ä¸ªæ–°ç‰¹æ€§å¼€å‘å®Œæˆï¼Œç‚¹å‡» Finish Feature çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨æŠŠ feature åˆ†æ”¯åˆå¹¶åˆ°åˆ›å»ºå®ƒçš„åˆ†æ”¯ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ª tagã€‚ å½“ä¸€ä¸ªæ–°ç‰ˆæœ¬å¼€å‘å®Œæˆï¼Œç‚¹å‡» Finish Release çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨æŠŠ release åˆ†æ”¯åˆå¹¶åˆ°åˆ›å»ºå®ƒçš„åˆ†æ”¯ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ª tagã€‚"},{"title":"Redis å®‰è£…","path":"/wiki/redis/install.html","content":"Linux å®‰è£…æºç ç¼–è¯‘å®‰è£…Redisæœ¬æ•™ç¨‹ä½¿ç”¨ç¨³å®šç‰ˆæœ¬ï¼Œä¸‹è½½å¹¶å®‰è£…Redisï¼š wget http://download.redis.io/redis-stable.tar.gztar -xzvf redis-stable.tar.gzcd redis-stablemake æ‰§è¡Œå®Œ make å‘½ä»¤åï¼Œsrc ç›®å½•ä¸‹ä¼šå‡ºç°ç¼–è¯‘åçš„ redis æœåŠ¡ç¨‹åº redis-serverï¼Œè¿˜æœ‰ç”¨äºæµ‹è¯•çš„å®¢æˆ·ç«¯ç¨‹åº redis-cliï¼Œä¸¤ä¸ªç¨‹åºä½äºå®‰è£…ç›®å½• src ç›®å½•ä¸‹ï¼š redis-server Redis æœåŠ¡å™¨ç¨‹åº redis-cli ä¸Redisäº¤äº’çš„å‘½ä»¤è¡Œç•Œé¢ç¨‹åº å®‰è£…å¯æ‰§è¡Œç¨‹åºåˆ°usrlocalbinï¼Œæ‰§è¡Œ: make installåœ¨å‰å°å¯åŠ¨å’Œåœæ­¢ Rediså®‰è£…åï¼Œæ‚¨å¯ä»¥é€šè¿‡è¿è¡Œæ¥å¯åŠ¨ Redis redis-server å¦‚æœæˆåŠŸï¼Œæ‚¨å°†çœ‹åˆ° Redis çš„å¯åŠ¨æ—¥å¿—ï¼ŒRedis å°†åœ¨å‰å°è¿è¡Œã€‚ 30858:C 11 May 2023 20:26:52.870 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo30858:C 11 May 2023 20:26:52.870 # Redis version=7.0.11, bits=64, commit=00000000, modified=0, pid=30858, just started30858:C 11 May 2023 20:26:52.870 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf30858:M 11 May 2023 20:26:52.871 * monotonic clock: POSIX clock_gettime _._ _.-``__ -._ _.-`` `. `_. -._ Redis 7.0.11 (00000000/0) 64 bit .-`` .-```. ```\\/ _.,_ -._ ( , .-` | `, ) Running in standalone mode |`-._`-...-` __...-.``-._|` _.-| Port: 6379 | `-._ `._ / _.- | PID: 30858 `-._ `-._ `-./ _.- _.- |`-._`-._ `-.__.- _.-_.-| | `-._`-._ _.-_.- | https://redis.io `-._ `-._`-.__.-_.- _.- |`-._`-._ `-.__.- _.-_.-| | `-._`-._ _.-_.- | `-._ `-._`-.__.-_.- _.- `-._ `-.__.- _.- `-._ _.- `-.__.- 30858:M 11 May 2023 20:26:52.871 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.30858:M 11 May 2023 20:26:52.871 # Server initialized30858:M 11 May 2023 20:26:52.871 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add vm.overcommit_memory = 1 to /etc/sysctl.conf and then reboot or run the command sysctl vm.overcommit_memory=1 for this to take effect.30858:M 11 May 2023 20:26:52.872 * Ready to accept connections è¦åœæ­¢ Redisï¼Œè¯·è¾“å…¥Ctrl-Cã€‚ æ³¨æ„è¿™ç§æ–¹å¼å¯åŠ¨ redis ä½¿ç”¨çš„æ˜¯é»˜è®¤é…ç½®ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å¯åŠ¨å‚æ•°å‘Šè¯‰ redis ä½¿ç”¨æŒ‡å®šé…ç½®æ–‡ä»¶ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¯åŠ¨ã€‚ cp redis.conf /etc/redis.confredis-server /etc/redis.conf redis.conf æ˜¯ä¸€ä¸ªé»˜è®¤çš„é…ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨è‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚ å¯åŠ¨ redis æœåŠ¡è¿›ç¨‹åï¼Œå°±å¯ä»¥ä½¿ç”¨æµ‹è¯•å®¢æˆ·ç«¯ç¨‹åº redis-cli å’Œ redis æœåŠ¡äº¤äº’äº†ã€‚ æ¯”å¦‚ï¼š redis-cliredis set foo barOKredis get foobar å…³é—­åœæ­¢redisæœåŠ¡ redis-cli shutdown#ç›´æ¥å…³é—­ä¸ä¿å­˜å†…å­˜redis-cli shutdown nosave é…ç½® Redis ä¸ºåå°æœåŠ¡å°†é…ç½®æ–‡ä»¶ä¸­çš„ daemonize no æ”¹æˆ daemonize yesï¼Œé…ç½® redis ä¸ºåå°å¯åŠ¨ã€‚ Redis è®¾ç½®è®¿é—®å¯†ç åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° requirepassï¼Œå»æ‰å‰é¢çš„æ³¨é‡Šï¼Œå¹¶ä¿®æ”¹åé¢çš„å¯†ç ã€‚ å¸¸ç”¨é…ç½®æ–‡ä»¶ä¾‹å­ redis.conf #é»˜è®¤ç«¯å£6379port 6379#ç»‘å®šipï¼Œå¦‚æœæ˜¯å†…ç½‘å¯ä»¥ç›´æ¥ç»‘å®š 127.0.0.1, æˆ–è€…å¿½ç•¥, 0.0.0.0æ˜¯å¤–ç½‘bind 0.0.0.0#å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨daemonize yes#è¶…æ—¶timeout 300loglevel notice#åˆ†åŒºdatabases 16save 900 1save 300 10save 60 10000rdbcompression yes#å­˜å‚¨æ–‡ä»¶dbfilename dump.rdb#å¯†ç  abcd123requirepass abcd123 åœ¨ ubuntu ä¸Šå®‰è£… RedisæŒ‰ç…§ä¸‹é¢ç»™å‡ºçš„æ­¥éª¤åœ¨ Ubuntu ä¸Šå®‰è£… Redisï¼š é¦–å…ˆä½¿ç”¨ sudo è®¾ç½®é root ç”¨æˆ·ï¼Œç„¶åå®‰è£…æ„å»ºå’Œæµ‹è¯•ä¾èµ–é¡¹ï¼š sudo apt update sudo apt full-upgradesudo apt install build-essential tcl è¦ç»§ç»­æŒ‰ Y é”® å®‰è£… Redis æœåŠ¡å™¨ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Redis æœåŠ¡å™¨ï¼š sudo apt-get install redis-server ç°åœ¨å®‰è£…äº† Redis Serverã€‚æ‚¨å¯ä»¥å¯åŠ¨ Redis æœåŠ¡å™¨ï¼š å¯åŠ¨ Redis æœåŠ¡å™¨æ‚¨ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ redis æœåŠ¡å™¨ï¼š redis-server å¯åŠ¨ Redis å®¢æˆ·ç«¯Redis æœåŠ¡å™¨å·²å¯åŠ¨ï¼Œå› æ­¤æ‚¨å¯ä»¥å¯åŠ¨ redis å®¢æˆ·ç«¯ä»¥åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚ redis-cli éªŒè¯ Redis æ˜¯å¦æ­£å¸¸å·¥ä½œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š redis-cli è¿™å°†æ‰“å¼€ä¸€ä¸ª redis æç¤ºç¬¦ã€‚ redis 127.0.0.1:6379 åœ¨ä¸Šé¢çš„æç¤ºä¸­ï¼Œ127.0.0.1 æ˜¯æœºå™¨çš„ IP åœ°å€ï¼Œ6379 æ˜¯ Redis æœåŠ¡å™¨è¿è¡Œçš„ç«¯å£ã€‚ ç°åœ¨é”®å…¥ä»¥ä¸‹ PING å‘½ä»¤ã€‚è¿”å› PONG è¡¨ç¤º Redis å·²æˆåŠŸå®‰è£…åœ¨æ‚¨çš„ç³»ç»Ÿä¸Šã€‚ åœ¨ windows ä¸Šå®‰è£… RedisRedis å®˜æ–¹ä¸å»ºè®®åœ¨ windows ä¸‹ä½¿ç”¨ Redisï¼Œæ‰€ä»¥å®˜ç½‘æ²¡æœ‰ windows ç‰ˆæœ¬å¯ä»¥ä¸‹è½½ã€‚è¿˜å¥½å¾®è½¯å›¢é˜Ÿç»´æŠ¤äº†å¼€æºçš„ windows ç‰ˆæœ¬ï¼Œè™½ç„¶åªæœ‰ 3.2 ç‰ˆæœ¬ï¼Œå¯¹äºæ™®é€šæµ‹è¯•ä½¿ç”¨è¶³å¤Ÿäº†ã€‚ å®‰è£…åŒ…æ–¹å¼å®‰è£… Redis æœåŠ¡ä¸‹è½½åœ°å€ï¼šhttps://github.com/MicrosoftArchive/redis/releases ç‚¹å‡»ä¸‹è½½ï¼š æ‚¨å¯ä»¥çœ‹åˆ° Redis ç°åœ¨å·²ä¸‹è½½ã€‚ æˆ–è€…æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢é“¾æ¥ä¸‹è½½ã€‚ https://github.com/rgl/redis/downloads ä¸‹è½½å®Œæˆä¹‹ååŒå‡»æŒ‰ç€å¼•å¯¼æµç¨‹å®‰è£…ã€‚ å¯åŠ¨ RedisRedis ç°åœ¨å¯ä»¥ä½¿ç”¨äº†ã€‚æ‰“å¼€ Redis ç¨‹åºç›®å½•ï¼š æ–‡ä»¶ä»‹ç»ï¼š redis-server.exeï¼šæœåŠ¡ç«¯ç¨‹åºï¼Œæä¾› redis æœåŠ¡ redis-cli.exe: å®¢æˆ·ç«¯ç¨‹åºï¼Œé€šè¿‡å®ƒè¿æ¥ redis æœåŠ¡å¹¶è¿›è¡Œæ“ä½œ redis-check-dump.exeï¼šRDB æ–‡ä»¶ä¿®å¤å·¥å…· redis-check-aof.exeï¼šAOF æ–‡ä»¶ä¿®å¤å·¥å…· redis-benchmark.exeï¼šæ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œç”¨ä»¥æ¨¡æ‹ŸåŒæ—¶ç”± N ä¸ªå®¢æˆ·ç«¯å‘é€ M ä¸ª SETsGETs æŸ¥è¯¢ (ç±»ä¼¼äº Apache çš„ ab å·¥å…·) redis.windows.confï¼š é…ç½®æ–‡ä»¶ï¼Œå°† redis ä½œä¸ºæ™®é€šè½¯ä»¶ä½¿ç”¨çš„é…ç½®ï¼Œå‘½ä»¤è¡Œå…³é—­åˆ™ redis å…³é—­ redis.windows-service.confï¼šé…ç½®æ–‡ä»¶ï¼Œå°† redis ä½œä¸ºç³»ç»ŸæœåŠ¡çš„é…ç½® å•å‡» redis-server.exeï¼Œå¯åŠ¨ Redis æœåŠ¡ã€‚ ç°åœ¨å¯åŠ¨ Redis å®¢æˆ·ç«¯ã€‚ æ£€æŸ¥ Redis æ˜¯å¦å·²è¿æ¥ã€‚ ä½¿ç”¨ PING å‘½ä»¤ã€‚ Redis æœåŠ¡çª—å£ä¹Ÿè¾“å‡º 1 ä¸ªå®¢æˆ·ç«¯å·²è¿æ¥ã€‚ ç›´æ¥è§£å‹çš„æ–¹å¼å®‰è£… redisé¦–å…ˆä¸‹è½½ redis å®‰è£…åŒ…ï¼šhttps://github.com/MSOpenTech/redis/releases è§£å‹å®‰è£…åŒ…åˆ°ç›¸åº”æ–‡ä»¶å¤¹ï¼Œä»»ä½•ç›˜ç¬¦éƒ½è¡Œï¼Œä¾‹å¦‚ E:\\tools\\redis-3.2.100ã€‚ ä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨ Redis æœåŠ¡è¿è¡Œ cmdï¼Œcd è¿›å…¥å¯¹åº”ç›®å½• E:\\tools\\redis-3.2.100ï¼Œæ‰§è¡Œï¼š redis-server.exe redis.windows.conf *æ³¨ï¼šå¯ä»¥æŠŠ redis çš„è·¯å¾„åŠ åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡é‡Œï¼Œè¿™æ ·å°±çœå¾—å†è¾“è·¯å¾„äº†ï¼Œåé¢çš„é‚£ä¸ª redis.windows.conf å¯ä»¥çœç•¥ï¼Œå¦‚æœçœç•¥ï¼Œä¼šå¯ç”¨é»˜è®¤çš„å‚æ•°ã€‚ è¾“å…¥ä¹‹åä¼šæ˜¾ç¤ºå¦‚ä¸‹ï¼š å®‰è£… redis åˆ° windows æœåŠ¡redis-server --service-install redis.windows.conf æŸ¥çœ‹ windows æœåŠ¡æ˜¯å¦åŠ å…¥ï¼š è¿™æ—¶å€™å…ˆå…³é—­æ‰“å¼€çš„ç¬¬ä¸€ä¸ª cmd çª—å£ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨å†æ¬¡ redisï¼š redis-server --service-start åœæ­¢ redis æœåŠ¡ï¼š redis-server --service-stop æœ€åï¼Œæµ‹è¯•ä¸€ä¸‹ redis æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼š åˆ‡æ¢åˆ° redis ç›®å½•ä¸‹ï¼šE:\\tools\\redis-3.2.100 ä¸‹ï¼š redis-cli.exe -h 127.0.0.1 -p 6379"},{"title":"Redis é…ç½®æ–‡ä»¶è¯¦è§£","path":"/wiki/redis/config.html","content":"Redis é…ç½®æ–‡ä»¶è¯¦è§£åœ¨ Redis ä¸­ï¼ŒRedis çš„æ ¹ç›®å½•ä¸­æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ˆredis.confï¼‰ã€‚æ‚¨å¯ä»¥é€šè¿‡ Redis CONFIG å‘½ä»¤è·å–å’Œè®¾ç½®æ‰€æœ‰ Redis é…ç½®ã€‚ æŸ¥çœ‹Redisé…ç½®å¥æ³• CONFIG GET å‘½ä»¤çš„åŸºæœ¬è¯­æ³•: redis 127.0.0.1:6379 CONFIG GET CONFIG_SETTING_NAME æŸ¥çœ‹æ—¥å¿—ç­‰çº§çš„é…ç½® redis 127.0.0.1:6379 CONFIG GET loglevel è¾“å‡º 1) loglevel2) verbose è¦è·å–æ‰€æœ‰é…ç½®è®¾ç½®ï¼Œè¯·ä½¿ç”¨ * ä»£æ›¿ CONFIG_SETTING_NAME redis 127.0.0.1:6379 CONFIG GET * è¾“å‡º 1. dir2. C:\\\\\\\\Program Files\\\\\\\\Redis3. dbfilename4. dump.rdb5. requirepass6. (nil)7. masterauth8. (nil)9. maxmemory10. 011. maxmemory-policy12. volatile-lru13. maxmemory-samples14. 315. timeout16. 017. appendonly18. no19. no-appendfsync-on-rewrite20. no21. appendfsync22. everysec23. save24. 3600 1 300 100 60 1000025. auto-aof-rewrite-percentage26. 10027. auto-aof-rewrite-min-size28. 104857629. slave-serve-stale-data30. yes31. hash-max-zipmap-entries32. 51233. hash-max-zipmap-value34. 6435. list-max-ziplist-entries36. 51237. list-max-ziplist-value38. 6439. set-max-intset-entries40. 51241. zset-max-ziplist-entries42. 12843. zset-max-ziplist-value44. 6445. slowlog-log-slower-than46. 1000047. slowlog-max-len48. 6449. loglevel50. verbose \\ ç¼–è¾‘ä¿®æ”¹Redisé…ç½®è¦æ›´æ–°é…ç½®ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘ redis.conf æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ CONFIG set å‘½ä»¤æ›´æ–°é…ç½®ã€‚ è¯­æ³• ä»¥ä¸‹æ˜¯ CONFIG SET å‘½ä»¤çš„åŸºæœ¬è¯­æ³•ã€‚ redis 127.0.0.1:6379 CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE ç¤ºä¾‹å¦‚ä¸‹ï¼š 127.0.0.1:6379 CONFIG SET loglevel verboseOK127.0.0.1:6379 CONFIG GET loglevel1) loglevel2) verbose Redis çš„æ—¥å¿—çº§åˆ«æœ‰ä»¥ä¸‹å››ç§ï¼š debugï¼šä¼šæ‰“å°å‡ºå¾ˆå¤šä¿¡æ¯ï¼Œé€‚ç”¨äºå¼€å‘å’Œæµ‹è¯•é˜¶æ®µã€‚ verboseï¼ˆå†—é•¿çš„ï¼‰ï¼šåŒ…å«å¾ˆå¤šä¸å¤ªæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä½†æ¯”debugç®€åŒ–ä¸€äº›ã€‚ noticeï¼šé€‚ç”¨äºç”Ÿäº§æ¨¡å¼ã€‚ warning : è­¦å‘Šä¿¡æ¯ã€‚ Redis é»˜è®¤è®¾ç½®ä¸º verboseï¼Œå¼€å‘æµ‹è¯•é˜¶æ®µå¯ä»¥ç”¨ debugï¼Œç”Ÿäº§æ¨¡å¼ä¸€èˆ¬é€‰ç”¨ noticeã€‚ Redis å¸¸ç”¨é…ç½®å‚æ•°è¯´æ˜redis.conf é…ç½®é¡¹è¯´æ˜å¦‚ä¸‹ï¼š å‚æ•° æè¿° daemonize Redis é»˜è®¤ä¸æ˜¯ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œ daemonize noï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®é¡¹ä¿®æ”¹ï¼Œä½¿ç”¨ yes å¯ç”¨å®ˆæŠ¤è¿›ç¨‹ pidfile å½“ Redis ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œæ—¶ï¼ŒRedis é»˜è®¤ä¼šæŠŠ pid å†™å…¥ varrunredis.pid æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ pidfile æŒ‡å®š pidfile varrunredis.pid port port 6379 æŒ‡å®š Redis ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º 6379ï¼Œä½œè€…åœ¨è‡ªå·±çš„ä¸€ç¯‡åšæ–‡ä¸­è§£é‡Šäº†ä¸ºä»€ä¹ˆé€‰ç”¨ 6379 ä½œä¸ºé»˜è®¤ç«¯å£ï¼Œå› ä¸º 6379 åœ¨æ‰‹æœºæŒ‰é”®ä¸Š MERZ å¯¹åº”çš„å·ç ï¼Œè€Œ MERZ å–è‡ªæ„å¤§åˆ©æ­Œå¥³ Alessia Merz çš„åå­— bind ç›‘å¬çš„ä¸»æœºåœ°å€ bind 127.0.0.1 timeout timeout 300 å½“å®¢æˆ·ç«¯é—²ç½®å¤šé•¿æ—¶é—´åå…³é—­è¿æ¥ï¼Œå¦‚æœæŒ‡å®šä¸º 0ï¼Œè¡¨ç¤ºå…³é—­è¯¥åŠŸèƒ½ loglevel loglevel verbose æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedis æ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸º verbose logfile logfile stdout æ—¥å¿—è®°å½•æ–¹å¼ï¼Œé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºï¼Œå¦‚æœé…ç½® Redis ä¸ºå®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè€Œè¿™é‡Œåˆé…ç½®ä¸ºæ—¥å¿—è®°å½•æ–¹å¼ä¸ºæ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å°†ä¼šå‘é€ç»™ devnull databases databases 16 è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º 0ï¼Œå¯ä»¥ä½¿ç”¨ SELECT dbid å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“ id save save seconds changes æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ, Redis é»˜è®¤é…ç½®æ–‡ä»¶ä¸­æä¾›äº†ä¸‰ä¸ªæ¡ä»¶ï¼šsave 900 1ã€save 300 10ã€save 60 10000 ,åˆ†åˆ«è¡¨ç¤º 90 0 ç§’ï¼ˆ15 åˆ†é’Ÿï¼‰å†…æœ‰ 1 ä¸ªæ›´æ”¹ï¼Œ300 ç§’ï¼ˆ5 åˆ†é’Ÿï¼‰å†…æœ‰ 10 ä¸ªæ›´æ”¹ä»¥åŠ 60 ç§’å†…æœ‰ 10000 ä¸ªæ›´æ”¹ã€‚ rdbcompression rdbcompression yes 10.æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸º yesï¼ŒRedis é‡‡ç”¨ LZF å‹ç¼©ï¼Œå¦‚æœä¸ºäº†èŠ‚çœ CPU æ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§ dbfilename dbfilename dump.rdb æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º dump.rdb dir dir . æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½• slaveof slaveof masterip masterport è®¾ç½®å½“æœ¬æœºä¸º slave æœåŠ¡æ—¶ï¼Œè®¾ç½® master æœåŠ¡çš„ IP åœ°å€åŠç«¯å£ï¼Œåœ¨ Redis å¯åŠ¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä» master è¿›è¡Œæ•°æ®åŒæ­¥ masterauth masterauth master-password master æœåŠ¡è®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼Œslave æœåŠ¡è¿æ¥ master çš„å¯†ç  requirepass requirepass foobared è®¾ç½® Redis è¿æ¥å¯†ç ï¼Œå¦‚æœé…ç½®äº†è¿æ¥å¯†ç ï¼Œå®¢æˆ·ç«¯åœ¨è¿æ¥ Redis æ—¶éœ€è¦é€šè¿‡ AUTH passwordå‘½ä»¤æä¾›å¯†ç ï¼Œé»˜è®¤å…³é—­ maxclients maxclients 128 è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°ï¼Œé»˜è®¤æ— é™åˆ¶ï¼ŒRedis å¯ä»¥åŒæ—¶æ‰“å¼€çš„å®¢æˆ·ç«¯è¿æ¥æ•°ä¸º Redis è¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°ï¼Œå¦‚æœè®¾ç½® maxclients 0ï¼Œè¡¨ç¤ºä¸ä½œé™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥æ•°åˆ°è¾¾é™åˆ¶æ—¶ï¼ŒRedis ä¼šå…³é—­æ–°çš„è¿æ¥å¹¶å‘å®¢æˆ·ç«¯è¿”å› max number of clients reached é”™è¯¯ä¿¡æ¯ maxmemory maxmemory bytes æŒ‡å®š Redis æœ€å¤§å†…å­˜é™åˆ¶ï¼ŒRedis åœ¨å¯åŠ¨æ—¶ä¼šæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¾¾åˆ°æœ€å¤§å†…å­˜åï¼ŒRedis ä¼šå…ˆå°è¯•æ¸…é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„ Keyï¼Œå½“æ­¤æ–¹æ³•å¤„ç†åï¼Œä»ç„¶åˆ°è¾¾æœ€å¤§å†…å­˜è®¾ç½®ï¼Œå°†æ— æ³•å†è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†ä»ç„¶å¯ä»¥è¿›è¡Œè¯»å–æ“ä½œã€‚Redis æ–°çš„ vm æœºåˆ¶ï¼Œä¼šæŠŠ Key å­˜æ”¾å†…å­˜ï¼ŒValue ä¼šå­˜æ”¾åœ¨ swap åŒº appendonly appendonly no æŒ‡å®šæ˜¯å¦åœ¨æ¯æ¬¡æ›´æ–°æ“ä½œåè¿›è¡Œæ—¥å¿—è®°å½•ï¼ŒRedis åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„æŠŠæ•°æ®å†™å…¥ç£ç›˜ï¼Œå¦‚æœä¸å¼€å¯ï¼Œå¯èƒ½ä¼šåœ¨æ–­ç”µæ—¶å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ä¸¢å¤±ã€‚å› ä¸º redis æœ¬èº«åŒæ­¥æ•°æ®æ–‡ä»¶æ˜¯æŒ‰ä¸Šé¢ save æ¡ä»¶æ¥åŒæ­¥çš„ï¼Œæ‰€ä»¥æœ‰çš„æ•°æ®ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚é»˜è®¤ä¸º no appendfilename appendfilename appendonly.aof æŒ‡å®šæ›´æ–°æ—¥å¿—æ–‡ä»¶åï¼Œé»˜è®¤ä¸º appendonly.aof appendfsync appendfsync everysec æŒ‡å®šæ›´æ–°æ—¥å¿—æ¡ä»¶ï¼Œå…±æœ‰ 3 ä¸ªå¯é€‰å€¼ï¼šnoï¼šè¡¨ç¤ºç­‰æ“ä½œç³»ç»Ÿè¿›è¡Œæ•°æ®ç¼“å­˜åŒæ­¥åˆ°ç£ç›˜ï¼ˆå¿«ï¼‰; alwaysï¼šè¡¨ç¤ºæ¯æ¬¡æ›´æ–°æ“ä½œåæ‰‹åŠ¨è°ƒç”¨ fsync() å°†æ•°æ®å†™åˆ°ç£ç›˜ï¼ˆæ…¢ï¼Œå®‰å…¨ï¼‰; everysecï¼šè¡¨ç¤ºæ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼ˆæŠ˜è¡·ï¼Œé»˜è®¤å€¼ï¼‰ vm-enabled vm-enabled no æŒ‡å®šæ˜¯å¦å¯ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ï¼Œé»˜è®¤å€¼ä¸º noï¼Œç®€å•çš„ä»‹ç»ä¸€ä¸‹ï¼ŒVM æœºåˆ¶å°†æ•°æ®åˆ†é¡µå­˜æ”¾ï¼Œç”± Redis å°†è®¿é—®é‡è¾ƒå°‘çš„é¡µå³å†·æ•°æ® swap åˆ°ç£ç›˜ä¸Šï¼Œè®¿é—®å¤šçš„é¡µé¢ç”±ç£ç›˜è‡ªåŠ¨æ¢å‡ºåˆ°å†…å­˜ä¸­ï¼ˆåœ¨åé¢çš„æ–‡ç« æˆ‘ä¼šä»”ç»†åˆ†æ Redis çš„ VM æœºåˆ¶ï¼‰ vm-swap-file vm-swap-file tmpredis.swap è™šæ‹Ÿå†…å­˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º tmpredis.swapï¼Œä¸å¯å¤šä¸ª Redis å®ä¾‹å…±äº« vm-max-memory vm-max-memory 0 å°†æ‰€æœ‰å¤§äº vm-max-memory çš„æ•°æ®å­˜å…¥è™šæ‹Ÿå†…å­˜,æ— è®º vm-max-memory è®¾ç½®å¤šå°,æ‰€æœ‰ç´¢å¼•æ•°æ®éƒ½æ˜¯å†…å­˜å­˜å‚¨çš„( Redis çš„ç´¢å¼•æ•°æ®å°±æ˜¯ keys ),ä¹Ÿå°±æ˜¯è¯´,å½“ vm-max-memory è®¾ç½®ä¸º 0 çš„æ—¶å€™,å…¶å®æ˜¯æ‰€æœ‰ value éƒ½å­˜åœ¨äºç£ç›˜ã€‚é»˜è®¤å€¼ä¸º 0 vm-page-size vm-page-size 32 Redis swap æ–‡ä»¶åˆ†æˆäº†å¾ˆå¤šçš„ pageï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥ä¿å­˜åœ¨å¤šä¸ª page ä¸Šé¢ï¼Œä½†ä¸€ä¸ª page ä¸Šä¸èƒ½è¢«å¤šä¸ªå¯¹è±¡å…±äº«ï¼Œvm-page-size æ˜¯è¦æ ¹æ®å­˜å‚¨çš„æ•°æ®å¤§å°æ¥è®¾å®šçš„ï¼Œä½œè€…å»ºè®®å¦‚æœå­˜å‚¨å¾ˆå¤šå°å¯¹è±¡ï¼Œpage å¤§å°æœ€å¥½è®¾ç½®ä¸º 32 æˆ–è€… 64 bytesï¼›å¦‚æœå­˜å‚¨å¾ˆå¤§å¤§å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ›´å¤§çš„ pageï¼Œå¦‚æœä¸ç¡®å®šï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼ vm-pages vm-pages 134217728 è®¾ç½® swap æ–‡ä»¶ä¸­çš„ page æ•°é‡ï¼Œç”±äºé¡µè¡¨ï¼ˆä¸€ç§è¡¨ç¤ºé¡µé¢ç©ºé—²æˆ–ä½¿ç”¨çš„ bitmapï¼‰æ˜¯åœ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œåœ¨ç£ç›˜ä¸Šæ¯ 8 ä¸ª pages å°†æ¶ˆè€— 1byte çš„å†…å­˜ã€‚ vm-max-threads vm-max-threads 4 è®¾ç½®è®¿é—® swap æ–‡ä»¶çš„çº¿ç¨‹æ•°,æœ€å¥½ä¸è¦è¶…è¿‡æœºå™¨çš„æ ¸æ•°,å¦‚æœè®¾ç½®ä¸º 0,é‚£ä¹ˆæ‰€æœ‰å¯¹ swap æ–‡ä»¶çš„æ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½ä¼šé€ æˆæ¯”è¾ƒé•¿æ—¶é—´çš„å»¶è¿Ÿã€‚é»˜è®¤å€¼ä¸º 4 glueoutputbuf glueoutputbuf yes è®¾ç½®åœ¨å‘å®¢æˆ·ç«¯åº”ç­”æ—¶ï¼Œæ˜¯å¦æŠŠè¾ƒå°çš„åŒ…åˆå¹¶ä¸ºä¸€ä¸ªåŒ…å‘é€ï¼Œé»˜è®¤ä¸ºå¼€å¯ hash-max-zipmap-entries hash-max-zipmap-entries 64 æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³• hash-max-zipmap-value sh-max-zipmap-value 512 æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³• activerehashing activerehashing yes æŒ‡å®šæ˜¯å¦æ¿€æ´»é‡ç½®å“ˆå¸Œï¼Œé»˜è®¤ä¸ºå¼€å¯ï¼ˆåé¢åœ¨ä»‹ç» Redis çš„å“ˆå¸Œç®—æ³•æ—¶å…·ä½“ä»‹ç»ï¼‰ include include pathtolocal.conf æŒ‡å®šåŒ…å«å…¶å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ª Redis å®ä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„ä¸ªå®ä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶"},{"title":"Redis ç®€ä»‹","path":"/wiki/redis/intro.html","content":"Redis ç®€ä»‹Redisï¼ˆå…¨ç§°ä¸ºRemote Dictionary Serverï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½é”®å€¼å¯¹å­˜å‚¨ç³»ç»Ÿï¼Œå…·æœ‰å¿«é€Ÿã€çµæ´»å’Œå¯æ‰©å±•çš„ç‰¹æ€§ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäºå†…å­˜çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä»£ç†ã€‚ Redis çš„ä¸€äº›ä¸»è¦ç‰¹ç‚¹å’Œç”¨é€”ï¼š é«˜æ€§èƒ½ï¼šRedis æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤èƒ½å¤Ÿæä¾›æå¿«çš„è¯»å†™æ“ä½œã€‚å®ƒé‡‡ç”¨å•çº¿ç¨‹æ¨¡å‹å’Œå¼‚æ­¥ IOï¼Œé¿å…äº†å¤šçº¿ç¨‹çš„ç«äº‰å’Œé˜»å¡ï¼Œä»è€Œè¾¾åˆ°äº†éå¸¸é«˜çš„æ€§èƒ½ã€‚ æ•°æ®ç»“æ„å¤šæ ·ï¼šRedis æ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€å“ˆå¸Œï¼ˆHashï¼‰ã€åˆ—è¡¨ï¼ˆListï¼‰ã€é›†åˆï¼ˆSetï¼‰å’Œæœ‰åºé›†åˆï¼ˆSorted Setï¼‰ã€‚è¿™äº›æ•°æ®ç»“æ„æä¾›äº†ä¸°å¯Œçš„æ“ä½œå‘½ä»¤ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ–¹ä¾¿åœ°å¤„ç†å„ç§æ•°æ®éœ€æ±‚ã€‚ æŒä¹…åŒ–æ”¯æŒï¼šRedis æä¾›äº†ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼Œå³å¿«ç…§ï¼ˆSnapshottingï¼‰å’Œæ—¥å¿—è¿½åŠ ï¼ˆAppend-only fileï¼ŒAOFï¼‰ã€‚å¿«ç…§æ–¹å¼å°† Redis å†…å­˜æ•°æ®ä»¥äºŒè¿›åˆ¶æ ¼å¼å†™å…¥ç£ç›˜ï¼Œè€Œ AOF åˆ™é€šè¿‡è¿½åŠ è®°å½• Redis çš„æ“ä½œå‘½ä»¤æ¥å®ç°æŒä¹…åŒ–ã€‚ å‘å¸ƒè®¢é˜…ï¼šRedis æ”¯æŒå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå¯ä»¥ç”¨ä½œæ¶ˆæ¯ä»£ç†ã€‚å‘å¸ƒè€…å°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„é¢‘é“ï¼Œè®¢é˜…è€…åˆ™å¯ä»¥æ¥æ”¶å’Œå¤„ç†è¿™äº›æ¶ˆæ¯ã€‚è¿™ç§æ¨¡å¼åœ¨æ„å»ºå®æ—¶é€šä¿¡ã€äº‹ä»¶é©±åŠ¨ç³»ç»Ÿå’Œæ¶ˆæ¯é˜Ÿåˆ—ç­‰åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚ åˆ†å¸ƒå¼ç¼“å­˜ï¼šRediså¯ä»¥é€šè¿‡ä¸»ä»å¤åˆ¶å’Œåˆ†ç‰‡æ¥å®ç°æ•°æ®çš„åˆ†å¸ƒå¼å­˜å‚¨å’Œé«˜å¯ç”¨æ€§ã€‚ä¸»ä»å¤åˆ¶å¯ä»¥å°†æ•°æ®å¤åˆ¶åˆ°å¤šä¸ªä»èŠ‚ç‚¹ï¼Œå®ç°è¯»å†™åˆ†ç¦»å’Œæ•°æ®å¤‡ä»½ã€‚è€Œåˆ†ç‰‡åˆ™å¯ä»¥å°†æ•°æ®åˆ†å¸ƒåœ¨å¤šä¸ªRedisèŠ‚ç‚¹ä¸Šï¼Œå®ç°æ¨ªå‘æ‰©å±•å’Œè´Ÿè½½å‡è¡¡ã€‚ äº‹åŠ¡æ”¯æŒï¼šRedis æ”¯æŒäº‹åŠ¡ï¼Œå¼€å‘è€…å¯ä»¥å°†å¤šä¸ªæ“ä½œç»„åˆæˆä¸€ä¸ªåŸå­æ€§çš„æ“ä½œåºåˆ—ï¼Œä¿è¯è¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚ åŠŸèƒ½ä¸°å¯Œï¼šRedisä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„ç¼“å­˜ï¼Œå®ƒè¿˜æä¾›äº†è®¸å¤šå…¶ä»–åŠŸèƒ½ï¼Œå¦‚äº‹åŠ¡æ”¯æŒã€Luaè„šæœ¬æ‰§è¡Œã€å®šæ—¶ä»»åŠ¡ã€åŸå­æ“ä½œç­‰ã€‚è¿™ä½¿å¾—å¼€å‘è€…å¯ä»¥åœ¨Redisä¸­å®ç°æ›´å¤æ‚çš„åº”ç”¨é€»è¾‘ã€‚ Redis æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„å­˜å‚¨ç³»ç»Ÿï¼Œé€‚ç”¨äºå¤šç§åœºæ™¯ï¼ŒåŒ…æ‹¬ç¼“å­˜ã€ä¼šè¯å­˜å‚¨ã€æ’è¡Œæ¦œã€å®æ—¶åˆ†æç­‰ã€‚å®ƒæœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œå¹¶ä¸”æ‹¥æœ‰æ´»è·ƒçš„ç¤¾åŒºæ”¯æŒã€‚ Redis ä¸å…¶ä»– key-value å­˜å‚¨æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ Redis æ¯”èµ·å…¶å®ƒé”®å€¼ç±»æ•°æ®åº“ï¼Œå€¼å¯ä»¥åŒ…å«æ›´å¤æ‚çš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”åœ¨æ•°æ®ç±»å‹ä¸Šå®šä¹‰åŸå­æ“ä½œã€‚Redis æ•°æ®ç±»å‹ä¸åŸºæœ¬æ•°æ®ç»“æ„å¯†åˆ‡ç›¸å…³ï¼Œå¹¶ç›´æ¥å‘ç¨‹åºå‘˜å…¬å¼€ï¼Œæ— éœ€é¢å¤–çš„æŠ½è±¡å±‚ã€‚ Redis è¿è¡Œåœ¨å†…å­˜ä¸­ä½†æ˜¯å¯ä»¥æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œå› æ­¤å®ƒä»£è¡¨äº†ä¸€ç§ä¸åŒçš„æƒè¡¡ï¼Œå³åœ¨æ•°æ®é›†ä¸èƒ½å¤§äºå†…å­˜çš„é™åˆ¶ä¸‹å®ç°éå¸¸é«˜çš„å†™å…¥å’Œè¯»å–é€Ÿåº¦ã€‚å†…å­˜æ•°æ®åº“çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œä¸ç£ç›˜ä¸Šçš„ç›¸åŒæ•°æ®ç»“æ„ç›¸æ¯”ï¼Œå¤æ‚æ•°æ®ç»“æ„çš„å†…å­˜è¡¨ç¤ºæ›´æ˜“äºæ“ä½œï¼Œå› æ­¤ Redis å¯ä»¥åšå¾ˆå¤šäº‹æƒ…è€Œå†…éƒ¨å¤æ‚æ€§å¾ˆå°ã€‚åŒæ—¶ï¼Œå›  RDB å’Œ AOF ä¸¤ç§ç£ç›˜æŒä¹…åŒ–æ–¹å¼æ˜¯ä¸é€‚åˆéšæœºè®¿é—®ï¼Œå› ä¸ºå®ƒä»¬æ˜¯é¡ºåºå†™å…¥çš„ã€‚ Redis æ¶æ„Redis ä¸»è¦ç”±æœ‰ä¸¤ä¸ªç¨‹åºç»„æˆï¼š Redis å®¢æˆ·ç«¯ redis-cli Redis æœåŠ¡å™¨ redis-server å®¢æˆ·ç«¯ã€æœåŠ¡å™¨å¯ä»¥ä½äºåŒä¸€å°è®¡ç®—æœºæˆ–ä¸¤å°ä¸åŒçš„è®¡ç®—æœºä¸­ã€‚"},{"title":"Redis æ•°æ®ç±»å‹","path":"/wiki/redis/data-types.html","content":"redis æ”¯æŒçš„æ•°æ®ç±»å‹Redis æ•°æ®åº“æ”¯æŒå¤šç§æ•°æ®ç±»å‹ã€‚ å­—ç¬¦ä¸²ï¼ˆstringï¼‰ å“ˆå¸Œï¼ˆhashï¼‰ åˆ—è¡¨ï¼ˆlistï¼‰ é›†åˆï¼ˆsetï¼‰ æœ‰åºé›†åˆï¼ˆsorted setï¼‰ ä½å›¾ ( Bitmaps ) åŸºæ•°ç»Ÿè®¡ ( HyperLogLogs ) å­—ç¬¦ä¸²String æ˜¯ä¸€ç»„å­—èŠ‚ã€‚åœ¨ Redis æ•°æ®åº“ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚è¿™æ„å‘³ç€å®ƒä»¬å…·æœ‰å·²çŸ¥é•¿åº¦ï¼Œå¹¶ä¸”ä¸å—ä»»ä½•ç‰¹æ®Šç»ˆæ­¢å­—ç¬¦çš„å½±å“ã€‚å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å­˜å‚¨æœ€å¤š 512 å…†å­—èŠ‚çš„å†…å®¹ã€‚ ç¤ºä¾‹ï¼š ä½¿ç”¨ SET å‘½ä»¤åœ¨ name é”®ä¸­å­˜å‚¨å­—ç¬¦ä¸² redis.com.cnï¼Œç„¶åä½¿ç”¨ GET å‘½ä»¤æŸ¥è¯¢ nameã€‚ SET name redis.com.cn OK GET name redis.com.cn åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒSET å’Œ GET æ˜¯ Redis å‘½ä»¤ï¼Œname æ˜¯ Redis ä¸­ä½¿ç”¨çš„ keyï¼Œredis.com.cn æ˜¯å­˜å‚¨åœ¨ Redis ä¸­çš„å­—ç¬¦ä¸²å€¼ã€‚ å“ˆå¸Œå“ˆå¸Œæ˜¯é”®å€¼å¯¹çš„é›†åˆã€‚åœ¨ Redis ä¸­ï¼Œå“ˆå¸Œæ˜¯å­—ç¬¦ä¸²å­—æ®µå’Œå­—ç¬¦ä¸²å€¼ä¹‹é—´çš„æ˜ å°„ã€‚å› æ­¤ï¼Œå®ƒä»¬é€‚åˆè¡¨ç¤ºå¯¹è±¡ã€‚ ç¤ºä¾‹ï¼š è®©æˆ‘ä»¬å­˜å‚¨ä¸€ä¸ªç”¨æˆ·çš„å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ã€‚ HMSET user:1 username ajeet password redis alexa 2000 OK HGETALL user:1 username ajeet password redis alexa 2000 è¿™é‡Œï¼ŒHMSET å’Œ HGETALL æ˜¯ Redis çš„å‘½ä»¤ï¼Œè€Œ userï¼š1 æ˜¯é”®ã€‚ æ¯ä¸ªå“ˆå¸Œå¯ä»¥å­˜å‚¨å¤šè¾¾ 232 - 1 ä¸ªé”®-å€¼å¯¹ã€‚ åˆ—è¡¨Redis åˆ—è¡¨å®šä¹‰ä¸ºå­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰æ’å…¥é¡ºåºæ’åºã€‚å¯ä»¥å°†å…ƒç´ æ·»åŠ åˆ° Redis åˆ—è¡¨çš„å¤´éƒ¨æˆ–å°¾éƒ¨ã€‚ ç¤ºä¾‹ï¼š lpush rediscomcn java (integer) 1 lpush rediscomcn sql (integer) 1 lpush rediscomcn mongodb (integer) 1 lpush rediscomcn cassandra (integer) 1 lrange rediscomcn 0 10 cassandra mongodb sql java åˆ—è¡¨çš„æœ€å¤§é•¿åº¦ä¸º 232 â€“ 1 ä¸ªå…ƒç´ ï¼ˆè¶…è¿‡ 40 äº¿ä¸ªå…ƒç´ ï¼‰ã€‚ é›†åˆé›†åˆï¼ˆsetï¼‰æ˜¯ Redis æ•°æ®åº“ä¸­çš„æ— åºå­—ç¬¦ä¸²é›†åˆã€‚åœ¨ Redis ä¸­ï¼Œæ·»åŠ ï¼Œåˆ é™¤å’ŒæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚ ç¤ºä¾‹ï¼š sadd tutoriallist redis (integer) 1 redis 127.0.0.1:6379 sadd tutoriallist sql (integer) 1 redis 127.0.0.1:6379 sadd tutoriallist postgresql (integer) 1 redis 127.0.0.1:6379 sadd tutoriallist postgresql (integer) 0 redis 127.0.0.1:6379 sadd tutoriallist postgresql (integer) 0 redis 127.0.0.1:6379 smembers tutoriallist 1) redis 2) postgresql 3) sql åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ° postgresql è¢«æ·»åŠ äº†ä¸‰æ¬¡ï¼Œä½†ç”±äºè¯¥é›†çš„å”¯ä¸€å±æ€§ï¼Œå®ƒåªæ·»åŠ ä¸€æ¬¡ã€‚ é›†åˆä¸­çš„æœ€å¤§æˆå‘˜æ•°ä¸º 232 -1 ä¸ªå…ƒç´ ï¼ˆè¶…è¿‡ 40 äº¿ä¸ªå…ƒç´ ï¼‰ã€‚ æœ‰åºé›†åˆRedis æœ‰åºé›†åˆç±»ä¼¼äº Redis é›†åˆï¼Œä¹Ÿæ˜¯ä¸€ç»„éé‡å¤çš„å­—ç¬¦ä¸²é›†åˆã€‚ä½†æ˜¯ï¼Œæ’åºé›†çš„æ¯ä¸ªæˆå‘˜éƒ½ä¸ä¸€ä¸ªåˆ†æ•°ç›¸å…³è”ï¼Œè¯¥åˆ†æ•°ç”¨äºè·å–ä»æœ€å°åˆ°æœ€é«˜åˆ†æ•°çš„æœ‰åºæ’åºé›†ã€‚è™½ç„¶æˆå‘˜æ˜¯ç‹¬ç‰¹çš„ï¼Œä½†å¯ä»¥é‡å¤åˆ†æ•°ã€‚ ç¤ºä¾‹ï¼š redis 127.0.0.1:6379 zadd tutoriallist 0 redis (integer) 1 redis 127.0.0.1:6379 zadd tutoriallist 0 sql (integer) 1 redis 127.0.0.1:6379 zadd tutoriallist 0 postgresql (integer) 1 redis 127.0.0.1:6379 zadd tutoriallist 0 postgresql (integer) 0 redis 127.0.0.1:6379 zadd tutoriallist 0 postgresql (integer) 0 redis 127.0.0.1:6379 ZRANGEBYSCORE tutoriallist 0 10 1) postgresql 2) redis 3) sql ä½å›¾Redis Bitmap é€šè¿‡ç±»ä¼¼ map ç»“æ„å­˜æ”¾ 0 æˆ– 1 ( bit ä½ ) ä½œä¸ºå€¼ã€‚ Redis Bitmap å¯ä»¥ç”¨æ¥ç»Ÿè®¡çŠ¶æ€ï¼Œå¦‚æ—¥æ´»æ˜¯å¦æµè§ˆè¿‡æŸä¸ªä¸œè¥¿ã€‚ Redis setbit å‘½ä»¤Redis setbit å‘½ä»¤ç”¨äºè®¾ç½®æˆ–è€…æ¸…é™¤ä¸€ä¸ª bit ä½ã€‚ *Redis setbit å‘½ä»¤è¯­æ³•æ ¼å¼SETBIT key offset value *èŒƒä¾‹127.0.0.1:6379 setbit aaa:001 10001 1 # è¿”å›æ“ä½œä¹‹å‰çš„æ•°å€¼(integer) 0127.0.0.1:6379 setbit aaa:001 10002 2 # å¦‚æœå€¼ä¸æ˜¯0æˆ–1å°±æŠ¥é”™(error) ERR bit is not an integer or out of range127.0.0.1:6379 setbit aaa:001 10002 0(integer) 0127.0.0.1:6379 setbit aaa:001 10003 1(integer) 0 åŸºæ•°ç»Ÿè®¡Redis HyperLogLog å¯ä»¥æ¥å—å¤šä¸ªå…ƒç´ ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç»™å‡ºè¾“å…¥å…ƒç´ çš„åŸºæ•°ä¼°ç®—å€¼ åŸºæ•° é›†åˆä¸­ä¸åŒå…ƒç´ çš„æ•°é‡ï¼Œæ¯”å¦‚ {â€˜appleâ€™, â€˜bananaâ€™, â€˜cherryâ€™, â€˜bananaâ€™, â€˜appleâ€™} çš„åŸºæ•°å°±æ˜¯ 3 ä¼°ç®—å€¼ ç®—æ³•ç»™å‡ºçš„åŸºæ•°å¹¶ä¸æ˜¯ç²¾ç¡®çš„ï¼Œå¯èƒ½ä¼šæ¯”å®é™…ç¨å¾®å¤šä¸€äº›æˆ–è€…ç¨å¾®å°‘ä¸€äº›ï¼Œä½†ä¼šæ§åˆ¶åœ¨åˆ ç†çš„èŒƒå›´ä¹‹å†… HyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼šå³ä½¿è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®šçš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚ åœ¨ Redis é‡Œé¢ï¼Œæ¯ä¸ª HyperLogLog é”®åªéœ€è¦èŠ±è´¹ 12 KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 264 ä¸ªä¸åŒå…ƒç´ çš„åŸºæ•°ã€‚ è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚ å› ä¸º HyperLogLog åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«ï¼Œæ‰€ä»¥ HyperLogLog ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ ã€‚ Redis PFADD å‘½ä»¤Redis PFADD å‘½ä»¤å°†å…ƒç´ æ·»åŠ è‡³ HyperLogLog *Redis PFADD å‘½ä»¤è¯­æ³•æ ¼å¼PFADD key element [element ...] *èŒƒä¾‹127.0.0.1:6379 PFADD unique::ip::counter 192.168.0.1(integer) 1127.0.0.1:6379 PFADD unique::ip::counter 127.0.0.1(integer) 1127.0.0.1:6379 PFADD unique::ip::counter 255.255.255.255(integer) 1127.0.0.1:6379 PFCOUNT unique::ip::counter(integer) 3"},{"title":"Redis å‘½ä»¤","path":"/wiki/redis/commands.html","content":"Redis å‘½ä»¤Redis å‘½ä»¤ç”¨äºåœ¨ redis æœåŠ¡ä¸Šæ‰§è¡Œæ“ä½œã€‚ è¦åœ¨ redis æœåŠ¡ä¸Šæ‰§è¡Œå‘½ä»¤éœ€è¦ä¸€ä¸ª redis å®¢æˆ·ç«¯ã€‚Redis å®¢æˆ·ç«¯åœ¨æˆ‘ä»¬ä¹‹å‰ä¸‹è½½çš„ redis å®‰è£…åŒ…ä¸­ã€‚ è¯­æ³•Redis å®¢æˆ·ç«¯çš„åŸºæœ¬è¯­æ³•ä¸ºï¼š $ redis-cli å®ä¾‹ä»¥ä¸‹å®ä¾‹è®²è§£äº†å¦‚ä½•å¯åŠ¨ redis å®¢æˆ·ç«¯ï¼š å¯åŠ¨ redis å®¢æˆ·ç«¯ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥å‘½ä»¤ redis-cliã€‚è¯¥å‘½ä»¤ä¼šè¿æ¥æœ¬åœ°çš„ redis æœåŠ¡ã€‚ $redis-cliredis 127.0.0.1:6379redis 127.0.0.1:6379 PINGPONG åœ¨ä»¥ä¸Šå®ä¾‹ä¸­æˆ‘ä»¬è¿æ¥åˆ°æœ¬åœ°çš„ redis æœåŠ¡å¹¶æ‰§è¡Œ PING å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ç”¨äºæ£€æµ‹ redis æœåŠ¡æ˜¯å¦å¯åŠ¨ã€‚ åœ¨è¿œç¨‹æœåŠ¡ä¸Šæ‰§è¡Œå‘½ä»¤å¦‚æœéœ€è¦åœ¨è¿œç¨‹ redis æœåŠ¡ä¸Šæ‰§è¡Œå‘½ä»¤ï¼ŒåŒæ ·æˆ‘ä»¬ä½¿ç”¨çš„ä¹Ÿæ˜¯ redis-cli å‘½ä»¤ã€‚ è¯­æ³•$ redis-cli -h host -p port -a password å®ä¾‹ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•è¿æ¥åˆ°ä¸»æœºä¸º 127.0.0.1ï¼Œç«¯å£ä¸º 6379 ï¼Œå¯†ç ä¸º mypass çš„ redis æœåŠ¡ä¸Šã€‚ $redis-cli -h 127.0.0.1 -p 6379 -a mypassredis 127.0.0.1:6379redis 127.0.0.1:6379 PINGPONG"},{"title":"Redis å“ˆå¸Œ","path":"/wiki/redis/hashes.html","content":"Redis å“ˆå¸Œ ( Hashes )Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚ æ¯ä¸ªå“ˆå¸Œé”®ä¸­å¯ä»¥å­˜å‚¨å¤šè¾¾ 40 äº¿ä¸ªå­—æ®µå€¼å¯¹ã€‚ ä¾‹127.0.0.1:6379 HMSET mysite name redis url https://redis.com.cn rank 1 visitors 240000000OK127.0.0.1:6379 HGETALL mysite 1) name2) mysite3) url4) https://redis.com.cn5) rank6) 17) visitors8) 230000000 åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œmysite æ˜¯ Redis å“ˆå¸Œåˆ—è¡¨ï¼Œå®ƒåŒ…å«è¯¦ç»†ä¿¡æ¯ï¼ˆnameï¼Œurlï¼Œrankï¼Œvisitorsï¼‰å±æ€§ã€‚ Rediså“ˆå¸Œå‘½ä»¤ å‘½ä»¤ æè¿° HDEL åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå“ˆå¸Œè¡¨å­—æ®µ HEXISTS æŸ¥çœ‹å“ˆå¸Œè¡¨ key ä¸­ï¼ŒæŒ‡å®šçš„å­—æ®µæ˜¯å¦å­˜åœ¨ HGET è·å–å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®šå­—æ®µçš„å€¼ HGETALL è·å–åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®š key çš„æ‰€æœ‰å­—æ®µå’Œå€¼ HINCRBY ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æ•´æ•°å€¼åŠ ä¸Šå¢é‡ increment HINCRBYFLOAT ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æµ®ç‚¹æ•°å€¼åŠ ä¸Šå¢é‡ increment HKEYS è·å–æ‰€æœ‰å“ˆå¸Œè¡¨ä¸­çš„å­—æ®µ HLEN è·å–å“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡ HMGET è·å–æ‰€æœ‰ç»™å®šå­—æ®µçš„å€¼ HMSET åŒæ—¶å°†å¤šä¸ª field-value (åŸŸ-å€¼)å¯¹è®¾ç½®åˆ°å“ˆå¸Œè¡¨ key ä¸­ HSET å°†å“ˆå¸Œè¡¨ key ä¸­çš„å­—æ®µ field çš„å€¼è®¾ä¸º value HSETNX åªæœ‰åœ¨å­—æ®µ field ä¸å­˜åœ¨æ—¶ï¼Œè®¾ç½®å“ˆå¸Œè¡¨å­—æ®µçš„å€¼ HVALS è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰å€¼ HSCAN è¿­ä»£å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹ HSTRLEN è¿”å›å“ˆå¸Œè¡¨ key ä¸­ï¼Œ ä¸ç»™å®šåŸŸ field ç›¸å…³è”çš„å€¼çš„å­—ç¬¦ä¸²é•¿åº¦"},{"title":"Redis é”®","path":"/wiki/redis/keys.html","content":"Redis é”®(key)Redis key ä½œä¸ºå‚æ•°ä¸ Redis å‘½ä»¤é…åˆä½¿ç”¨ã€‚ Redis é”®çš„ç±»å‹, redisæ˜¯key-valueçš„æ•°æ®ï¼Œæ‰€ä»¥æ¯ä¸ªæ•°æ®éƒ½æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²ã€‚ è¯­æ³•ï¼š redis 127.0.0.1:6379 COMMAND KEY_NAME ä¾‹ è®©æˆ‘ä»¬ä»¥ Redis DEL å‘½ä»¤ä¸ºä¾‹ã€‚å¦‚æœé”®è¢«åˆ é™¤ï¼Œå®ƒå°†ç»™å‡ºè¾“å‡º 1ï¼Œå¦åˆ™å®ƒå°†ä¸º 0ã€‚ redis 127.0.0.1:6379 SET mykey redis.com.cn OK redis 127.0.0.1:6379 DEL mykey (integer) 1 è¿™é‡Œï¼ŒDEL æ˜¯ Redis å‘½ä»¤ï¼Œè€Œ mykey æ˜¯é”®ã€‚ Redis keys å‘½ä»¤ä¸‹è¡¨åˆ—å‡ºäº† Redis é”®ç›¸å…³çš„å‘½ä»¤: å‘½ä»¤ æè¿° DEL ç”¨äºåˆ é™¤ key DUMP åºåˆ—åŒ–ç»™å®š key ï¼Œå¹¶è¿”å›è¢«åºåˆ—åŒ–çš„å€¼ EXISTS æ£€æŸ¥ç»™å®š key æ˜¯å¦å­˜åœ¨ EXPIRE ä¸ºç»™å®š key è®¾ç½®è¿‡æœŸæ—¶é—´ EXPIREAT ç”¨äºä¸º key è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ¥å—çš„æ—¶é—´å‚æ•°æ˜¯ UNIX æ—¶é—´æˆ³ PEXPIRE è®¾ç½® key çš„è¿‡æœŸæ—¶é—´ï¼Œä»¥æ¯«ç§’è®¡ PEXPIREAT è®¾ç½® key è¿‡æœŸæ—¶é—´çš„æ—¶é—´æˆ³(unix timestamp)ï¼Œä»¥æ¯«ç§’è®¡ KEYS æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆç»™å®šæ¨¡å¼çš„ key MOVE å°†å½“å‰æ•°æ®åº“çš„ key ç§»åŠ¨åˆ°ç»™å®šçš„æ•°æ®åº“ä¸­ PERSIST ç§»é™¤ key çš„è¿‡æœŸæ—¶é—´ï¼Œkey å°†æŒä¹…ä¿æŒ PTTL ä»¥æ¯«ç§’ä¸ºå•ä½è¿”å› key çš„å‰©ä½™çš„è¿‡æœŸæ—¶é—´ TTL ä»¥ç§’ä¸ºå•ä½ï¼Œè¿”å›ç»™å®š key çš„å‰©ä½™ç”Ÿå­˜æ—¶é—´( RANDOMKEY ä»å½“å‰æ•°æ®åº“ä¸­éšæœºè¿”å›ä¸€ä¸ª key RENAME ä¿®æ”¹ key çš„åç§° RENAMENX ä»…å½“ newkey ä¸å­˜åœ¨æ—¶ï¼Œå°† key æ”¹åä¸º newkey TYPE è¿”å› key æ‰€å‚¨å­˜çš„å€¼çš„ç±»å‹"},{"title":"Redis åˆ—è¡¨","path":"/wiki/redis/lists.html","content":"Redis åˆ—è¡¨ ( Lists )Redis åˆ—è¡¨æ˜¯æŒ‰æ’å…¥é¡ºåºæ’åºçš„å­—ç¬¦ä¸²åˆ—è¡¨ã€‚å¯ä»¥åœ¨åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰æ·»åŠ å…ƒç´ ã€‚ åˆ—è¡¨å¯ä»¥åŒ…å«è¶…è¿‡ 40 äº¿ ä¸ªå…ƒç´  ( 232 - 1 )ã€‚ ä¾‹ ç”¨ LPUSH å‘½ä»¤å°†ä¸‰ä¸ªå€¼æ’å…¥äº†åä¸º language çš„åˆ—è¡¨å½“ä¸­: redis 127.0.0.1:6379 LPUSH rediscomcn sql (integer) 1 redis 127.0.0.1:6379 LPUSH rediscomcn mysql (integer) 2 redis 127.0.0.1:6379 LPUSH rediscomcn cassandra (integer) 3 redis 127.0.0.1:6379 LRANGE rediscomcn 0 10 1) cassandra 2) mysql 3) sql redis 127.0.0.1:6379 Redis åˆ—è¡¨å‘½ä»¤ä¸‹è¡¨åˆ—å‡ºäº†åˆ—è¡¨ç›¸å…³å‘½ä»¤ï¼š å‘½ä»¤ æè¿° BLPOP ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  BRPOP ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´  BRPOPLPUSH ä»åˆ—è¡¨ä¸­å¼¹å‡ºä¸€ä¸ªå€¼ï¼Œå¹¶å°†è¯¥å€¼æ’å…¥åˆ°å¦å¤–ä¸€ä¸ªåˆ—è¡¨ä¸­å¹¶è¿”å›å®ƒ LINDEX é€šè¿‡ç´¢å¼•è·å–åˆ—è¡¨ä¸­çš„å…ƒç´  LINSERT åœ¨åˆ—è¡¨çš„å…ƒç´ å‰æˆ–è€…åæ’å…¥å…ƒç´  LLEN è·å–åˆ—è¡¨é•¿åº¦ LPOP ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  LPUSH å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ’å…¥åˆ°åˆ—è¡¨å¤´éƒ¨ LPUSHX å°†ä¸€ä¸ªå€¼æ’å…¥åˆ°å·²å­˜åœ¨çš„åˆ—è¡¨å¤´éƒ¨ LRANGE è·å–åˆ—è¡¨æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´  LREM ç§»é™¤åˆ—è¡¨å…ƒç´  LSET é€šè¿‡ç´¢å¼•è®¾ç½®åˆ—è¡¨å…ƒç´ çš„å€¼ LTRIM å¯¹ä¸€ä¸ªåˆ—è¡¨è¿›è¡Œä¿®å‰ª(trim) RPOP ç§»é™¤å¹¶è·å–åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´  RPOPLPUSH ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ æ·»åŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨å¹¶è¿”å› RPUSH åœ¨åˆ—è¡¨ä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ RPUSHX ä¸ºå·²å­˜åœ¨çš„åˆ—è¡¨æ·»åŠ å€¼"},{"title":"Redis é”®","path":"/wiki/redis/sets.html","content":"Redis é›†åˆ ( Sets )Redis çš„ Set æ˜¯ string ç±»å‹çš„æ— åºé›†åˆã€‚ é›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œè¿™å°±æ„å‘³ç€é›†åˆä¸­æ²¡æœ‰é‡å¤çš„æ•°æ®ã€‚ åœ¨ Redis ä¸­ï¼Œæ·»åŠ ã€åˆ é™¤å’ŒæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚éƒ½æ˜¯ O(1)ï¼ˆä¸ç®¡ Set ä¸­åŒ…å«å¤šå°‘å…ƒç´ ï¼‰ã€‚ é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 â€“ 1 (4294967295), æ¯ä¸ªé›†åˆå¯å­˜å‚¨ 40 å¤šäº¿ä¸ªæˆå‘˜ã€‚ ä¾‹é€šè¿‡ SADD å‘½ä»¤å‘åä¸º rediscomcn çš„é›†åˆæ’å…¥çš„ä¸‰ä¸ªå…ƒç´ : redis 127.0.0.1:6379 SADD rediscomcn db2 (integer) 1 redis 127.0.0.1:6379 SADD rediscomcn mongodb (integer) 1 redis 127.0.0.1:6379 SADD rediscomcn db2 (integer) 0 redis 127.0.0.1:6379 SADD rediscomcn cassandra (integer) 1 redis 127.0.0.1:6379 SMEMBERS rediscomcn 1) cassandra 2) db2 3) mongodb åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ SADD å‘½ä»¤åœ¨é›†åˆä¸­æ·»åŠ äº† 4 ä¸ªå…ƒç´ ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨ SMEMBERS å‘½ä»¤åªæ£€ç´¢äº† 3 ä¸ªå…ƒç´ ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªå…ƒç´ æ˜¯é‡å¤çš„ï¼ŒRedis åªé›†åˆåªå«å”¯ä¸€å…ƒç´ ã€‚ Redis é›†åˆå‘½ä»¤ä¸‹è¡¨åˆ—å‡ºäº† Redis é›†åˆç›¸å…³å‘½ä»¤ï¼š å‘½ä»¤ æè¿° SADD å‘é›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ SCARD è·å–é›†åˆçš„æˆå‘˜æ•° SDIFF è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„å·®é›† SDIFFSTORE è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„å·®é›†å¹¶å­˜å‚¨åœ¨ destination ä¸­ SINTER è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„äº¤é›† SINTERSTORE è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„äº¤é›†å¹¶å­˜å‚¨åœ¨ destination ä¸­ SISMEMBER åˆ¤æ–­ member å…ƒç´ æ˜¯å¦æ˜¯é›†åˆ key çš„æˆå‘˜ SMEMBERS è¿”å›é›†åˆä¸­çš„æ‰€æœ‰æˆå‘˜ SMOVE å°† member å…ƒç´ ä» source é›†åˆç§»åŠ¨åˆ° destination é›†åˆ SPOP ç§»é™¤å¹¶è¿”å›é›†åˆä¸­çš„ä¸€ä¸ªéšæœºå…ƒç´  SRANDMEMBER è¿”å›é›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªéšæœºæ•° SREM ç§»é™¤é›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ SUNION è¿”å›æ‰€æœ‰ç»™å®šé›†åˆçš„å¹¶é›† SUNIONSTORE æ‰€æœ‰ç»™å®šé›†åˆçš„å¹¶é›†å­˜å‚¨åœ¨ destination é›†åˆä¸­ SSCAN è¿­ä»£é›†åˆä¸­çš„å…ƒç´ "},{"title":"Redis å­—ç¬¦ä¸²","path":"/wiki/redis/strings.html","content":"Redis å­—ç¬¦ä¸² ( Strings )Redis å­—ç¬¦ä¸²å‘½ä»¤ç”¨äºç®¡ç† Redis ä¸­çš„å­—ç¬¦ä¸²å€¼ã€‚ è¯­æ³•ï¼š redis 127.0.0.1:6379 COMMAND KEY_NAME ä¾‹ redis 127.0.0.1:6379 SET mykey redis.com.cn OK redis 127.0.0.1:6379 GET mykey redis.com.cn è¿™é‡Œï¼ŒSET å’Œ GET æ˜¯å‘½ä»¤ï¼Œmykey æ˜¯é”®ã€‚ Redis å­—ç¬¦ä¸²å‘½ä»¤ä»¥ä¸‹æ˜¯ä¸€äº›ç”¨äºåœ¨ Redis ä¸­ç®¡ç†å­—ç¬¦ä¸²çš„åŸºæœ¬å‘½ä»¤çš„åˆ—è¡¨ï¼š å‘½ä»¤ æè¿° SET è®¾ç½®æŒ‡å®š key çš„å€¼ GET è·å–æŒ‡å®š key çš„å€¼ GETRANGE è¿”å› key ä¸­å­—ç¬¦ä¸²å€¼çš„å­å­—ç¬¦ GETSET å°†ç»™å®š key çš„å€¼è®¾ä¸º value ï¼Œå¹¶è¿”å› key çš„æ—§å€¼ ( old value ) GETBIT å¯¹ key æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ï¼Œè·å–æŒ‡å®šåç§»é‡ä¸Šçš„ä½ ( bit ) MGET è·å–æ‰€æœ‰(ä¸€ä¸ªæˆ–å¤šä¸ª)ç»™å®š key çš„å€¼ SETBIT å¯¹ key æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ï¼Œè®¾ç½®æˆ–æ¸…é™¤æŒ‡å®šåç§»é‡ä¸Šçš„ä½(bit) SETEX è®¾ç½® key çš„å€¼ä¸º value åŒæ—¶å°†è¿‡æœŸæ—¶é—´è®¾ä¸º seconds SETNX åªæœ‰åœ¨ key ä¸å­˜åœ¨æ—¶è®¾ç½® key çš„å€¼ SETRANGE ä»åç§»é‡ offset å¼€å§‹ç”¨ value è¦†å†™ç»™å®š key æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ STRLEN è¿”å› key æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼çš„é•¿åº¦ MSET åŒæ—¶è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ª key-value å¯¹ MSETNX åŒæ—¶è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ª key-value å¯¹ PSETEX ä»¥æ¯«ç§’ä¸ºå•ä½è®¾ç½® key çš„ç”Ÿå­˜æ—¶é—´ INCR å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å¢ä¸€ INCRBY å°† key æ‰€å‚¨å­˜çš„å€¼åŠ ä¸Šç»™å®šçš„å¢é‡å€¼ ( increment ) INCRBYFLOAT å°† key æ‰€å‚¨å­˜çš„å€¼åŠ ä¸Šç»™å®šçš„æµ®ç‚¹å¢é‡å€¼ ( increment ) DECR å°† key ä¸­å‚¨å­˜çš„æ•°å­—å€¼å‡ä¸€ DECRBY å°† key æ‰€å‚¨å­˜çš„å€¼å‡å»ç»™å®šçš„å‡é‡å€¼ ( decrement ) APPEND å°† value è¿½åŠ åˆ° key åŸæ¥çš„å€¼çš„æœ«å°¾"}]